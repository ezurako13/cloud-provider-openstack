natsu@BB13338:/mnt/c/Users/stajyer/Desktop/cloud-provider-openstack$ ANSIBLE_CONFIG=./Notes/ansible.cfg ansible-playbook -v \
  --user ubuntu \
  --inventory 10.8.135.112, \
  --ssh-common-args " -o StrictHostKeyChecking=no" \
  tests/playbooks/test-occm-e2e.yaml \
  -e octavia_provider=amphora \
  -e run_e2e=false
Using /mnt/c/Users/stajyer/Desktop/cloud-provider-openstack/Notes/ansible.cfg as config file

PLAY [all] **********************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************************************************
ok: [10.8.135.112]

TASK [install-golang : Check if go has satisfied requirement] *******************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "/usr/local/go/bin/go version |grep -Eo '([0-9]+\\.)+[0-9]+'", "delta": "0:00:00.606320", "end": "2024-10-22 12:00:00.820056", "msg": "", "rc": 0, "start": "2024-10-22 12:00:00.213736", "stderr": "", "stderr_lines": [], "stdout": "1.22.2", "stdout_lines": ["1.22.2"]}

TASK [install-golang : Download the Go tarball] *********************************************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-golang : Remove old installation of Go] ***************************************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-golang : Extract the Go tarball to place] *************************************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-golang : Set golang env vars] *************************************************************************************************************************************************************************************
ok: [10.8.135.112] => {"ansible_facts": {"golang_env": {"GOPATH": "/root", "PATH": "/usr/local/go/bin:/root/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin"}}, "changed": false}

TASK [install-golang : Merge golang env vars into global env] *******************************************************************************************************************************************************************
ok: [10.8.135.112] => {"ansible_facts": {"global_env": {"GOPATH": "/root", "PATH": "/usr/local/go/bin:/root/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin"}}, "changed": false}

TASK [install-devstack : Manage stack group] ************************************************************************************************************************************************************************************
ok: [10.8.135.112] => {"changed": false, "gid": 1001, "name": "stack", "state": "present", "system": false}

TASK [install-devstack : Manage stack user] *************************************************************************************************************************************************************************************
ok: [10.8.135.112] => {"append": false, "changed": false, "comment": "", "group": 1001, "home": "/home/stack", "move_home": false, "name": "stack", "shell": "/bin/bash", "state": "present", "uid": 1001}

TASK [install-devstack : allow stack user to have passwordless sudo] ************************************************************************************************************************************************************
ok: [10.8.135.112] => {"backup": "", "changed": false, "msg": ""}

TASK [install-devstack : Update repositories cache] *****************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"cache_update_time": 1729598408, "cache_updated": true, "changed": true}

TASK [install-devstack : Check if devstack is already installed] ****************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "output=\"not installed\"\nif [ -f /opt/stack/logs/stack.sh.log.summary ]; then\n  grep \"stack.sh completed\" /opt/stack/logs/stack.sh.log.summary > /dev/null 2>&1\n  if [ $? -eq 0 ]; then\n    output=\"installed\"\n  fi\nfi\necho $output\n", "delta": "0:00:00.014138", "end": "2024-10-22 12:00:16.455728", "msg": "", "rc": 0, "start": "2024-10-22 12:00:16.441590", "stderr": "", "stderr_lines": [], "stdout": "installed", "stdout_lines": ["installed"]}

TASK [install-devstack : Install packages] **************************************************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-devstack : Git checkout devstack] *********************************************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-devstack : Retrieve local IP address] *****************************************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-devstack : set_fact] **********************************************************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-devstack : Ensure amphora image dest folder] **********************************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-devstack : Download octavia amphora image] ************************************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-devstack : Prepare local.conf] ************************************************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-devstack : Fix localhost] *****************************************************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-devstack : Change devstack directory owner] ***********************************************************************************************************************************************************************
skipping: [10.8.135.112] => (item=/home/stack/devstack)  => {"ansible_loop_var": "item", "changed": false, "item": "/home/stack/devstack", "skip_reason": "Conditional result was False"}
skipping: [10.8.135.112] => (item=/opt/stack)  => {"ansible_loop_var": "item", "changed": false, "item": "/opt/stack", "skip_reason": "Conditional result was False"}

TASK [install-devstack : Install devstack] **************************************************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-docker : Install packages] ****************************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"cache_update_time": 1729598419, "cache_updated": true, "changed": true, "stderr": "", "stderr_lines": [], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following NEW packages will be installed:\n  apt-transport-https\n0 upgraded, 1 newly installed, 0 to remove and 182 not upgraded.\nNeed to get 1510 B of archives.\nAfter this operation, 170 kB of additional disk space will be used.\nGet:1 http://nova.clouds.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 apt-transport-https all 2.4.13 [1510 B]\nFetched 1510 B in 0s (10.7 kB/s)\nSelecting previously unselected package apt-transport-https.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 117928 files and directories currently installed.)\r\nPreparing to unpack .../apt-transport-https_2.4.13_all.deb ...\r\nUnpacking apt-transport-https (2.4.13) ...\r\nSetting up apt-transport-https (2.4.13) ...\r\nNEEDRESTART-VER: 3.5\nNEEDRESTART-KCUR: 5.15.0-56-generic\nNEEDRESTART-KEXP: 5.15.0-56-generic\nNEEDRESTART-KSTA: 1\nNEEDRESTART-SVC: cron.service\nNEEDRESTART-SVC: dbus.service\nNEEDRESTART-SVC: devstack@c-api.service\nNEEDRESTART-SVC: devstack@c-sch.service\nNEEDRESTART-SVC: devstack@c-vol.service\nNEEDRESTART-SVC: devstack@g-api.service\nNEEDRESTART-SVC: devstack@keystone.service\nNEEDRESTART-SVC: devstack@n-api-meta.service\nNEEDRESTART-SVC: devstack@n-api.service\nNEEDRESTART-SVC: devstack@n-cond-cell1.service\nNEEDRESTART-SVC: devstack@n-cpu.service\nNEEDRESTART-SVC: devstack@n-sch.service\nNEEDRESTART-SVC: devstack@n-super-cond.service\nNEEDRESTART-SVC: devstack@placement-api.service\nNEEDRESTART-SVC: devstack@q-ovn-metadata-agent.service\nNEEDRESTART-SVC: devstack@q-svc.service\nNEEDRESTART-SVC: getty@tty1.service\nNEEDRESTART-SVC: irqbalance.service\nNEEDRESTART-SVC: multipathd.service\nNEEDRESTART-SVC: networkd-dispatcher.service\nNEEDRESTART-SVC: packagekit.service\nNEEDRESTART-SVC: polkit.service\nNEEDRESTART-SVC: serial-getty@ttyS0.service\nNEEDRESTART-SVC: snapd.service\nNEEDRESTART-SVC: systemd-logind.service\nNEEDRESTART-SVC: systemd-manager\nNEEDRESTART-SVC: systemd-udevd.service\nNEEDRESTART-SVC: unattended-upgrades.service\nNEEDRESTART-SVC: user@1000.service\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following NEW packages will be installed:", "  apt-transport-https", "0 upgraded, 1 newly installed, 0 to remove and 182 not upgraded.", "Need to get 1510 B of archives.", "After this operation, 170 kB of additional disk space will be used.", "Get:1 http://nova.clouds.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 apt-transport-https all 2.4.13 [1510 B]", "Fetched 1510 B in 0s (10.7 kB/s)", "Selecting previously unselected package apt-transport-https.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 117928 files and directories currently installed.)", "Preparing to unpack .../apt-transport-https_2.4.13_all.deb ...", "Unpacking apt-transport-https (2.4.13) ...", "Setting up apt-transport-https (2.4.13) ...", "NEEDRESTART-VER: 3.5", "NEEDRESTART-KCUR: 5.15.0-56-generic", "NEEDRESTART-KEXP: 5.15.0-56-generic", "NEEDRESTART-KSTA: 1", "NEEDRESTART-SVC: cron.service", "NEEDRESTART-SVC: dbus.service", "NEEDRESTART-SVC: devstack@c-api.service", "NEEDRESTART-SVC: devstack@c-sch.service", "NEEDRESTART-SVC: devstack@c-vol.service", "NEEDRESTART-SVC: devstack@g-api.service", "NEEDRESTART-SVC: devstack@keystone.service", "NEEDRESTART-SVC: devstack@n-api-meta.service", "NEEDRESTART-SVC: devstack@n-api.service", "NEEDRESTART-SVC: devstack@n-cond-cell1.service", "NEEDRESTART-SVC: devstack@n-cpu.service", "NEEDRESTART-SVC: devstack@n-sch.service", "NEEDRESTART-SVC: devstack@n-super-cond.service", "NEEDRESTART-SVC: devstack@placement-api.service", "NEEDRESTART-SVC: devstack@q-ovn-metadata-agent.service", "NEEDRESTART-SVC: devstack@q-svc.service", "NEEDRESTART-SVC: getty@tty1.service", "NEEDRESTART-SVC: irqbalance.service", "NEEDRESTART-SVC: multipathd.service", "NEEDRESTART-SVC: networkd-dispatcher.service", "NEEDRESTART-SVC: packagekit.service", "NEEDRESTART-SVC: polkit.service", "NEEDRESTART-SVC: serial-getty@ttyS0.service", "NEEDRESTART-SVC: snapd.service", "NEEDRESTART-SVC: systemd-logind.service", "NEEDRESTART-SVC: systemd-manager", "NEEDRESTART-SVC: systemd-udevd.service", "NEEDRESTART-SVC: unattended-upgrades.service", "NEEDRESTART-SVC: user@1000.service"]}

TASK [install-docker : Add Docker's official GPG key] ***************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"after": ["8D81803C0EBFCD88", "7EA0A9C3F273FCD8", "D94AA3F0EFE21092", "871920D1991BC93C"], "before": ["D94AA3F0EFE21092", "871920D1991BC93C"], "changed": true, "fp": "8D81803C0EBFCD88", "id": "8D81803C0EBFCD88", "key_id": "8D81803C0EBFCD88", "short_id": "0EBFCD88"}

TASK [install-docker : Set up the stable repository] ****************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "repo": "deb https://download.docker.com/linux/ubuntu jammy stable", "state": "present"}

TASK [install-docker : Install docker-ce] ***************************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"cache_update_time": 1729598449, "cache_updated": true, "changed": true, "stderr": "", "stderr_lines": [], "stdout": "Reading package lists...\nBuilding dependency tree...\nReading state information...\nThe following additional packages will be installed:\n  containerd.io docker-buildx-plugin docker-ce-cli docker-ce-rootless-extras\n  docker-compose-plugin pigz slirp4netns\nSuggested packages:\n  aufs-tools cgroupfs-mount | cgroup-lite\nThe following NEW packages will be installed:\n  containerd.io docker-buildx-plugin docker-ce docker-ce-cli\n  docker-ce-rootless-extras docker-compose-plugin pigz slirp4netns\n0 upgraded, 8 newly installed, 0 to remove and 182 not upgraded.\nNeed to get 123 MB of archives.\nAfter this operation, 441 MB of additional disk space will be used.\nGet:1 https://download.docker.com/linux/ubuntu jammy/stable amd64 containerd.io amd64 1.7.22-1 [29.5 MB]\nGet:2 http://nova.clouds.archive.ubuntu.com/ubuntu jammy/universe amd64 pigz amd64 2.6-1 [63.6 kB]\nGet:3 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-buildx-plugin amd64 0.17.1-1~ubuntu.22.04~jammy [30.3 MB]\nGet:4 http://nova.clouds.archive.ubuntu.com/ubuntu jammy/universe amd64 slirp4netns amd64 1.0.1-2 [28.2 kB]\nGet:5 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-ce-cli amd64 5:27.3.1-1~ubuntu.22.04~jammy [15.0 MB]\nGet:6 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-ce amd64 5:27.3.1-1~ubuntu.22.04~jammy [25.6 MB]\nGet:7 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-ce-rootless-extras amd64 5:27.3.1-1~ubuntu.22.04~jammy [9589 kB]\nGet:8 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-compose-plugin amd64 2.29.7-1~ubuntu.22.04~jammy [12.7 MB]\nFetched 123 MB in 2s (68.2 MB/s)\nSelecting previously unselected package pigz.\r\n(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 117932 files and directories currently installed.)\r\nPreparing to unpack .../0-pigz_2.6-1_amd64.deb ...\r\nUnpacking pigz (2.6-1) ...\r\nSelecting previously unselected package containerd.io.\r\nPreparing to unpack .../1-containerd.io_1.7.22-1_amd64.deb ...\r\nUnpacking containerd.io (1.7.22-1) ...\r\nSelecting previously unselected package docker-buildx-plugin.\r\nPreparing to unpack .../2-docker-buildx-plugin_0.17.1-1~ubuntu.22.04~jammy_amd64.deb ...\r\nUnpacking docker-buildx-plugin (0.17.1-1~ubuntu.22.04~jammy) ...\r\nSelecting previously unselected package docker-ce-cli.\r\nPreparing to unpack .../3-docker-ce-cli_5%3a27.3.1-1~ubuntu.22.04~jammy_amd64.deb ...\r\nUnpacking docker-ce-cli (5:27.3.1-1~ubuntu.22.04~jammy) ...\r\nSelecting previously unselected package docker-ce.\r\nPreparing to unpack .../4-docker-ce_5%3a27.3.1-1~ubuntu.22.04~jammy_amd64.deb ...\r\nUnpacking docker-ce (5:27.3.1-1~ubuntu.22.04~jammy) ...\r\nSelecting previously unselected package docker-ce-rootless-extras.\r\nPreparing to unpack .../5-docker-ce-rootless-extras_5%3a27.3.1-1~ubuntu.22.04~jammy_amd64.deb ...\r\nUnpacking docker-ce-rootless-extras (5:27.3.1-1~ubuntu.22.04~jammy) ...\r\nSelecting previously unselected package docker-compose-plugin.\r\nPreparing to unpack .../6-docker-compose-plugin_2.29.7-1~ubuntu.22.04~jammy_amd64.deb ...\r\nUnpacking docker-compose-plugin (2.29.7-1~ubuntu.22.04~jammy) ...\r\nSelecting previously unselected package slirp4netns.\r\nPreparing to unpack .../7-slirp4netns_1.0.1-2_amd64.deb ...\r\nUnpacking slirp4netns (1.0.1-2) ...\r\nSetting up slirp4netns (1.0.1-2) ...\r\nSetting up docker-buildx-plugin (0.17.1-1~ubuntu.22.04~jammy) ...\r\nSetting up containerd.io (1.7.22-1) ...\r\nCreated symlink /etc/systemd/system/multi-user.target.wants/containerd.service → /lib/systemd/system/containerd.service.\r\nSetting up docker-compose-plugin (2.29.7-1~ubuntu.22.04~jammy) ...\r\nSetting up docker-ce-cli (5:27.3.1-1~ubuntu.22.04~jammy) ...\r\nSetting up pigz (2.6-1) ...\r\nSetting up docker-ce-rootless-extras (5:27.3.1-1~ubuntu.22.04~jammy) ...\r\nSetting up docker-ce (5:27.3.1-1~ubuntu.22.04~jammy) ...\r\nCreated symlink /etc/systemd/system/multi-user.target.wants/docker.service → /lib/systemd/system/docker.service.\r\nCreated symlink /etc/systemd/system/sockets.target.wants/docker.socket → /lib/systemd/system/docker.socket.\r\nProcessing triggers for man-db (2.10.2-1) ...\r\nNEEDRESTART-VER: 3.5\nNEEDRESTART-KCUR: 5.15.0-56-generic\nNEEDRESTART-KEXP: 5.15.0-56-generic\nNEEDRESTART-KSTA: 1\nNEEDRESTART-SVC: cron.service\nNEEDRESTART-SVC: dbus.service\nNEEDRESTART-SVC: devstack@c-api.service\nNEEDRESTART-SVC: devstack@c-sch.service\nNEEDRESTART-SVC: devstack@c-vol.service\nNEEDRESTART-SVC: devstack@g-api.service\nNEEDRESTART-SVC: devstack@keystone.service\nNEEDRESTART-SVC: devstack@n-api-meta.service\nNEEDRESTART-SVC: devstack@n-api.service\nNEEDRESTART-SVC: devstack@n-cond-cell1.service\nNEEDRESTART-SVC: devstack@n-cpu.service\nNEEDRESTART-SVC: devstack@n-sch.service\nNEEDRESTART-SVC: devstack@n-super-cond.service\nNEEDRESTART-SVC: devstack@placement-api.service\nNEEDRESTART-SVC: devstack@q-ovn-metadata-agent.service\nNEEDRESTART-SVC: devstack@q-svc.service\nNEEDRESTART-SVC: getty@tty1.service\nNEEDRESTART-SVC: irqbalance.service\nNEEDRESTART-SVC: multipathd.service\nNEEDRESTART-SVC: networkd-dispatcher.service\nNEEDRESTART-SVC: packagekit.service\nNEEDRESTART-SVC: polkit.service\nNEEDRESTART-SVC: serial-getty@ttyS0.service\nNEEDRESTART-SVC: snapd.service\nNEEDRESTART-SVC: systemd-logind.service\nNEEDRESTART-SVC: systemd-manager\nNEEDRESTART-SVC: systemd-udevd.service\nNEEDRESTART-SVC: unattended-upgrades.service\nNEEDRESTART-SVC: user@1000.service\n", "stdout_lines": ["Reading package lists...", "Building dependency tree...", "Reading state information...", "The following additional packages will be installed:", "  containerd.io docker-buildx-plugin docker-ce-cli docker-ce-rootless-extras", "  docker-compose-plugin pigz slirp4netns", "Suggested packages:", "  aufs-tools cgroupfs-mount | cgroup-lite", "The following NEW packages will be installed:", "  containerd.io docker-buildx-plugin docker-ce docker-ce-cli", "  docker-ce-rootless-extras docker-compose-plugin pigz slirp4netns", "0 upgraded, 8 newly installed, 0 to remove and 182 not upgraded.", "Need to get 123 MB of archives.", "After this operation, 441 MB of additional disk space will be used.", "Get:1 https://download.docker.com/linux/ubuntu jammy/stable amd64 containerd.io amd64 1.7.22-1 [29.5 MB]", "Get:2 http://nova.clouds.archive.ubuntu.com/ubuntu jammy/universe amd64 pigz amd64 2.6-1 [63.6 kB]", "Get:3 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-buildx-plugin amd64 0.17.1-1~ubuntu.22.04~jammy [30.3 MB]", "Get:4 http://nova.clouds.archive.ubuntu.com/ubuntu jammy/universe amd64 slirp4netns amd64 1.0.1-2 [28.2 kB]", "Get:5 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-ce-cli amd64 5:27.3.1-1~ubuntu.22.04~jammy [15.0 MB]", "Get:6 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-ce amd64 5:27.3.1-1~ubuntu.22.04~jammy [25.6 MB]", "Get:7 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-ce-rootless-extras amd64 5:27.3.1-1~ubuntu.22.04~jammy [9589 kB]", "Get:8 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-compose-plugin amd64 2.29.7-1~ubuntu.22.04~jammy [12.7 MB]", "Fetched 123 MB in 2s (68.2 MB/s)", "Selecting previously unselected package pigz.", "(Reading database ... ", "(Reading database ... 5%", "(Reading database ... 10%", "(Reading database ... 15%", "(Reading database ... 20%", "(Reading database ... 25%", "(Reading database ... 30%", "(Reading database ... 35%", "(Reading database ... 40%", "(Reading database ... 45%", "(Reading database ... 50%", "(Reading database ... 55%", "(Reading database ... 60%", "(Reading database ... 65%", "(Reading database ... 70%", "(Reading database ... 75%", "(Reading database ... 80%", "(Reading database ... 85%", "(Reading database ... 90%", "(Reading database ... 95%", "(Reading database ... 100%", "(Reading database ... 117932 files and directories currently installed.)", "Preparing to unpack .../0-pigz_2.6-1_amd64.deb ...", "Unpacking pigz (2.6-1) ...", "Selecting previously unselected package containerd.io.", "Preparing to unpack .../1-containerd.io_1.7.22-1_amd64.deb ...", "Unpacking containerd.io (1.7.22-1) ...", "Selecting previously unselected package docker-buildx-plugin.", "Preparing to unpack .../2-docker-buildx-plugin_0.17.1-1~ubuntu.22.04~jammy_amd64.deb ...", "Unpacking docker-buildx-plugin (0.17.1-1~ubuntu.22.04~jammy) ...", "Selecting previously unselected package docker-ce-cli.", "Preparing to unpack .../3-docker-ce-cli_5%3a27.3.1-1~ubuntu.22.04~jammy_amd64.deb ...", "Unpacking docker-ce-cli (5:27.3.1-1~ubuntu.22.04~jammy) ...", "Selecting previously unselected package docker-ce.", "Preparing to unpack .../4-docker-ce_5%3a27.3.1-1~ubuntu.22.04~jammy_amd64.deb ...", "Unpacking docker-ce (5:27.3.1-1~ubuntu.22.04~jammy) ...", "Selecting previously unselected package docker-ce-rootless-extras.", "Preparing to unpack .../5-docker-ce-rootless-extras_5%3a27.3.1-1~ubuntu.22.04~jammy_amd64.deb ...", "Unpacking docker-ce-rootless-extras (5:27.3.1-1~ubuntu.22.04~jammy) ...", "Selecting previously unselected package docker-compose-plugin.", "Preparing to unpack .../6-docker-compose-plugin_2.29.7-1~ubuntu.22.04~jammy_amd64.deb ...", "Unpacking docker-compose-plugin (2.29.7-1~ubuntu.22.04~jammy) ...", "Selecting previously unselected package slirp4netns.", "Preparing to unpack .../7-slirp4netns_1.0.1-2_amd64.deb ...", "Unpacking slirp4netns (1.0.1-2) ...", "Setting up slirp4netns (1.0.1-2) ...", "Setting up docker-buildx-plugin (0.17.1-1~ubuntu.22.04~jammy) ...", "Setting up containerd.io (1.7.22-1) ...", "Created symlink /etc/systemd/system/multi-user.target.wants/containerd.service → /lib/systemd/system/containerd.service.", "Setting up docker-compose-plugin (2.29.7-1~ubuntu.22.04~jammy) ...", "Setting up docker-ce-cli (5:27.3.1-1~ubuntu.22.04~jammy) ...", "Setting up pigz (2.6-1) ...", "Setting up docker-ce-rootless-extras (5:27.3.1-1~ubuntu.22.04~jammy) ...", "Setting up docker-ce (5:27.3.1-1~ubuntu.22.04~jammy) ...", "Created symlink /etc/systemd/system/multi-user.target.wants/docker.service → /lib/systemd/system/docker.service.", "Created symlink /etc/systemd/system/sockets.target.wants/docker.socket → /lib/systemd/system/docker.socket.", "Processing triggers for man-db (2.10.2-1) ...", "NEEDRESTART-VER: 3.5", "NEEDRESTART-KCUR: 5.15.0-56-generic", "NEEDRESTART-KEXP: 5.15.0-56-generic", "NEEDRESTART-KSTA: 1", "NEEDRESTART-SVC: cron.service", "NEEDRESTART-SVC: dbus.service", "NEEDRESTART-SVC: devstack@c-api.service", "NEEDRESTART-SVC: devstack@c-sch.service", "NEEDRESTART-SVC: devstack@c-vol.service", "NEEDRESTART-SVC: devstack@g-api.service", "NEEDRESTART-SVC: devstack@keystone.service", "NEEDRESTART-SVC: devstack@n-api-meta.service", "NEEDRESTART-SVC: devstack@n-api.service", "NEEDRESTART-SVC: devstack@n-cond-cell1.service", "NEEDRESTART-SVC: devstack@n-cpu.service", "NEEDRESTART-SVC: devstack@n-sch.service", "NEEDRESTART-SVC: devstack@n-super-cond.service", "NEEDRESTART-SVC: devstack@placement-api.service", "NEEDRESTART-SVC: devstack@q-ovn-metadata-agent.service", "NEEDRESTART-SVC: devstack@q-svc.service", "NEEDRESTART-SVC: getty@tty1.service", "NEEDRESTART-SVC: irqbalance.service", "NEEDRESTART-SVC: multipathd.service", "NEEDRESTART-SVC: networkd-dispatcher.service", "NEEDRESTART-SVC: packagekit.service", "NEEDRESTART-SVC: polkit.service", "NEEDRESTART-SVC: serial-getty@ttyS0.service", "NEEDRESTART-SVC: snapd.service", "NEEDRESTART-SVC: systemd-logind.service", "NEEDRESTART-SVC: systemd-manager", "NEEDRESTART-SVC: systemd-udevd.service", "NEEDRESTART-SVC: unattended-upgrades.service", "NEEDRESTART-SVC: user@1000.service"]}

TASK [install-docker : Config docker] *******************************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "checksum": "ef20e78754e66361576b663d25212256548e993a", "dest": "/etc/docker/daemon.json", "gid": 0, "group": "root", "md5sum": "8b516e703af88260b3890ebf72da965e", "mode": "0644", "owner": "root", "size": 155, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1729598688.5758915-56494-253622190077004/source", "state": "file", "uid": 0}

TASK [install-docker-registry : Ensure cert folder] *****************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/root/certs", "size": 4096, "state": "directory", "uid": 0}

TASK [install-docker-registry : Ensure cfssl is installed] **********************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "_=$(command -v cfssl)\nif [[ \"$?\" != \"0\" ]]; then\n  curl -SL https://github.com/cloudflare/cfssl/releases/download/v1.6.0/cfssl_1.6.0_linux_amd64 -o /usr/local/bin/cfssl\n  chmod +x /usr/local/bin/cfssl\n  curl -SL https://github.com/cloudflare/cfssl/releases/download/v1.6.0/cfssljson_1.6.0_linux_amd64 -o /usr/local/bin/cfssljson\n  chmod +x /usr/local/bin/cfssljson\n  curl -SL https://github.com/cloudflare/cfssl/releases/download/v1.6.0/cfssl-certinfo_1.6.0_linux_amd64 -o /usr/local/bin/cfssl-certinfo\n  chmod +x /usr/local/bin/cfssl-certinfo\nfi\n", "delta": "0:00:03.934358", "end": "2024-10-22 12:01:24.552198", "msg": "", "rc": 0, "start": "2024-10-22 12:01:20.617840", "stderr": "  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100 15.6M  100 15.6M    0     0  10.8M      0  0:00:01  0:00:01 --:--:-- 15.9M\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\n\r 96 10.3M   96 10.0M    0     0  10.0M      0  0:00:01 --:--:--  0:00:01 10.0M\r100 10.3M  100 10.3M    0     0  10.3M      0  0:00:01  0:00:01 --:--:-- 77.5M\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\n\r  0 12.6M    0  8011    0     0   7645      0  0:28:52  0:00:01  0:28:51  7645\r100 12.6M  100 12.6M    0     0  9163k      0  0:00:01  0:00:01 --:--:-- 34.7M", "stderr_lines": ["  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current", "                                 Dload  Upload   Total   Spent    Left  Speed", "", "  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0", "  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0", "", "  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0", "100 15.6M  100 15.6M    0     0  10.8M      0  0:00:01  0:00:01 --:--:-- 15.9M", "  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current", "                                 Dload  Upload   Total   Spent    Left  Speed", "", "  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0", "  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0", "", " 96 10.3M   96 10.0M    0     0  10.0M      0  0:00:01 --:--:--  0:00:01 10.0M", "100 10.3M  100 10.3M    0     0  10.3M      0  0:00:01  0:00:01 --:--:-- 77.5M", "  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current", "                                 Dload  Upload   Total   Spent    Left  Speed", "", "  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0", "  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0", "", "  0 12.6M    0  8011    0     0   7645      0  0:28:52  0:00:01  0:28:51  7645", "100 12.6M  100 12.6M    0     0  9163k      0  0:00:01  0:00:01 --:--:-- 34.7M"], "stdout": "", "stdout_lines": []}

TASK [install-docker-registry : Prepare cfssl config files] *********************************************************************************************************************************************************************
changed: [10.8.135.112] => (item=/mnt/c/Users/stajyer/Desktop/cloud-provider-openstack/tests/playbooks/roles/install-docker-registry/tasks/../templates/ca-config.json.j2) => {"ansible_loop_var": "item", "changed": true, "checksum": "6df71a39e88ce092b13ae411904beae56165762d", "dest": "/root/certs/ca-config.json", "gid": 0, "group": "root", "item": "/mnt/c/Users/stajyer/Desktop/cloud-provider-openstack/tests/playbooks/roles/install-docker-registry/tasks/../templates/ca-config.json.j2", "md5sum": "df359b8c0254dc4b6d56cfd24869ca33", "mode": "0644", "owner": "root", "size": 473, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1729598696.4610076-56595-268389017681461/source", "state": "file", "uid": 0}
changed: [10.8.135.112] => (item=/mnt/c/Users/stajyer/Desktop/cloud-provider-openstack/tests/playbooks/roles/install-docker-registry/tasks/../templates/ca-csr.json.j2) => {"ansible_loop_var": "item", "changed": true, "checksum": "257ae5546d9430308c4b86e52788203191f06c07", "dest": "/root/certs/ca-csr.json", "gid": 0, "group": "root", "item": "/mnt/c/Users/stajyer/Desktop/cloud-provider-openstack/tests/playbooks/roles/install-docker-registry/tasks/../templates/ca-csr.json.j2", "md5sum": "f2e8cf122614e3ecb00d88a16c4195e1", "mode": "0644", "owner": "root", "size": 198, "src": "/home/ubuntu/.ansible/tmp/ansible-tmp-1729598698.160449-56595-24050739505388/source", "state": "file", "uid": 0}

TASK [install-docker-registry : Manage self-sign CA] ****************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "cfssl gencert -initca ca-csr.json | cfssljson -bare ca -\n", "delta": "0:00:00.044308", "end": "2024-10-22 12:01:29.080612", "msg": "", "rc": 0, "start": "2024-10-22 12:01:29.036304", "stderr": "2024/10/22 12:01:29 [INFO] generating a new CA key and certificate from CSR\n2024/10/22 12:01:29 [INFO] generate received request\n2024/10/22 12:01:29 [INFO] received CSR\n2024/10/22 12:01:29 [INFO] generating key: ecdsa-256\n2024/10/22 12:01:29 [INFO] encoded CSR\n2024/10/22 12:01:29 [INFO] signed certificate with serial number 374792036570117725867910493935510939369548142127", "stderr_lines": ["2024/10/22 12:01:29 [INFO] generating a new CA key and certificate from CSR", "2024/10/22 12:01:29 [INFO] generate received request", "2024/10/22 12:01:29 [INFO] received CSR", "2024/10/22 12:01:29 [INFO] generating key: ecdsa-256", "2024/10/22 12:01:29 [INFO] encoded CSR", "2024/10/22 12:01:29 [INFO] signed certificate with serial number 374792036570117725867910493935510939369548142127"], "stdout": "", "stdout_lines": []}

TASK [install-docker-registry : Create server certificate] **********************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "cfssl gencert -config ca-config.json -profile server -ca ./ca.pem -ca-key ./ca-key.pem ca-csr.json | cfssljson -bare server\n", "delta": "0:00:00.047347", "end": "2024-10-22 12:01:30.126469", "msg": "", "rc": 0, "start": "2024-10-22 12:01:30.079122", "stderr": "2024/10/22 12:01:30 [INFO] generate received request\n2024/10/22 12:01:30 [INFO] received CSR\n2024/10/22 12:01:30 [INFO] generating key: ecdsa-256\n2024/10/22 12:01:30 [INFO] encoded CSR\n2024/10/22 12:01:30 [INFO] signed certificate with serial number 671566376789713229405336206637362786994303841249", "stderr_lines": ["2024/10/22 12:01:30 [INFO] generate received request", "2024/10/22 12:01:30 [INFO] received CSR", "2024/10/22 12:01:30 [INFO] generating key: ecdsa-256", "2024/10/22 12:01:30 [INFO] encoded CSR", "2024/10/22 12:01:30 [INFO] signed certificate with serial number 671566376789713229405336206637362786994303841249"], "stdout": "", "stdout_lines": []}

TASK [install-docker-registry : Run docker registry container] ******************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "docker ps --filter name=registry | grep registry\nif [[ \"$?\" != \"0\" ]]; then\n  docker run -d \\\n    --restart=always \\\n    --name registry \\\n    -v \"/root/certs\":/certs \\\n    -e REGISTRY_HTTP_ADDR=0.0.0.0:443 \\\n    -e REGISTRY_HTTP_TLS_CERTIFICATE=/certs/server.pem \\\n    -e REGISTRY_HTTP_TLS_KEY=/certs/server-key.pem \\\n    -p 443:443 \\\n    registry:2\nfi\n", "delta": "0:00:04.213848", "end": "2024-10-22 12:01:35.325591", "msg": "", "rc": 0, "start": "2024-10-22 12:01:31.111743", "stderr": "Unable to find image 'registry:2' locally\n2: Pulling from library/registry\n1cc3d825d8b2: Pulling fs layer\n85ab09421e5a: Pulling fs layer\n40960af72c1c: Pulling fs layer\ne7bb1dbb377e: Pulling fs layer\na538cc9b1ae3: Pulling fs layer\na538cc9b1ae3: Waiting\ne7bb1dbb377e: Waiting\n85ab09421e5a: Verifying Checksum\n85ab09421e5a: Download complete\n1cc3d825d8b2: Verifying Checksum\n1cc3d825d8b2: Download complete\n40960af72c1c: Verifying Checksum\n40960af72c1c: Download complete\n1cc3d825d8b2: Pull complete\n85ab09421e5a: Pull complete\ne7bb1dbb377e: Verifying Checksum\ne7bb1dbb377e: Download complete\na538cc9b1ae3: Verifying Checksum\na538cc9b1ae3: Download complete\n40960af72c1c: Pull complete\ne7bb1dbb377e: Pull complete\na538cc9b1ae3: Pull complete\nDigest: sha256:ac0192b549007e22998eb74e8d8488dcfe70f1489520c3b144a6047ac5efbe90\nStatus: Downloaded newer image for registry:2", "stderr_lines": ["Unable to find image 'registry:2' locally", "2: Pulling from library/registry", "1cc3d825d8b2: Pulling fs layer", "85ab09421e5a: Pulling fs layer", "40960af72c1c: Pulling fs layer", "e7bb1dbb377e: Pulling fs layer", "a538cc9b1ae3: Pulling fs layer", "a538cc9b1ae3: Waiting", "e7bb1dbb377e: Waiting", "85ab09421e5a: Verifying Checksum", "85ab09421e5a: Download complete", "1cc3d825d8b2: Verifying Checksum", "1cc3d825d8b2: Download complete", "40960af72c1c: Verifying Checksum", "40960af72c1c: Download complete", "1cc3d825d8b2: Pull complete", "85ab09421e5a: Pull complete", "e7bb1dbb377e: Verifying Checksum", "e7bb1dbb377e: Download complete", "a538cc9b1ae3: Verifying Checksum", "a538cc9b1ae3: Download complete", "40960af72c1c: Pull complete", "e7bb1dbb377e: Pull complete", "a538cc9b1ae3: Pull complete", "Digest: sha256:ac0192b549007e22998eb74e8d8488dcfe70f1489520c3b144a6047ac5efbe90", "Status: Downloaded newer image for registry:2"], "stdout": "122ac5e5e9955733c1a4607edaff4d2ebcf28aa3594cc8ae85c18fab28635c67", "stdout_lines": ["122ac5e5e9955733c1a4607edaff4d2ebcf28aa3594cc8ae85c18fab28635c67"]}

TASK [install-k3s : Install packages] *******************************************************************************************************************************************************************************************
ok: [10.8.135.112] => {"cache_update_time": 1729598498, "cache_updated": true, "changed": false}

TASK [install-k3s : Create openstack resources] *********************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "set -x\ncd /home/stack/devstack\n\nset +x; source openrc admin admin > /dev/null; set -x\nopenstack image show ubuntu-jammy > /dev/null 2>&1\n\nif [[ \"$?\" != \"0\" ]]; then\n  # retry ubuntu image download on failure,\n  # e.g. \"curl: (35) OpenSSL SSL_connect: Connection reset by peer in connection to cloud-images.ubuntu.com:443\"\n  tries=0\n  until [ \"$tries\" -ge 5 ]; do\n    curl -sSL https://cloud-images.ubuntu.com/releases/jammy/release/ubuntu-22.04-server-cloudimg-amd64.img -o ubuntu-jammy.img && break\n    echo \"Error downloading an image\"\n    ((tries++))\n    sleep 10\n  done\n  openstack image create ubuntu-jammy --container-format bare --disk-format qcow2 --public --file ubuntu-jammy.img\nfi\n\nset +x; source openrc demo demo > /dev/null; set -x\nopenstack keypair show k3s_keypair > /dev/null 2>&1\nif [[ \"$?\" != \"0\" ]]; then\n  test -e /root/.ssh/id_rsa || ssh-keygen -t rsa -b 4096 -N \"\" -f /root/.ssh/id_rsa\n  openstack keypair create --public-key /root/.ssh/id_rsa.pub k3s_keypair\nfi\n\nopenstack security group show k3s_sg > /dev/null 2>&1\nif [[ \"$?\" != \"0\" ]]; then\n  openstack security group create k3s_sg\n  openstack security group rule create --proto icmp k3s_sg\n  openstack security group rule create --protocol tcp --dst-port 1:65535 k3s_sg\n  openstack security group rule create --protocol udp --dst-port 1:65535 k3s_sg\nfi\n\nopenstack subnet set private-subnet --dns-nameserver 10.1.34.5 --dns-nameserver 10.1.34.6 || true\n", "delta": "0:00:46.499876", "end": "2024-10-22 12:02:26.925006", "msg": "", "rc": 0, "start": "2024-10-22 12:01:40.425130", "stderr": "+ cd /home/stack/devstack\n+ set +x\n+ ::                                       :   openstack image show ubuntu-jammy\n+ ::                                       :   [[ 1 != \\0 ]]\n+ ::                                       :   tries=0\n+ ::                                       :   '[' 0 -ge 5 ']'\n+ ::                                       :   curl -sSL https://cloud-images.ubuntu.com/releases/jammy/release/ubuntu-22.04-server-cloudimg-amd64.img -o ubuntu-jammy.img\n+ ::                                       :   break\n+ ::                                       :   openstack image create ubuntu-jammy --container-format bare --disk-format qcow2 --public --file ubuntu-jammy.img\n+ ::                                       :   set +x\n+ ::                                       :   openstack keypair show k3s_keypair\n+ ::                                       :   [[ 1 != \\0 ]]\n+ ::                                       :   test -e /root/.ssh/id_rsa\n+ ::                                       :   ssh-keygen -t rsa -b 4096 -N '' -f /root/.ssh/id_rsa\n+ ::                                       :   openstack keypair create --public-key /root/.ssh/id_rsa.pub k3s_keypair\n+ ::                                       :   openstack security group show k3s_sg\n+ ::                                       :   [[ 1 != \\0 ]]\n+ ::                                       :   openstack security group create k3s_sg\n+ ::                                       :   openstack security group rule create --proto icmp k3s_sg\n+ ::                                       :   openstack security group rule create --protocol tcp --dst-port 1:65535 k3s_sg\n+ ::                                       :   openstack security group rule create --protocol udp --dst-port 1:65535 k3s_sg\n+ ::                                       :   openstack subnet set private-subnet --dns-nameserver 10.1.34.5 --dns-nameserver 10.1.34.6", "stderr_lines": ["+ cd /home/stack/devstack", "+ set +x", "+ ::                                       :   openstack image show ubuntu-jammy", "+ ::                                       :   [[ 1 != \\0 ]]", "+ ::                                       :   tries=0", "+ ::                                       :   '[' 0 -ge 5 ']'", "+ ::                                       :   curl -sSL https://cloud-images.ubuntu.com/releases/jammy/release/ubuntu-22.04-server-cloudimg-amd64.img -o ubuntu-jammy.img", "+ ::                                       :   break", "+ ::                                       :   openstack image create ubuntu-jammy --container-format bare --disk-format qcow2 --public --file ubuntu-jammy.img", "+ ::                                       :   set +x", "+ ::                                       :   openstack keypair show k3s_keypair", "+ ::                                       :   [[ 1 != \\0 ]]", "+ ::                                       :   test -e /root/.ssh/id_rsa", "+ ::                                       :   ssh-keygen -t rsa -b 4096 -N '' -f /root/.ssh/id_rsa", "+ ::                                       :   openstack keypair create --public-key /root/.ssh/id_rsa.pub k3s_keypair", "+ ::                                       :   openstack security group show k3s_sg", "+ ::                                       :   [[ 1 != \\0 ]]", "+ ::                                       :   openstack security group create k3s_sg", "+ ::                                       :   openstack security group rule create --proto icmp k3s_sg", "+ ::                                       :   openstack security group rule create --protocol tcp --dst-port 1:65535 k3s_sg", "+ ::                                       :   openstack security group rule create --protocol udp --dst-port 1:65535 k3s_sg", "+ ::                                       :   openstack subnet set private-subnet --dns-nameserver 10.1.34.5 --dns-nameserver 10.1.34.6"], "stdout": "+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+\n| Field            | Value                                                                                                                                            |\n+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+\n| container_format | bare                                                                                                                                             |\n| created_at       | 2024-10-22T12:02:07Z                                                                                                                             |\n| disk_format      | qcow2                                                                                                                                            |\n| file             | /v2/images/12fad8fb-63a4-4530-8d0a-49d751ced09c/file                                                                                             |\n| id               | 12fad8fb-63a4-4530-8d0a-49d751ced09c                                                                                                             |\n| min_disk         | 0                                                                                                                                                |\n| min_ram          | 0                                                                                                                                                |\n| name             | ubuntu-jammy                                                                                                                                     |\n| owner            | 1c4f605610994e1dade48b01da317c00                                                                                                                 |\n| properties       | os_hidden='False', owner_specified.openstack.md5='', owner_specified.openstack.object='images/ubuntu-jammy', owner_specified.openstack.sha256='' |\n| protected        | False                                                                                                                                            |\n| schema           | /v2/schemas/image                                                                                                                                |\n| status           | queued                                                                                                                                           |\n| tags             |                                                                                                                                                  |\n| updated_at       | 2024-10-22T12:02:07Z                                                                                                                             |\n| visibility       | public                                                                                                                                           |\n+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+\nGenerating public/private rsa key pair.\nYour identification has been saved in /root/.ssh/id_rsa\nYour public key has been saved in /root/.ssh/id_rsa.pub\nThe key fingerprint is:\nSHA256:vi3gbeCCMv2eVuYTfxIfLvmlORJQDTmtNN+4PrEg2hU root@devstack-pc\nThe key's randomart image is:\n+---[RSA 4096]----+\n|        .=       |\n|        * o      |\n|       o = o     |\n|      . E o .    |\n|       .S. .     |\n|      B.= +      |\n| . . O O.O +.    |\n|o o +.* XoO+     |\n| o ++. o.B=o     |\n+----[SHA256]-----+\n+-------------+-------------------------------------------------+\n| Field       | Value                                           |\n+-------------+-------------------------------------------------+\n| created_at  | None                                            |\n| fingerprint | 5c:72:59:b4:68:e7:29:d7:6c:63:6e:34:da:0f:33:54 |\n| id          | k3s_keypair                                     |\n| is_deleted  | None                                            |\n| name        | k3s_keypair                                     |\n| type        | ssh                                             |\n| user_id     | dcb7e85a9038400fb57c72df4d5bc19e                |\n+-------------+-------------------------------------------------+\n+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Field           | Value                                                                                                                                                                        |\n+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| created_at      | 2024-10-22T12:02:20Z                                                                                                                                                         |\n| description     | k3s_sg                                                                                                                                                                       |\n| id              | c4923089-fe68-48ed-91f5-cbb2db3061f3                                                                                                                                         |\n| name            | k3s_sg                                                                                                                                                                       |\n| project_id      | e099c71f388a480a8af73f245a28f563                                                                                                                                             |\n| revision_number | 1                                                                                                                                                                            |\n| rules           | created_at='2024-10-22T12:02:20Z', direction='egress', ethertype='IPv4', id='771bb7b2-0de6-4977-9882-2f5379f70c7e', standard_attr_id='41', updated_at='2024-10-22T12:02:20Z' |\n|                 | created_at='2024-10-22T12:02:20Z', direction='egress', ethertype='IPv6', id='fe8f6e18-d632-4243-85b7-f2947ef88fbf', standard_attr_id='42', updated_at='2024-10-22T12:02:20Z' |\n| shared          | False                                                                                                                                                                        |\n| stateful        | True                                                                                                                                                                         |\n| tags            | []                                                                                                                                                                           |\n| updated_at      | 2024-10-22T12:02:20Z                                                                                                                                                         |\n+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n+-------------------------+--------------------------------------+\n| Field                   | Value                                |\n+-------------------------+--------------------------------------+\n| created_at              | 2024-10-22T12:02:21Z                 |\n| description             |                                      |\n| direction               | ingress                              |\n| ether_type              | IPv4                                 |\n| id                      | e9485889-1dbd-4667-87c6-0c7c72e01a67 |\n| name                    | None                                 |\n| normalized_cidr         | 0.0.0.0/0                            |\n| port_range_max          | None                                 |\n| port_range_min          | None                                 |\n| project_id              | e099c71f388a480a8af73f245a28f563     |\n| protocol                | icmp                                 |\n| remote_address_group_id | None                                 |\n| remote_group_id         | None                                 |\n| remote_ip_prefix        | 0.0.0.0/0                            |\n| revision_number         | 0                                    |\n| security_group_id       | c4923089-fe68-48ed-91f5-cbb2db3061f3 |\n| tags                    | []                                   |\n| updated_at              | 2024-10-22T12:02:21Z                 |\n+-------------------------+--------------------------------------+\n+-------------------------+--------------------------------------+\n| Field                   | Value                                |\n+-------------------------+--------------------------------------+\n| created_at              | 2024-10-22T12:02:23Z                 |\n| description             |                                      |\n| direction               | ingress                              |\n| ether_type              | IPv4                                 |\n| id                      | 253cdce4-8a19-4403-b584-9cd338aacc81 |\n| name                    | None                                 |\n| normalized_cidr         | 0.0.0.0/0                            |\n| port_range_max          | None                                 |\n| port_range_min          | None                                 |\n| project_id              | e099c71f388a480a8af73f245a28f563     |\n| protocol                | tcp                                  |\n| remote_address_group_id | None                                 |\n| remote_group_id         | None                                 |\n| remote_ip_prefix        | 0.0.0.0/0                            |\n| revision_number         | 0                                    |\n| security_group_id       | c4923089-fe68-48ed-91f5-cbb2db3061f3 |\n| tags                    | []                                   |\n| updated_at              | 2024-10-22T12:02:23Z                 |\n+-------------------------+--------------------------------------+\n+-------------------------+--------------------------------------+\n| Field                   | Value                                |\n+-------------------------+--------------------------------------+\n| created_at              | 2024-10-22T12:02:24Z                 |\n| description             |                                      |\n| direction               | ingress                              |\n| ether_type              | IPv4                                 |\n| id                      | aa3ebd22-64c7-4b27-a487-8a0ea065c5fb |\n| name                    | None                                 |\n| normalized_cidr         | 0.0.0.0/0                            |\n| port_range_max          | None                                 |\n| port_range_min          | None                                 |\n| project_id              | e099c71f388a480a8af73f245a28f563     |\n| protocol                | udp                                  |\n| remote_address_group_id | None                                 |\n| remote_group_id         | None                                 |\n| remote_ip_prefix        | 0.0.0.0/0                            |\n| revision_number         | 0                                    |\n| security_group_id       | c4923089-fe68-48ed-91f5-cbb2db3061f3 |\n| tags                    | []                                   |\n| updated_at              | 2024-10-22T12:02:24Z                 |\n+-------------------------+--------------------------------------+", "stdout_lines": ["+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+", "| Field            | Value                                                                                                                                            |", "+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+", "| container_format | bare                                                                                                                                             |", "| created_at       | 2024-10-22T12:02:07Z                                                                                                                             |", "| disk_format      | qcow2                                                                                                                                            |", "| file             | /v2/images/12fad8fb-63a4-4530-8d0a-49d751ced09c/file                                                                                             |", "| id               | 12fad8fb-63a4-4530-8d0a-49d751ced09c                                                                                                             |", "| min_disk         | 0                                                                                                                                                |", "| min_ram          | 0                                                                                                                                                |", "| name             | ubuntu-jammy                                                                                                                                     |", "| owner            | 1c4f605610994e1dade48b01da317c00                                                                                                                 |", "| properties       | os_hidden='False', owner_specified.openstack.md5='', owner_specified.openstack.object='images/ubuntu-jammy', owner_specified.openstack.sha256='' |", "| protected        | False                                                                                                                                            |", "| schema           | /v2/schemas/image                                                                                                                                |", "| status           | queued                                                                                                                                           |", "| tags             |                                                                                                                                                  |", "| updated_at       | 2024-10-22T12:02:07Z                                                                                                                             |", "| visibility       | public                                                                                                                                           |", "+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------+", "Generating public/private rsa key pair.", "Your identification has been saved in /root/.ssh/id_rsa", "Your public key has been saved in /root/.ssh/id_rsa.pub", "The key fingerprint is:", "SHA256:vi3gbeCCMv2eVuYTfxIfLvmlORJQDTmtNN+4PrEg2hU root@devstack-pc", "The key's randomart image is:", "+---[RSA 4096]----+", "|        .=       |", "|        * o      |", "|       o = o     |", "|      . E o .    |", "|       .S. .     |", "|      B.= +      |", "| . . O O.O +.    |", "|o o +.* XoO+     |", "| o ++. o.B=o     |", "+----[SHA256]-----+", "+-------------+-------------------------------------------------+", "| Field       | Value                                           |", "+-------------+-------------------------------------------------+", "| created_at  | None                                            |", "| fingerprint | 5c:72:59:b4:68:e7:29:d7:6c:63:6e:34:da:0f:33:54 |", "| id          | k3s_keypair                                     |", "| is_deleted  | None                                            |", "| name        | k3s_keypair                                     |", "| type        | ssh                                             |", "| user_id     | dcb7e85a9038400fb57c72df4d5bc19e                |", "+-------------+-------------------------------------------------+", "+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+", "| Field           | Value                                                                                                                                                                        |", "+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+", "| created_at      | 2024-10-22T12:02:20Z                                                                                                                                                         |", "| description     | k3s_sg                                                                                                                                                                       |", "| id              | c4923089-fe68-48ed-91f5-cbb2db3061f3                                                                                                                                         |", "| name            | k3s_sg                                                                                                                                                                       |", "| project_id      | e099c71f388a480a8af73f245a28f563                                                                                                                                             |", "| revision_number | 1                                                                                                                                                                            |", "| rules           | created_at='2024-10-22T12:02:20Z', direction='egress', ethertype='IPv4', id='771bb7b2-0de6-4977-9882-2f5379f70c7e', standard_attr_id='41', updated_at='2024-10-22T12:02:20Z' |", "|                 | created_at='2024-10-22T12:02:20Z', direction='egress', ethertype='IPv6', id='fe8f6e18-d632-4243-85b7-f2947ef88fbf', standard_attr_id='42', updated_at='2024-10-22T12:02:20Z' |", "| shared          | False                                                                                                                                                                        |", "| stateful        | True                                                                                                                                                                         |", "| tags            | []                                                                                                                                                                           |", "| updated_at      | 2024-10-22T12:02:20Z                                                                                                                                                         |", "+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+", "+-------------------------+--------------------------------------+", "| Field                   | Value                                |", "+-------------------------+--------------------------------------+", "| created_at              | 2024-10-22T12:02:21Z                 |", "| description             |                                      |", "| direction               | ingress                              |", "| ether_type              | IPv4                                 |", "| id                      | e9485889-1dbd-4667-87c6-0c7c72e01a67 |", "| name                    | None                                 |", "| normalized_cidr         | 0.0.0.0/0                            |", "| port_range_max          | None                                 |", "| port_range_min          | None                                 |", "| project_id              | e099c71f388a480a8af73f245a28f563     |", "| protocol                | icmp                                 |", "| remote_address_group_id | None                                 |", "| remote_group_id         | None                                 |", "| remote_ip_prefix        | 0.0.0.0/0                            |", "| revision_number         | 0                                    |", "| security_group_id       | c4923089-fe68-48ed-91f5-cbb2db3061f3 |", "| tags                    | []                                   |", "| updated_at              | 2024-10-22T12:02:21Z                 |", "+-------------------------+--------------------------------------+", "+-------------------------+--------------------------------------+", "| Field                   | Value                                |", "+-------------------------+--------------------------------------+", "| created_at              | 2024-10-22T12:02:23Z                 |", "| description             |                                      |", "| direction               | ingress                              |", "| ether_type              | IPv4                                 |", "| id                      | 253cdce4-8a19-4403-b584-9cd338aacc81 |", "| name                    | None                                 |", "| normalized_cidr         | 0.0.0.0/0                            |", "| port_range_max          | None                                 |", "| port_range_min          | None                                 |", "| project_id              | e099c71f388a480a8af73f245a28f563     |", "| protocol                | tcp                                  |", "| remote_address_group_id | None                                 |", "| remote_group_id         | None                                 |", "| remote_ip_prefix        | 0.0.0.0/0                            |", "| revision_number         | 0                                    |", "| security_group_id       | c4923089-fe68-48ed-91f5-cbb2db3061f3 |", "| tags                    | []                                   |", "| updated_at              | 2024-10-22T12:02:23Z                 |", "+-------------------------+--------------------------------------+", "+-------------------------+--------------------------------------+", "| Field                   | Value                                |", "+-------------------------+--------------------------------------+", "| created_at              | 2024-10-22T12:02:24Z                 |", "| description             |                                      |", "| direction               | ingress                              |", "| ether_type              | IPv4                                 |", "| id                      | aa3ebd22-64c7-4b27-a487-8a0ea065c5fb |", "| name                    | None                                 |", "| normalized_cidr         | 0.0.0.0/0                            |", "| port_range_max          | None                                 |", "| port_range_min          | None                                 |", "| project_id              | e099c71f388a480a8af73f245a28f563     |", "| protocol                | udp                                  |", "| remote_address_group_id | None                                 |", "| remote_group_id         | None                                 |", "| remote_ip_prefix        | 0.0.0.0/0                            |", "| revision_number         | 0                                    |", "| security_group_id       | c4923089-fe68-48ed-91f5-cbb2db3061f3 |", "| tags                    | []                                   |", "| updated_at              | 2024-10-22T12:02:24Z                 |", "+-------------------------+--------------------------------------+"]}

TASK [install-k3s : Create port with floating IP] *******************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "set +x; source /home/stack/devstack/openrc demo demo > /dev/null; set -x\n\nopenstack port show k3s_master\nif [ $? -ne 0 ]; then\n  port_id=$(openstack port create k3s_master --network private --security-group k3s_sg -f value -c id)\n  fip=$(openstack floating ip create public -c floating_ip_address -f value)\n  openstack floating ip set $fip --port $port_id\nfi\n", "delta": "0:00:09.808412", "end": "2024-10-22 12:02:37.781384", "msg": "", "rc": 0, "start": "2024-10-22 12:02:27.972972", "stderr": "+ ::                                       :   openstack port show k3s_master\nNo Port found for k3s_master\n+ ::                                       :   '[' 1 -ne 0 ']'\n++ ::                                       :   openstack port create k3s_master --network private --security-group k3s_sg -f value -c id\n+ ::                                       :   port_id=e479e975-cf08-476f-b6ff-403cbd239c1a\n++ ::                                       :   openstack floating ip create public -c floating_ip_address -f value\n+ ::                                       :   fip=172.24.5.210\n+ ::                                       :   openstack floating ip set 172.24.5.210 --port e479e975-cf08-476f-b6ff-403cbd239c1a", "stderr_lines": ["+ ::                                       :   openstack port show k3s_master", "No Port found for k3s_master", "+ ::                                       :   '[' 1 -ne 0 ']'", "++ ::                                       :   openstack port create k3s_master --network private --security-group k3s_sg -f value -c id", "+ ::                                       :   port_id=e479e975-cf08-476f-b6ff-403cbd239c1a", "++ ::                                       :   openstack floating ip create public -c floating_ip_address -f value", "+ ::                                       :   fip=172.24.5.210", "+ ::                                       :   openstack floating ip set 172.24.5.210 --port e479e975-cf08-476f-b6ff-403cbd239c1a"], "stdout": "", "stdout_lines": []}

TASK [install-k3s : Get floating IP] ********************************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "set +x; source /home/stack/devstack/openrc demo demo > /dev/null\nopenstack floating ip list --port k3s_master -c \"Floating IP Address\" -f value\n", "delta": "0:00:04.238754", "end": "2024-10-22 12:02:42.999788", "msg": "", "rc": 0, "start": "2024-10-22 12:02:38.761034", "stderr": "", "stderr_lines": [], "stdout": "172.24.5.210", "stdout_lines": ["172.24.5.210"]}

TASK [install-k3s : Set fact for k3s master floating IP] ************************************************************************************************************************************************************************
ok: [10.8.135.112] => {"ansible_facts": {"k3s_fip": "172.24.5.210"}, "changed": false}

TASK [install-k3s : Run k3s master] *********************************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "set -x\n\nset +x; source /home/stack/devstack/openrc demo demo > /dev/null; set -x\n\nopenstack server show k3s-master > /dev/null 2>&1\nif [ $? -ne 0 ]; then\n  # Prepare user data file for k3s master\n  cat <<EOF > /home/stack/devstack/init_k3s.yaml\n  #cloud-config\n  manage_etc_hosts: \"localhost\"\n  package_update: true\n  runcmd:\n    - update-ca-certificates\n    - mkdir -p /var/lib/rancher/k3s/agent/images/\n    - curl -sSL https://github.com/k3s-io/k3s/releases/download/v1.31.0+k3s1/k3s-airgap-images-amd64.tar -o /var/lib/rancher/k3s/agent/images/k3s-airgap-images.tar\n    - curl -sSL https://github.com/k3s-io/k3s/releases/download/v1.31.0+k3s1/k3s -o /usr/local/bin/k3s\n    - curl -sSL https://get.k3s.io -o /var/lib/rancher/k3s/install.sh\n    - chmod u+x /var/lib/rancher/k3s/install.sh /usr/local/bin/k3s\n    - INSTALL_K3S_SKIP_DOWNLOAD=true /var/lib/rancher/k3s/install.sh --disable traefik --disable metrics-server --disable servicelb --disable-cloud-controller --kubelet-arg=\"cloud-provider=external\" --tls-san 172.24.5.210 --token K1039d1cf76d1f8b0e8b0d48e7c60d9c4a43c2e7a56de5d86f346f2288a2677f1d7::server:2acba4e60918c0e2d1f1d1a7c4e81e7b\n  write_files:\n    - path: /usr/local/share/ca-certificates/registry-ca.crt\n      content: |\n$(awk '{printf \"        %s\\n\", $0}' < /root/certs/ca.pem)\nEOF\n\n  # Create k3s master\n  port_id=$(openstack port show k3s_master -c id -f value)\n  openstack server create k3s-master --image ubuntu-jammy --flavor ds2G --key-name k3s_keypair --nic port-id=$port_id --user-data /home/stack/devstack/init_k3s.yaml --wait\nfi\n", "delta": "0:00:55.675530", "end": "2024-10-22 12:03:39.719884", "msg": "", "rc": 0, "start": "2024-10-22 12:02:44.044354", "stderr": "+ set +x\n+ ::                                       :   openstack server show k3s-master\n+ ::                                       :   '[' 1 -ne 0 ']'\n+ ::                                       :   cat\n++ ::                                       :   awk '{printf \"        %s\\n\", $0}'\n++ ::                                       :   openstack port show k3s_master -c id -f value\n+ ::                                       :   port_id=e479e975-cf08-476f-b6ff-403cbd239c1a\n+ ::                                       :   openstack server create k3s-master --image ubuntu-jammy --flavor ds2G --key-name k3s_keypair --nic port-id=e479e975-cf08-476f-b6ff-403cbd239c1a --user-data /home/stack/devstack/init_k3s.yaml --wait", "stderr_lines": ["+ set +x", "+ ::                                       :   openstack server show k3s-master", "+ ::                                       :   '[' 1 -ne 0 ']'", "+ ::                                       :   cat", "++ ::                                       :   awk '{printf \"        %s\\n\", $0}'", "++ ::                                       :   openstack port show k3s_master -c id -f value", "+ ::                                       :   port_id=e479e975-cf08-476f-b6ff-403cbd239c1a", "+ ::                                       :   openstack server create k3s-master --image ubuntu-jammy --flavor ds2G --key-name k3s_keypair --nic port-id=e479e975-cf08-476f-b6ff-403cbd239c1a --user-data /home/stack/devstack/init_k3s.yaml --wait"], "stdout": "\n+-----------------------------+----------------------------------------------------------+\n| Field                       | Value                                                    |\n+-----------------------------+----------------------------------------------------------+\n| OS-DCF:diskConfig           | MANUAL                                                   |\n| OS-EXT-AZ:availability_zone | nova                                                     |\n| OS-EXT-STS:power_state      | Running                                                  |\n| OS-EXT-STS:task_state       | None                                                     |\n| OS-EXT-STS:vm_state         | active                                                   |\n| OS-SRV-USG:launched_at      | 2024-10-22T12:03:35.000000                               |\n| OS-SRV-USG:terminated_at    | None                                                     |\n| accessIPv4                  |                                                          |\n| accessIPv6                  |                                                          |\n| addresses                   | private=10.1.0.47, 172.24.5.210                          |\n| adminPass                   | zQbu4iKXXC2R                                             |\n| config_drive                |                                                          |\n| created                     | 2024-10-22T12:02:51Z                                     |\n| flavor                      | ds2G (d3)                                                |\n| hostId                      | e4e3d3ed29f89d63c11b9b30df8347b3d273210e91ba6d7633d23d95 |\n| id                          | c691f568-6534-49bd-8b74-4bcff6875bfd                     |\n| image                       | ubuntu-jammy (12fad8fb-63a4-4530-8d0a-49d751ced09c)      |\n| key_name                    | k3s_keypair                                              |\n| name                        | k3s-master                                               |\n| progress                    | 0                                                        |\n| project_id                  | e099c71f388a480a8af73f245a28f563                         |\n| properties                  |                                                          |\n| security_groups             | name='k3s_sg'                                            |\n| status                      | ACTIVE                                                   |\n| updated                     | 2024-10-22T12:03:36Z                                     |\n| user_id                     | dcb7e85a9038400fb57c72df4d5bc19e                         |\n| volumes_attached            |                                                          |\n+-----------------------------+----------------------------------------------------------+", "stdout_lines": ["", "+-----------------------------+----------------------------------------------------------+", "| Field                       | Value                                                    |", "+-----------------------------+----------------------------------------------------------+", "| OS-DCF:diskConfig           | MANUAL                                                   |", "| OS-EXT-AZ:availability_zone | nova                                                     |", "| OS-EXT-STS:power_state      | Running                                                  |", "| OS-EXT-STS:task_state       | None                                                     |", "| OS-EXT-STS:vm_state         | active                                                   |", "| OS-SRV-USG:launched_at      | 2024-10-22T12:03:35.000000                               |", "| OS-SRV-USG:terminated_at    | None                                                     |", "| accessIPv4                  |                                                          |", "| accessIPv6                  |                                                          |", "| addresses                   | private=10.1.0.47, 172.24.5.210                          |", "| adminPass                   | zQbu4iKXXC2R                                             |", "| config_drive                |                                                          |", "| created                     | 2024-10-22T12:02:51Z                                     |", "| flavor                      | ds2G (d3)                                                |", "| hostId                      | e4e3d3ed29f89d63c11b9b30df8347b3d273210e91ba6d7633d23d95 |", "| id                          | c691f568-6534-49bd-8b74-4bcff6875bfd                     |", "| image                       | ubuntu-jammy (12fad8fb-63a4-4530-8d0a-49d751ced09c)      |", "| key_name                    | k3s_keypair                                              |", "| name                        | k3s-master                                               |", "| progress                    | 0                                                        |", "| project_id                  | e099c71f388a480a8af73f245a28f563                         |", "| properties                  |                                                          |", "| security_groups             | name='k3s_sg'                                            |", "| status                      | ACTIVE                                                   |", "| updated                     | 2024-10-22T12:03:36Z                                     |", "| user_id                     | dcb7e85a9038400fb57c72df4d5bc19e                         |", "| volumes_attached            |                                                          |", "+-----------------------------+----------------------------------------------------------+"]}

TASK [install-k3s : Run k3s workers] ********************************************************************************************************************************************************************************************

TASK [install-k3s : Wait for ssh ready for k3s VM] ******************************************************************************************************************************************************************************
ok: [10.8.135.112] => {"changed": false, "elapsed": 36, "match_groupdict": {}, "match_groups": [], "path": null, "port": 22, "search_regex": "OpenSSH", "state": "started"}

TASK [install-k3s : Wait until k3s installation is finished] ********************************************************************************************************************************************************************
FAILED - RETRYING: [10.8.135.112]: Wait until k3s installation is finished (100 retries left).
FAILED - RETRYING: [10.8.135.112]: Wait until k3s installation is finished (99 retries left).
FAILED - RETRYING: [10.8.135.112]: Wait until k3s installation is finished (98 retries left).
FAILED - RETRYING: [10.8.135.112]: Wait until k3s installation is finished (97 retries left).
FAILED - RETRYING: [10.8.135.112]: Wait until k3s installation is finished (96 retries left).
FAILED - RETRYING: [10.8.135.112]: Wait until k3s installation is finished (95 retries left).
FAILED - RETRYING: [10.8.135.112]: Wait until k3s installation is finished (94 retries left).
FAILED - RETRYING: [10.8.135.112]: Wait until k3s installation is finished (93 retries left).
changed: [10.8.135.112] => {"attempts": 9, "changed": true, "cmd": "ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i /root/.ssh/id_rsa ubuntu@172.24.5.210 sudo chmod 777 /etc/rancher/k3s/k3s.yaml\n", "delta": "0:00:00.383129", "end": "2024-10-22 12:05:11.979979", "msg": "", "rc": 0, "start": "2024-10-22 12:05:11.596850", "stderr": "Warning: Permanently added '172.24.5.210' (ED25519) to the list of known hosts.", "stderr_lines": ["Warning: Permanently added '172.24.5.210' (ED25519) to the list of known hosts."], "stdout": "", "stdout_lines": []}

TASK [install-k3s : Prepare kubectl and kubeconfig file] ************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "set -ex\n\nmkdir -p /root/.kube\nscp -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i /root/.ssh/id_rsa ubuntu@172.24.5.210:/etc/rancher/k3s/k3s.yaml /root/.kube/config\ncurl -sLO# https://dl.k8s.io/release/$(curl -Ls https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl\nchmod +x ./kubectl; sudo mv ./kubectl /usr/local/bin/kubectl\nkubectl config set-cluster default --server=https://172.24.5.210:6443 --kubeconfig /root/.kube/config\n", "delta": "0:00:03.315332", "end": "2024-10-22 12:05:16.318296", "msg": "", "rc": 0, "start": "2024-10-22 12:05:13.002964", "stderr": "+ mkdir -p /root/.kube\n+ scp -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i /root/.ssh/id_rsa ubuntu@172.24.5.210:/etc/rancher/k3s/k3s.yaml /root/.kube/config\nWarning: Permanently added '172.24.5.210' (ED25519) to the list of known hosts.\r\n++ curl -Ls https://dl.k8s.io/release/stable.txt\n+ curl -sLO# https://dl.k8s.io/release/v1.31.1/bin/linux/amd64/kubectl\n+ chmod +x ./kubectl\n+ sudo mv ./kubectl /usr/local/bin/kubectl\n+ kubectl config set-cluster default --server=https://172.24.5.210:6443 --kubeconfig /root/.kube/config", "stderr_lines": ["+ mkdir -p /root/.kube", "+ scp -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i /root/.ssh/id_rsa ubuntu@172.24.5.210:/etc/rancher/k3s/k3s.yaml /root/.kube/config", "Warning: Permanently added '172.24.5.210' (ED25519) to the list of known hosts.", "++ curl -Ls https://dl.k8s.io/release/stable.txt", "+ curl -sLO# https://dl.k8s.io/release/v1.31.1/bin/linux/amd64/kubectl", "+ chmod +x ./kubectl", "+ sudo mv ./kubectl /usr/local/bin/kubectl", "+ kubectl config set-cluster default --server=https://172.24.5.210:6443 --kubeconfig /root/.kube/config"], "stdout": "Cluster \"default\" set.", "stdout_lines": ["Cluster \"default\" set."]}

TASK [install-k3s : Wait for k8s node ready] ************************************************************************************************************************************************************************************
FAILED - RETRYING: [10.8.135.112]: Wait for k8s node ready (12 retries left).
FAILED - RETRYING: [10.8.135.112]: Wait for k8s node ready (11 retries left).
changed: [10.8.135.112] => {"attempts": 3, "changed": true, "cmd": "kubectl --kubeconfig /root/.kube/config get node | grep \" Ready \" | wc -l\n", "delta": "0:00:00.118974", "end": "2024-10-22 12:05:39.659912", "msg": "", "rc": 0, "start": "2024-10-22 12:05:39.540938", "stderr": "", "stderr_lines": [], "stdout": "1", "stdout_lines": ["1"]}

TASK [install-k3s : Set kubeconfig env] *****************************************************************************************************************************************************************************************
ok: [10.8.135.112] => {"ansible_facts": {"kubeconfig": "/root/.kube/config"}, "changed": false}

TASK [install-k3s : Merge KUBECONFIG env vars into global env] ******************************************************************************************************************************************************************
ok: [10.8.135.112] => {"ansible_facts": {"global_env": {"GOPATH": "/root", "KUBECONFIG": "/root/.kube/config", "PATH": "/usr/local/go/bin:/root/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin"}}, "changed": false}

TASK [install-cpo-occm : Ensure CPO source folder] ******************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "if [ ! -d $GOPATH/src/k8s.io/cloud-provider-openstack ]; then\n  mkdir -p $GOPATH/src/k8s.io; cd $_\n  git clone https://github.com/kubernetes/cloud-provider-openstack\nfi\n", "delta": "0:00:01.590009", "end": "2024-10-22 12:05:42.281230", "msg": "", "rc": 0, "start": "2024-10-22 12:05:40.691221", "stderr": "Cloning into 'cloud-provider-openstack'...", "stderr_lines": ["Cloning into 'cloud-provider-openstack'..."], "stdout": "", "stdout_lines": []}

TASK [install-cpo-occm : Build and upload openstack-cloud-controller-manager image] *********************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "cd $GOPATH/src/k8s.io/cloud-provider-openstack\nVERSION=\"v0.0.99\" # Fake version, but in proper format.\n\nmake push-multiarch-image-openstack-cloud-controller-manager \\\n  ARCHS='amd64' \\\n  VERSION=${VERSION} \\\n  REGISTRY=localhost\n", "delta": "0:01:48.104402", "end": "2024-10-22 12:07:31.303291", "msg": "", "rc": 0, "start": "2024-10-22 12:05:43.198889", "stderr": "#0 building with \"default\" instance using docker driver\n\n#1 [internal] load build definition from Dockerfile\n#1 transferring dockerfile: 30B 0.0s\n#1 transferring dockerfile: 8.13kB 0.0s done\n#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 41)\n#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 49)\n#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 70)\n#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 88)\n#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 112)\n#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 120)\n#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 130)\n#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 152)\n#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 172)\n#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 190)\n#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 211)\n#1 WARN: FromPlatformFlagConstDisallowed: FROM --platform flag should not use constant value \"linux/amd64\" (line 41)\n#1 WARN: FromPlatformFlagConstDisallowed: FROM --platform flag should not use constant value \"linux/amd64\" (line 49)\n#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 70)\n#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 88)\n#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 112)\n#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 120)\n#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 130)\n#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 152)\n#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 172)\n#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 190)\n#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 211)\n#1 DONE 0.1s\n\n#2 [internal] load metadata for docker.io/library/golang:1.22.2\n#2 ...\n\n#3 [internal] load metadata for registry.k8s.io/build-image/go-runner:v2.3.1-go1.22.2-bookworm.0\n#3 DONE 1.7s\n\n#4 [internal] load metadata for docker.io/library/alpine:3.17.5\n#4 DONE 2.0s\n\n#2 [internal] load metadata for docker.io/library/golang:1.22.2\n#2 DONE 2.1s\n\n#5 [internal] load .dockerignore\n#5 transferring context: 2B done\n#5 DONE 0.0s\n\n#6 [internal] load build context\n#6 DONE 0.0s\n\n#7 [builder 1/6] FROM docker.io/library/golang:1.22.2@sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae\n#7 resolve docker.io/library/golang:1.22.2@sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae 0.1s done\n#7 ...\n\n#6 [internal] load build context\n#6 transferring context: 1.12MB 0.0s done\n#6 DONE 0.1s\n\n#7 [builder 1/6] FROM docker.io/library/golang:1.22.2@sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae\n#7 sha256:0505a58fa4646ca8c19699d99a1053c789d00d9424ee9d8ed4d988e7642d1672 2.88kB / 2.88kB done\n#7 sha256:5370d4968adad7e969494e744c6d28a93931b89f259accf4d08a94c30446d3a3 1.79kB / 1.79kB done\n#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 0B / 49.58MB 0.2s\n#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 0B / 24.05MB 0.2s\n#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 0B / 64.14MB 0.2s\n#7 sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae 2.13kB / 2.13kB done\n#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 12.58MB / 49.58MB 0.5s\n#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 22.02MB / 49.58MB 0.7s\n#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 2.10MB / 24.05MB 0.7s\n#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 8.39MB / 64.14MB 0.7s\n#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 28.31MB / 49.58MB 0.9s\n#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 4.19MB / 24.05MB 0.9s\n#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 37.75MB / 49.58MB 1.5s\n#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 7.34MB / 24.05MB 1.5s\n#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 46.14MB / 49.58MB 1.6s\n#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 9.44MB / 24.05MB 1.6s\n#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 49.58MB / 49.58MB 1.7s\n#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 12.58MB / 24.05MB 1.7s\n#7 extracting sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f\n#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 49.58MB / 49.58MB 1.7s done\n#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 14.68MB / 24.05MB 1.8s\n#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 0B / 92.41MB 1.8s\n#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 17.83MB / 24.05MB 1.9s\n#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 20.97MB / 24.05MB 2.0s\n#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 24.05MB / 24.05MB 2.0s done\n#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 13.63MB / 64.14MB 2.2s\n#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 16.78MB / 92.41MB 2.2s\n#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 0B / 69.33MB 2.2s\n#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 17.83MB / 64.14MB 2.4s\n#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 23.07MB / 92.41MB 2.4s\n#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 6.29MB / 69.33MB 2.4s\n#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 11.53MB / 69.33MB 2.5s\n#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 23.93MB / 64.14MB 2.6s\n#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 17.83MB / 69.33MB 2.6s\n#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 31.46MB / 64.14MB 2.8s\n#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 29.36MB / 69.33MB 2.8s\n#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 35.65MB / 64.14MB 2.9s\n#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 36.70MB / 69.33MB 2.9s\n#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 44.04MB / 64.14MB 3.1s\n#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 46.14MB / 69.33MB 3.1s\n#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 49.28MB / 64.14MB 3.2s\n#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 51.52MB / 69.33MB 3.2s\n#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 53.48MB / 64.14MB 3.3s\n#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 57.67MB / 69.33MB 3.3s\n#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 57.67MB / 64.14MB 3.4s\n#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 63.74MB / 69.33MB 3.4s\n#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 61.87MB / 64.14MB 3.5s\n#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 68.16MB / 69.33MB 3.5s\n#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 64.14MB / 64.14MB 3.6s done\n#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 69.33MB / 69.33MB 3.5s done\n#7 sha256:35955cffce03e15663107c788902ad19762864ee7aa47cccd893d3c80279de9e 0B / 174B 3.7s\n#7 sha256:4f4fb700ef54461cfa02571ae0db9a0dc1e0cdb5577484a6d75e68dc38e8acc1 0B / 32B 3.7s\n#7 sha256:35955cffce03e15663107c788902ad19762864ee7aa47cccd893d3c80279de9e 174B / 174B 3.7s done\n#7 sha256:4f4fb700ef54461cfa02571ae0db9a0dc1e0cdb5577484a6d75e68dc38e8acc1 32B / 32B 3.8s done\n#7 extracting sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 2.4s done\n#7 extracting sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4\n#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 30.41MB / 92.41MB 4.5s\n#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 39.85MB / 92.41MB 4.7s\n#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 52.43MB / 92.41MB 4.9s\n#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 59.77MB / 92.41MB 5.0s\n#7 extracting sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 0.6s done\n#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 66.63MB / 92.41MB 5.1s\n#7 extracting sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428\n#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 74.45MB / 92.41MB 5.2s\n#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 82.84MB / 92.41MB 5.3s\n#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 91.23MB / 92.41MB 5.4s\n#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 92.41MB / 92.41MB 5.5s done\n#7 ...\n\n#8 [certs 1/2] FROM docker.io/library/alpine:3.17.5@sha256:f71a5f071694a785e064f05fed657bf8277f1b2113a8ed70c90ad486d6ee54dc\n#8 resolve docker.io/library/alpine:3.17.5@sha256:f71a5f071694a785e064f05fed657bf8277f1b2113a8ed70c90ad486d6ee54dc 0.1s done\n#8 sha256:1e0b8b5322fc6afc339bb325d3ec739cba6e87a7f0bb4b7e55b52f7feb965dd3 1.47kB / 1.47kB done\n#8 sha256:f71a5f071694a785e064f05fed657bf8277f1b2113a8ed70c90ad486d6ee54dc 1.64kB / 1.64kB done\n#8 sha256:7298bd41b8aee1adde2a0a2819f695b5057bfd0234bf250f0e5d9946c7ab38bd 528B / 528B done\n#8 sha256:9398808236ffac29e60c04ec906d8d409af7fa19dc57d8c65ad167e9c4967006 3.38MB / 3.38MB 5.5s done\n#8 extracting sha256:9398808236ffac29e60c04ec906d8d409af7fa19dc57d8c65ad167e9c4967006 0.1s done\n#8 DONE 5.8s\n\n#7 [builder 1/6] FROM docker.io/library/golang:1.22.2@sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae\n#7 ...\n\n#9 [certs 2/2] RUN apk add --no-cache ca-certificates\n#9 0.694 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz\n#9 ...\n\n#10 [openstack-cloud-controller-manager 1/3] FROM registry.k8s.io/build-image/go-runner:v2.3.1-go1.22.2-bookworm.0@sha256:8644c8f4dd64274085dc8b8b65148ab12b50c18e5c733b002d8ac72449e7852a\n#10 resolve registry.k8s.io/build-image/go-runner:v2.3.1-go1.22.2-bookworm.0@sha256:8644c8f4dd64274085dc8b8b65148ab12b50c18e5c733b002d8ac72449e7852a 0.1s done\n#10 sha256:8644c8f4dd64274085dc8b8b65148ab12b50c18e5c733b002d8ac72449e7852a 1.70kB / 1.70kB done\n#10 sha256:fce463ebd818096385b3b81bc817e420f2caca7ecb0152f333c78ee214719ee7 2.43kB / 2.43kB done\n#10 sha256:139dcf5082efddb2ef1ef8d9db62eb0bf95c7e0ad8077b8b007d0899655b6a6c 2.81kB / 2.81kB done\n#10 sha256:286c61c9a31ace5fa0b8832c8e8e30d66bf32138f2f787463235aa0071f714ea 84.57kB / 84.57kB 4.0s done\n#10 sha256:2bdf44d7aa71bf3a0da2de0563ad0e3882948d699b4991edf8c0ab44e7f26ae3 12.58kB / 12.58kB 4.0s done\n#10 extracting sha256:286c61c9a31ace5fa0b8832c8e8e30d66bf32138f2f787463235aa0071f714ea done\n#10 extracting sha256:2bdf44d7aa71bf3a0da2de0563ad0e3882948d699b4991edf8c0ab44e7f26ae3 done\n#10 sha256:452e9eed7ecfd0c2b44ac6fda20cee66ab98aec38ba30aa868e02445be7c8bb0 452.68kB / 452.68kB 4.6s done\n#10 sha256:0f8b424aa0b96c1c388a5fd4d90735604459256336853082afb61733438872b5 75B / 75B 4.2s done\n#10 sha256:d557676654e572af3e3173c90e7874644207fda32cd87e9d3d66b5d7b98a7b21 193B / 193B 4.3s done\n#10 sha256:c8022d07192eddbb2a548ba83be5e412f7ba863bbba158d133c9653bb8a47768 130B / 130B 4.4s done\n#10 sha256:d858cbc252ade14879807ff8dbc3043a26bbdb92087da98cda831ee040b172b3 173B / 173B 4.6s done\n#10 extracting sha256:452e9eed7ecfd0c2b44ac6fda20cee66ab98aec38ba30aa868e02445be7c8bb0 0.2s done\n#10 sha256:1069fc2daed1aceff7232f4b8ab21200dd3d8b04f61be9da86977a34a105dfdc 97B / 97B 4.7s done\n#10 sha256:4aa0ea1413d37a58615488592a0b827ea4b2e48fa5a77cf707d0e35f025e613f 385B / 385B 4.7s done\n#10 sha256:3f4e2c5863480125882d92060440a5250766bce764fee10acdbac18c872e4dc7 326B / 326B 4.8s done\n#10 sha256:80a8c047508ae5cd6a591060fc43422cb8e3aea1bd908d913e8f0146e2297fea 129.11kB / 129.11kB 5.0s done\n#10 sha256:6625e293fdbf7cfdd3272c9e871714e6de754bc859bf9e0ec84e4dd0a860b631 764.42kB / 764.42kB 6.2s done\n#10 extracting sha256:0f8b424aa0b96c1c388a5fd4d90735604459256336853082afb61733438872b5 done\n#10 extracting sha256:d557676654e572af3e3173c90e7874644207fda32cd87e9d3d66b5d7b98a7b21 done\n#10 extracting sha256:c8022d07192eddbb2a548ba83be5e412f7ba863bbba158d133c9653bb8a47768 done\n#10 extracting sha256:d858cbc252ade14879807ff8dbc3043a26bbdb92087da98cda831ee040b172b3 done\n#10 extracting sha256:1069fc2daed1aceff7232f4b8ab21200dd3d8b04f61be9da86977a34a105dfdc done\n#10 extracting sha256:4aa0ea1413d37a58615488592a0b827ea4b2e48fa5a77cf707d0e35f025e613f done\n#10 extracting sha256:3f4e2c5863480125882d92060440a5250766bce764fee10acdbac18c872e4dc7 done\n#10 extracting sha256:80a8c047508ae5cd6a591060fc43422cb8e3aea1bd908d913e8f0146e2297fea done\n#10 extracting sha256:6625e293fdbf7cfdd3272c9e871714e6de754bc859bf9e0ec84e4dd0a860b631 0.2s done\n#10 DONE 6.8s\n\n#9 [certs 2/2] RUN apk add --no-cache ca-certificates\n#9 1.079 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz\n#9 1.597 (1/1) Installing ca-certificates (20240226-r0)\n#9 1.650 Executing busybox-1.35.0-r29.trigger\n#9 1.665 Executing ca-certificates-20240226-r0.trigger\n#9 1.765 OK: 8 MiB in 16 packages\n#9 DONE 2.0s\n\n#7 [builder 1/6] FROM docker.io/library/golang:1.22.2@sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae\n#7 ...\n\n#11 [openstack-cloud-controller-manager 2/3] COPY --from=certs /etc/ssl/certs /etc/ssl/certs\n#11 DONE 0.1s\n\n#7 [builder 1/6] FROM docker.io/library/golang:1.22.2@sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae\n#7 extracting sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 3.3s done\n#7 extracting sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a\n#7 extracting sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 2.7s done\n#7 extracting sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c\n#7 extracting sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 4.4s done\n#7 extracting sha256:35955cffce03e15663107c788902ad19762864ee7aa47cccd893d3c80279de9e\n#7 extracting sha256:35955cffce03e15663107c788902ad19762864ee7aa47cccd893d3c80279de9e done\n#7 extracting sha256:4f4fb700ef54461cfa02571ae0db9a0dc1e0cdb5577484a6d75e68dc38e8acc1 done\n#7 DONE 16.4s\n\n#12 [builder 2/6] WORKDIR /build\n#12 DONE 0.9s\n\n#13 [builder 3/6] COPY Makefile go.mod go.sum ./\n#13 DONE 0.1s\n\n#14 [builder 4/6] COPY cmd/ cmd/\n#14 DONE 0.1s\n\n#15 [builder 5/6] COPY pkg/ pkg/\n#15 DONE 0.3s\n\n#16 [builder 6/6] RUN make build GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct VERSION=v0.0.99\n#16 0.444 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\\n#16 0.444 \t-trimpath \\\n#16 0.444 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\\n#16 0.444 \t-o openstack-cloud-controller-manager \\\n#16 0.444 \tcmd/openstack-cloud-controller-manager/main.go\n#16 0.468 go: downloading k8s.io/cloud-provider v0.31.1\n#16 0.468 go: downloading k8s.io/apimachinery v0.31.1\n#16 0.468 go: downloading k8s.io/component-base v0.31.1\n#16 0.468 go: downloading k8s.io/klog/v2 v2.130.1\n#16 0.469 go: downloading k8s.io/kubernetes v1.31.1\n#16 0.504 go: downloading github.com/gophercloud/gophercloud/v2 v2.0.0\n#16 1.807 go: downloading github.com/gophercloud/utils/v2 v2.0.0-20240701101423-2401526caee5\n#16 1.807 go: downloading github.com/mitchellh/mapstructure v1.5.0\n#16 1.807 go: downloading github.com/spf13/pflag v1.0.5\n#16 1.808 go: downloading k8s.io/api v0.31.1\n#16 1.808 go: downloading gopkg.in/gcfg.v1 v1.2.3\n#16 1.808 go: downloading k8s.io/client-go v0.31.1\n#16 1.808 go: downloading gopkg.in/godo.v2 v2.0.9\n#16 1.810 go: downloading k8s.io/utils v0.0.0-20240711033017-18e509b52bc8\n#16 1.895 go: downloading github.com/go-logr/logr v1.4.2\n#16 1.902 go: downloading github.com/spf13/cobra v1.8.1\n#16 1.915 go: downloading k8s.io/apiserver v0.31.1\n#16 2.835 go: downloading k8s.io/controller-manager v0.31.1\n#16 2.890 go: downloading github.com/container-storage-interface/spec v1.9.0\n#16 2.890 go: downloading github.com/stretchr/testify v1.9.0\n#16 2.891 go: downloading gopkg.in/warnings.v0 v0.1.2\n#16 2.892 go: downloading github.com/hashicorp/go-version v1.6.0\n#16 2.896 go: downloading github.com/MichaelTJones/walk v0.0.0-20161122175330-4748e29d5718\n#16 2.896 go: downloading github.com/mgutz/str v1.2.0\n#16 2.898 go: downloading github.com/gogo/protobuf v1.3.2\n#16 2.899 go: downloading sigs.k8s.io/structured-merge-diff/v4 v4.4.1\n#16 2.900 go: downloading github.com/google/uuid v1.6.0\n#16 2.902 go: downloading k8s.io/component-helpers v0.31.1\n#16 2.903 go: downloading github.com/google/go-cmp v0.6.0\n#16 2.904 go: downloading github.com/prometheus/client_golang v1.19.1\n#16 2.924 go: downloading github.com/blang/semver/v4 v4.0.0\n#16 2.928 go: downloading github.com/prometheus/client_model v0.6.1\n#16 2.929 go: downloading github.com/prometheus/procfs v0.15.1\n#16 2.941 go: downloading gopkg.in/yaml.v2 v2.4.0\n#16 2.943 go: downloading github.com/moby/term v0.5.0\n#16 2.949 go: downloading golang.org/x/oauth2 v0.21.0\n#16 2.951 go: downloading github.com/google/gofuzz v1.2.0\n#16 2.958 go: downloading github.com/coreos/go-systemd/v22 v22.5.0\n#16 2.963 go: downloading github.com/emicklei/go-restful/v3 v3.11.0\n#16 2.966 go: downloading golang.org/x/crypto v0.24.0\n#16 2.969 go: downloading golang.org/x/net v0.26.0\n#16 2.972 go: downloading golang.org/x/time v0.3.0\n#16 2.984 go: downloading gopkg.in/evanphx/json-patch.v4 v4.12.0\n#16 2.990 go: downloading k8s.io/kube-openapi v0.0.0-20240228011516-70dd3763d340\n#16 3.023 go: downloading github.com/fsnotify/fsnotify v1.7.0\n#16 3.025 go: downloading go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracegrpc v1.27.0\n#16 3.028 go: downloading go.opentelemetry.io/otel/sdk v1.28.0\n#16 3.049 go: downloading go.opentelemetry.io/otel/exporters/otlp/otlptrace v1.28.0\n#16 3.061 go: downloading go.opentelemetry.io/otel v1.28.0\n#16 3.067 go: downloading golang.org/x/sys v0.21.0\n#16 3.218 go: downloading google.golang.org/grpc v1.65.0\n#16 3.300 go: downloading gopkg.in/natefinch/lumberjack.v2 v2.2.1\n#16 3.305 go: downloading github.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da\n#16 3.308 go: downloading github.com/google/gnostic-models v0.6.8\n#16 3.324 go: downloading github.com/gofrs/uuid/v5 v5.2.0\n#16 3.354 go: downloading gopkg.in/yaml.v3 v3.0.1\n#16 3.379 go: downloading github.com/imdario/mergo v0.3.15\n#16 3.401 go: downloading golang.org/x/term v0.21.0\n#16 3.403 go: downloading k8s.io/mount-utils v0.31.1\n#16 3.412 go: downloading sigs.k8s.io/json v0.0.0-20221116044647-bc3834ca7abd\n#16 3.413 go: downloading sigs.k8s.io/yaml v1.4.0\n#16 3.414 go: downloading gopkg.in/inf.v0 v0.9.1\n#16 3.416 go: downloading github.com/golang/protobuf v1.5.4\n#16 3.430 go: downloading go.opentelemetry.io/contrib/instrumentation/net/http/otelhttp v0.53.0\n#16 3.441 go: downloading go.opentelemetry.io/otel/trace v1.28.0\n#16 3.456 go: downloading github.com/davecgh/go-spew v1.1.2-0.20180830191138-d8f796af33cc\n#16 3.465 go: downloading github.com/pmezard/go-difflib v1.0.1-0.20181226105442-5d4384ee4fb2\n#16 3.471 go: downloading github.com/stretchr/objx v0.5.2\n#16 3.477 go: downloading google.golang.org/protobuf v1.34.2\n#16 3.486 go: downloading github.com/google/cel-go v0.20.1\n#16 3.487 go: downloading sigs.k8s.io/apiserver-network-proxy/konnectivity-client v0.30.3\n#16 3.488 go: downloading github.com/beorn7/perks v1.0.1\n#16 3.489 go: downloading github.com/cespare/xxhash/v2 v2.3.0\n#16 3.513 go: downloading github.com/prometheus/common v0.55.0\n#16 3.521 go: downloading github.com/json-iterator/go v1.1.12\n#16 3.522 go: downloading github.com/pkg/errors v0.9.1\n#16 3.542 go: downloading go.opentelemetry.io/proto/otlp v1.3.1\n#16 3.618 go: downloading google.golang.org/genproto/googleapis/rpc v0.0.0-20240701130421-f6361c86f094\n#16 3.619 go: downloading k8s.io/kms v0.31.1\n#16 3.620 go: downloading github.com/grpc-ecosystem/go-grpc-prometheus v1.2.0\n#16 3.655 go: downloading go.etcd.io/etcd/client/pkg/v3 v3.5.14\n#16 3.661 go: downloading go.etcd.io/etcd/client/v3 v3.5.14\n#16 3.682 go: downloading go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc v0.53.0\n#16 3.682 go: downloading go.uber.org/zap v1.26.0\n#16 3.723 go: downloading github.com/mitchellh/go-homedir v1.1.0\n#16 3.723 go: downloading github.com/NYTimes/gziphandler v1.1.1\n#16 3.744 go: downloading github.com/munnerz/goautoneg v0.0.0-20191010083416-a7dc8b61c822\n#16 3.745 go: downloading github.com/go-openapi/jsonreference v0.20.2\n#16 3.746 go: downloading github.com/go-openapi/swag v0.22.4\n#16 3.749 go: downloading github.com/fxamacker/cbor/v2 v2.7.0\n#16 3.750 go: downloading github.com/moby/sys/mountinfo v0.7.1\n#16 3.750 go: downloading github.com/opencontainers/runc v1.1.13\n#16 3.760 go: downloading github.com/felixge/httpsnoop v1.0.4\n#16 3.760 go: downloading go.opentelemetry.io/otel/metric v1.28.0\n#16 3.790 go: downloading google.golang.org/genproto/googleapis/api v0.0.0-20240528184218-531527333157\n#16 3.799 go: downloading golang.org/x/sync v0.7.0\n#16 3.833 go: downloading github.com/asaskevich/govalidator v0.0.0-20230301143203-a9d515a09cc2\n#16 3.847 go: downloading github.com/cenkalti/backoff/v4 v4.3.0\n#16 3.879 go: downloading github.com/grpc-ecosystem/grpc-gateway/v2 v2.20.0\n#16 3.888 go: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd\n#16 3.888 go: downloading github.com/modern-go/reflect2 v1.0.2\n#16 3.889 go: downloading go.etcd.io/etcd/api/v3 v3.5.14\n#16 3.889 go: downloading github.com/stoewer/go-strcase v1.3.0\n#16 3.891 go: downloading golang.org/x/text v0.16.0\n#16 3.893 go: downloading go.uber.org/multierr v1.11.0\n#16 3.925 go: downloading github.com/go-openapi/jsonpointer v0.19.6\n#16 3.929 go: downloading github.com/mailru/easyjson v0.7.7\n#16 3.936 go: downloading github.com/x448/float16 v0.8.4\n#16 3.943 go: downloading github.com/go-logr/stdr v1.2.2\n#16 3.944 go: downloading github.com/antlr4-go/antlr/v4 v4.13.0\n#16 3.946 go: downloading github.com/coreos/go-semver v0.3.1\n#16 4.002 go: downloading github.com/josharian/intern v1.0.0\n#16 4.020 go: downloading golang.org/x/exp v0.0.0-20230515195305-f3d0a9c9a5cc\n#16 5.024 go: downloading k8s.io/apiextensions-apiserver v0.31.1\n#16 49.50 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\\n#16 49.50 \t-trimpath \\\n#16 49.50 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\\n#16 49.50 \t-o cinder-csi-plugin \\\n#16 49.50 \tcmd/cinder-csi-plugin/main.go\n#16 49.62 go: downloading github.com/kubernetes-csi/csi-lib-utils v0.13.0\n#16 60.35 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\\n#16 60.35 \t-trimpath \\\n#16 60.35 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\\n#16 60.35 \t-o k8s-keystone-auth \\\n#16 60.35 \tcmd/k8s-keystone-auth/main.go\n#16 60.38 go: downloading github.com/go-chi/chi/v5 v5.0.8\n#16 63.84 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\\n#16 63.84 \t-trimpath \\\n#16 63.84 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\\n#16 63.84 \t-o octavia-ingress-controller \\\n#16 63.84 \tcmd/octavia-ingress-controller/main.go\n#16 63.86 go: downloading github.com/sirupsen/logrus v1.9.3\n#16 63.89 go: downloading github.com/spf13/viper v1.15.0\n#16 63.89 go: downloading software.sslmate.com/src/go-pkcs12 v0.2.0\n#16 64.05 go: downloading github.com/pelletier/go-toml/v2 v2.0.7\n#16 64.05 go: downloading github.com/hashicorp/hcl v1.0.0\n#16 64.05 go: downloading github.com/subosito/gotenv v1.4.2\n#16 64.05 go: downloading gopkg.in/ini.v1 v1.67.0\n#16 64.05 go: downloading github.com/magiconair/properties v1.8.7\n#16 64.05 go: downloading github.com/spf13/afero v1.9.5\n#16 64.05 go: downloading github.com/spf13/cast v1.5.0\n#16 64.05 go: downloading github.com/spf13/jwalterweatherman v1.1.0\n#16 68.03 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\\n#16 68.03 \t-trimpath \\\n#16 68.03 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\\n#16 68.03 \t-o manila-csi-plugin \\\n#16 68.03 \tcmd/manila-csi-plugin/main.go\n#16 70.65 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\\n#16 70.65 \t-trimpath \\\n#16 70.65 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\\n#16 70.65 \t-o barbican-kms-plugin \\\n#16 70.65 \tcmd/barbican-kms-plugin/main.go\n#16 71.75 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\\n#16 71.75 \t-trimpath \\\n#16 71.75 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\\n#16 71.75 \t-o magnum-auto-healer \\\n#16 71.75 \tcmd/magnum-auto-healer/main.go\n#16 71.81 go: downloading github.com/pborman/uuid v1.2.1\n#16 75.67 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\\n#16 75.67 \t-trimpath \\\n#16 75.67 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\\n#16 75.67 \t-o client-keystone-auth \\\n#16 75.67 \tcmd/client-keystone-auth/main.go\n#16 DONE 78.2s\n\n#17 [openstack-cloud-controller-manager 3/3] COPY --from=builder /build/openstack-cloud-controller-manager /bin/openstack-cloud-controller-manager\n#17 DONE 0.3s\n\n#18 exporting to image\n#18 exporting layers\n#18 exporting layers 0.4s done\n#18 writing image sha256:30196e56d65fff221b9c0922197881ea80118ece5d20dc0e16139e94f5c9ef78 done\n#18 naming to localhost/openstack-cloud-controller-manager:v0.0.99 0.0s done\n#18 DONE 0.4s\n\n#19 pushing localhost/openstack-cloud-controller-manager:v0.0.99 with docker\n#19 pushing layer c9a8c03aa1a9\n#19 pushing layer 28ed85b08189 376.83kB / 221.15kB 0.1s\n#19 pushing layer 06ddf169d3f3\n#19 pushing layer b336e209998f\n#19 pushing layer f4aee9e53c42\n#19 pushing layer 1a73b54f556b\n#19 pushing layer 2a92d6ac9e4f\n#19 pushing layer bbb6cacb8c82\n#19 pushing layer ac805962e479\n#19 pushing layer af5aa97ebe6c\n#19 pushing layer 4d049f83d9cf\n#19 pushing layer 945d17be9a3e\n#19 pushing layer 49626df344c9\n#19 pushing layer 3d6fa0469044\n#19 pushing layer 28ed85b08189 0.2s done\n#19 pushing layer b336e209998f 0.2s done\n#19 pushing layer f4aee9e53c42 0.2s done\n#19 pushing layer 1a73b54f556b 512B / 497B 0.2s\n#19 pushing layer 06ddf169d3f3 0.3s done\n#19 pushing layer 1a73b54f556b 0.3s done\n#19 pushing layer 2a92d6ac9e4f 0.3s done\n#19 pushing layer bbb6cacb8c82 0.3s done\n#19 pushing layer af5aa97ebe6c 512B / 149B 0.3s\n#19 pushing layer ac805962e479 0.3s done\n#19 pushing layer af5aa97ebe6c 0.4s done\n#19 pushing layer 4d049f83d9cf 0.4s done\n#19 pushing layer 945d17be9a3e 167.94kB / 1.46MB 0.5s\n#19 pushing layer 49626df344c9 0.5s done\n#19 pushing layer 3d6fa0469044 278.36kB / 270.61kB 0.5s\n#19 pushing layer c9a8c03aa1a9 4.98MB / 61.81MB 0.7s\n#19 pushing layer 945d17be9a3e 273.41kB / 1.46MB 0.6s\n#19 pushing layer 3d6fa0469044 0.6s done\n#19 pushing layer 945d17be9a3e 427.01kB / 1.46MB 0.7s\n#19 pushing layer 945d17be9a3e 549.89kB / 1.46MB 0.8s\n#19 pushing layer 945d17be9a3e 720.38kB / 1.46MB 1.0s\n#19 pushing layer c9a8c03aa1a9 8.32MB / 61.81MB 1.0s\n#19 pushing layer 945d17be9a3e 873.01kB / 1.46MB 1.1s\n#19 pushing layer 945d17be9a3e 978.43kB / 1.46MB 1.2s\n#19 pushing layer 945d17be9a3e 1.10MB / 1.46MB 1.3s\n#19 pushing layer c9a8c03aa1a9 11.67MB / 61.81MB 1.4s\n#19 pushing layer 945d17be9a3e 1.24MB / 1.46MB 1.5s\n#19 pushing layer 945d17be9a3e 1.39MB / 1.46MB 1.6s\n#19 pushing layer 945d17be9a3e 1.51MB / 1.46MB 1.7s\n#19 pushing layer c9a8c03aa1a9 15.01MB / 61.81MB 1.7s\n#19 pushing layer 945d17be9a3e 1.63MB / 1.46MB 1.8s\n#19 pushing layer 945d17be9a3e 1.79MB / 1.46MB 1.9s\n#19 pushing layer 945d17be9a3e 1.96MB / 1.46MB 2.0s\n#19 pushing layer c9a8c03aa1a9 19.47MB / 61.81MB 2.1s\n#19 pushing layer 945d17be9a3e 2.40MB / 1.46MB 2.1s\n#19 pushing layer 945d17be9a3e 2.1s done\n#19 pushing layer c9a8c03aa1a9 23.36MB / 61.81MB 2.3s\n#19 pushing layer c9a8c03aa1a9 27.82MB / 61.81MB 2.8s\n#19 pushing layer c9a8c03aa1a9 32.28MB / 61.81MB 3.0s\n#19 pushing layer c9a8c03aa1a9 35.62MB / 61.81MB 3.2s\n#19 pushing layer c9a8c03aa1a9 38.96MB / 61.81MB 3.5s\n#19 pushing layer c9a8c03aa1a9 42.30MB / 61.81MB 3.7s\n#19 pushing layer c9a8c03aa1a9 46.76MB / 61.81MB 3.8s\n#19 pushing layer c9a8c03aa1a9 50.66MB / 61.81MB 4.0s\n#19 pushing layer c9a8c03aa1a9 54.00MB / 61.81MB 4.3s\n#19 pushing layer c9a8c03aa1a9 57.90MB / 61.81MB 4.5s\n#19 pushing layer c9a8c03aa1a9 61.81MB / 61.81MB 4.8s\n#19 pushing layer c9a8c03aa1a9 4.8s done\n#19 DONE 5.3s", "stderr_lines": ["#0 building with \"default\" instance using docker driver", "", "#1 [internal] load build definition from Dockerfile", "#1 transferring dockerfile: 30B 0.0s", "#1 transferring dockerfile: 8.13kB 0.0s done", "#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 41)", "#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 49)", "#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 70)", "#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 88)", "#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 112)", "#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 120)", "#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 130)", "#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 152)", "#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 172)", "#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 190)", "#1 WARN: FromAsCasing: 'as' and 'FROM' keywords' casing do not match (line 211)", "#1 WARN: FromPlatformFlagConstDisallowed: FROM --platform flag should not use constant value \"linux/amd64\" (line 41)", "#1 WARN: FromPlatformFlagConstDisallowed: FROM --platform flag should not use constant value \"linux/amd64\" (line 49)", "#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 70)", "#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 88)", "#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 112)", "#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 120)", "#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 130)", "#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 152)", "#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 172)", "#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 190)", "#1 WARN: RedundantTargetPlatform: Setting platform to predefined ${TARGETPLATFORM} in FROM is redundant as this is the default behavior (line 211)", "#1 DONE 0.1s", "", "#2 [internal] load metadata for docker.io/library/golang:1.22.2", "#2 ...", "", "#3 [internal] load metadata for registry.k8s.io/build-image/go-runner:v2.3.1-go1.22.2-bookworm.0", "#3 DONE 1.7s", "", "#4 [internal] load metadata for docker.io/library/alpine:3.17.5", "#4 DONE 2.0s", "", "#2 [internal] load metadata for docker.io/library/golang:1.22.2", "#2 DONE 2.1s", "", "#5 [internal] load .dockerignore", "#5 transferring context: 2B done", "#5 DONE 0.0s", "", "#6 [internal] load build context", "#6 DONE 0.0s", "", "#7 [builder 1/6] FROM docker.io/library/golang:1.22.2@sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae", "#7 resolve docker.io/library/golang:1.22.2@sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae 0.1s done", "#7 ...", "", "#6 [internal] load build context", "#6 transferring context: 1.12MB 0.0s done", "#6 DONE 0.1s", "", "#7 [builder 1/6] FROM docker.io/library/golang:1.22.2@sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae", "#7 sha256:0505a58fa4646ca8c19699d99a1053c789d00d9424ee9d8ed4d988e7642d1672 2.88kB / 2.88kB done", "#7 sha256:5370d4968adad7e969494e744c6d28a93931b89f259accf4d08a94c30446d3a3 1.79kB / 1.79kB done", "#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 0B / 49.58MB 0.2s", "#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 0B / 24.05MB 0.2s", "#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 0B / 64.14MB 0.2s", "#7 sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae 2.13kB / 2.13kB done", "#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 12.58MB / 49.58MB 0.5s", "#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 22.02MB / 49.58MB 0.7s", "#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 2.10MB / 24.05MB 0.7s", "#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 8.39MB / 64.14MB 0.7s", "#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 28.31MB / 49.58MB 0.9s", "#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 4.19MB / 24.05MB 0.9s", "#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 37.75MB / 49.58MB 1.5s", "#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 7.34MB / 24.05MB 1.5s", "#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 46.14MB / 49.58MB 1.6s", "#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 9.44MB / 24.05MB 1.6s", "#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 49.58MB / 49.58MB 1.7s", "#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 12.58MB / 24.05MB 1.7s", "#7 extracting sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f", "#7 sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 49.58MB / 49.58MB 1.7s done", "#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 14.68MB / 24.05MB 1.8s", "#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 0B / 92.41MB 1.8s", "#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 17.83MB / 24.05MB 1.9s", "#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 20.97MB / 24.05MB 2.0s", "#7 sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 24.05MB / 24.05MB 2.0s done", "#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 13.63MB / 64.14MB 2.2s", "#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 16.78MB / 92.41MB 2.2s", "#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 0B / 69.33MB 2.2s", "#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 17.83MB / 64.14MB 2.4s", "#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 23.07MB / 92.41MB 2.4s", "#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 6.29MB / 69.33MB 2.4s", "#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 11.53MB / 69.33MB 2.5s", "#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 23.93MB / 64.14MB 2.6s", "#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 17.83MB / 69.33MB 2.6s", "#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 31.46MB / 64.14MB 2.8s", "#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 29.36MB / 69.33MB 2.8s", "#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 35.65MB / 64.14MB 2.9s", "#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 36.70MB / 69.33MB 2.9s", "#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 44.04MB / 64.14MB 3.1s", "#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 46.14MB / 69.33MB 3.1s", "#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 49.28MB / 64.14MB 3.2s", "#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 51.52MB / 69.33MB 3.2s", "#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 53.48MB / 64.14MB 3.3s", "#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 57.67MB / 69.33MB 3.3s", "#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 57.67MB / 64.14MB 3.4s", "#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 63.74MB / 69.33MB 3.4s", "#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 61.87MB / 64.14MB 3.5s", "#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 68.16MB / 69.33MB 3.5s", "#7 sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 64.14MB / 64.14MB 3.6s done", "#7 sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 69.33MB / 69.33MB 3.5s done", "#7 sha256:35955cffce03e15663107c788902ad19762864ee7aa47cccd893d3c80279de9e 0B / 174B 3.7s", "#7 sha256:4f4fb700ef54461cfa02571ae0db9a0dc1e0cdb5577484a6d75e68dc38e8acc1 0B / 32B 3.7s", "#7 sha256:35955cffce03e15663107c788902ad19762864ee7aa47cccd893d3c80279de9e 174B / 174B 3.7s done", "#7 sha256:4f4fb700ef54461cfa02571ae0db9a0dc1e0cdb5577484a6d75e68dc38e8acc1 32B / 32B 3.8s done", "#7 extracting sha256:1468e7ff95fcb865fbc4dee7094f8b99c4dcddd6eb2180cf044c7396baf6fc2f 2.4s done", "#7 extracting sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4", "#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 30.41MB / 92.41MB 4.5s", "#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 39.85MB / 92.41MB 4.7s", "#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 52.43MB / 92.41MB 4.9s", "#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 59.77MB / 92.41MB 5.0s", "#7 extracting sha256:2cf9c2b42f41b1845f3e4421b723d56146db82939dc884555e077768e18132f4 0.6s done", "#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 66.63MB / 92.41MB 5.1s", "#7 extracting sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428", "#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 74.45MB / 92.41MB 5.2s", "#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 82.84MB / 92.41MB 5.3s", "#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 91.23MB / 92.41MB 5.4s", "#7 sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 92.41MB / 92.41MB 5.5s done", "#7 ...", "", "#8 [certs 1/2] FROM docker.io/library/alpine:3.17.5@sha256:f71a5f071694a785e064f05fed657bf8277f1b2113a8ed70c90ad486d6ee54dc", "#8 resolve docker.io/library/alpine:3.17.5@sha256:f71a5f071694a785e064f05fed657bf8277f1b2113a8ed70c90ad486d6ee54dc 0.1s done", "#8 sha256:1e0b8b5322fc6afc339bb325d3ec739cba6e87a7f0bb4b7e55b52f7feb965dd3 1.47kB / 1.47kB done", "#8 sha256:f71a5f071694a785e064f05fed657bf8277f1b2113a8ed70c90ad486d6ee54dc 1.64kB / 1.64kB done", "#8 sha256:7298bd41b8aee1adde2a0a2819f695b5057bfd0234bf250f0e5d9946c7ab38bd 528B / 528B done", "#8 sha256:9398808236ffac29e60c04ec906d8d409af7fa19dc57d8c65ad167e9c4967006 3.38MB / 3.38MB 5.5s done", "#8 extracting sha256:9398808236ffac29e60c04ec906d8d409af7fa19dc57d8c65ad167e9c4967006 0.1s done", "#8 DONE 5.8s", "", "#7 [builder 1/6] FROM docker.io/library/golang:1.22.2@sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae", "#7 ...", "", "#9 [certs 2/2] RUN apk add --no-cache ca-certificates", "#9 0.694 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/x86_64/APKINDEX.tar.gz", "#9 ...", "", "#10 [openstack-cloud-controller-manager 1/3] FROM registry.k8s.io/build-image/go-runner:v2.3.1-go1.22.2-bookworm.0@sha256:8644c8f4dd64274085dc8b8b65148ab12b50c18e5c733b002d8ac72449e7852a", "#10 resolve registry.k8s.io/build-image/go-runner:v2.3.1-go1.22.2-bookworm.0@sha256:8644c8f4dd64274085dc8b8b65148ab12b50c18e5c733b002d8ac72449e7852a 0.1s done", "#10 sha256:8644c8f4dd64274085dc8b8b65148ab12b50c18e5c733b002d8ac72449e7852a 1.70kB / 1.70kB done", "#10 sha256:fce463ebd818096385b3b81bc817e420f2caca7ecb0152f333c78ee214719ee7 2.43kB / 2.43kB done", "#10 sha256:139dcf5082efddb2ef1ef8d9db62eb0bf95c7e0ad8077b8b007d0899655b6a6c 2.81kB / 2.81kB done", "#10 sha256:286c61c9a31ace5fa0b8832c8e8e30d66bf32138f2f787463235aa0071f714ea 84.57kB / 84.57kB 4.0s done", "#10 sha256:2bdf44d7aa71bf3a0da2de0563ad0e3882948d699b4991edf8c0ab44e7f26ae3 12.58kB / 12.58kB 4.0s done", "#10 extracting sha256:286c61c9a31ace5fa0b8832c8e8e30d66bf32138f2f787463235aa0071f714ea done", "#10 extracting sha256:2bdf44d7aa71bf3a0da2de0563ad0e3882948d699b4991edf8c0ab44e7f26ae3 done", "#10 sha256:452e9eed7ecfd0c2b44ac6fda20cee66ab98aec38ba30aa868e02445be7c8bb0 452.68kB / 452.68kB 4.6s done", "#10 sha256:0f8b424aa0b96c1c388a5fd4d90735604459256336853082afb61733438872b5 75B / 75B 4.2s done", "#10 sha256:d557676654e572af3e3173c90e7874644207fda32cd87e9d3d66b5d7b98a7b21 193B / 193B 4.3s done", "#10 sha256:c8022d07192eddbb2a548ba83be5e412f7ba863bbba158d133c9653bb8a47768 130B / 130B 4.4s done", "#10 sha256:d858cbc252ade14879807ff8dbc3043a26bbdb92087da98cda831ee040b172b3 173B / 173B 4.6s done", "#10 extracting sha256:452e9eed7ecfd0c2b44ac6fda20cee66ab98aec38ba30aa868e02445be7c8bb0 0.2s done", "#10 sha256:1069fc2daed1aceff7232f4b8ab21200dd3d8b04f61be9da86977a34a105dfdc 97B / 97B 4.7s done", "#10 sha256:4aa0ea1413d37a58615488592a0b827ea4b2e48fa5a77cf707d0e35f025e613f 385B / 385B 4.7s done", "#10 sha256:3f4e2c5863480125882d92060440a5250766bce764fee10acdbac18c872e4dc7 326B / 326B 4.8s done", "#10 sha256:80a8c047508ae5cd6a591060fc43422cb8e3aea1bd908d913e8f0146e2297fea 129.11kB / 129.11kB 5.0s done", "#10 sha256:6625e293fdbf7cfdd3272c9e871714e6de754bc859bf9e0ec84e4dd0a860b631 764.42kB / 764.42kB 6.2s done", "#10 extracting sha256:0f8b424aa0b96c1c388a5fd4d90735604459256336853082afb61733438872b5 done", "#10 extracting sha256:d557676654e572af3e3173c90e7874644207fda32cd87e9d3d66b5d7b98a7b21 done", "#10 extracting sha256:c8022d07192eddbb2a548ba83be5e412f7ba863bbba158d133c9653bb8a47768 done", "#10 extracting sha256:d858cbc252ade14879807ff8dbc3043a26bbdb92087da98cda831ee040b172b3 done", "#10 extracting sha256:1069fc2daed1aceff7232f4b8ab21200dd3d8b04f61be9da86977a34a105dfdc done", "#10 extracting sha256:4aa0ea1413d37a58615488592a0b827ea4b2e48fa5a77cf707d0e35f025e613f done", "#10 extracting sha256:3f4e2c5863480125882d92060440a5250766bce764fee10acdbac18c872e4dc7 done", "#10 extracting sha256:80a8c047508ae5cd6a591060fc43422cb8e3aea1bd908d913e8f0146e2297fea done", "#10 extracting sha256:6625e293fdbf7cfdd3272c9e871714e6de754bc859bf9e0ec84e4dd0a860b631 0.2s done", "#10 DONE 6.8s", "", "#9 [certs 2/2] RUN apk add --no-cache ca-certificates", "#9 1.079 fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/x86_64/APKINDEX.tar.gz", "#9 1.597 (1/1) Installing ca-certificates (20240226-r0)", "#9 1.650 Executing busybox-1.35.0-r29.trigger", "#9 1.665 Executing ca-certificates-20240226-r0.trigger", "#9 1.765 OK: 8 MiB in 16 packages", "#9 DONE 2.0s", "", "#7 [builder 1/6] FROM docker.io/library/golang:1.22.2@sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae", "#7 ...", "", "#11 [openstack-cloud-controller-manager 2/3] COPY --from=certs /etc/ssl/certs /etc/ssl/certs", "#11 DONE 0.1s", "", "#7 [builder 1/6] FROM docker.io/library/golang:1.22.2@sha256:d5302d40dc5fbbf38ec472d1848a9d2391a13f93293a6a5b0b87c99dc0eaa6ae", "#7 extracting sha256:c4c40c3e3cdf945721f480e1d939aac857876fdb5c33b8fbfcf655c63b0b9428 3.3s done", "#7 extracting sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a", "#7 extracting sha256:18445a9ea386c08b9cd5a46a17c8099d961d6813c6f5945e2adeb24ba596456a 2.7s done", "#7 extracting sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c", "#7 extracting sha256:869f438912de025a33ddefebc1b04b8ba32dcb126a2cac0203aaf454384f626c 4.4s done", "#7 extracting sha256:35955cffce03e15663107c788902ad19762864ee7aa47cccd893d3c80279de9e", "#7 extracting sha256:35955cffce03e15663107c788902ad19762864ee7aa47cccd893d3c80279de9e done", "#7 extracting sha256:4f4fb700ef54461cfa02571ae0db9a0dc1e0cdb5577484a6d75e68dc38e8acc1 done", "#7 DONE 16.4s", "", "#12 [builder 2/6] WORKDIR /build", "#12 DONE 0.9s", "", "#13 [builder 3/6] COPY Makefile go.mod go.sum ./", "#13 DONE 0.1s", "", "#14 [builder 4/6] COPY cmd/ cmd/", "#14 DONE 0.1s", "", "#15 [builder 5/6] COPY pkg/ pkg/", "#15 DONE 0.3s", "", "#16 [builder 6/6] RUN make build GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct VERSION=v0.0.99", "#16 0.444 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\", "#16 0.444 \t-trimpath \\", "#16 0.444 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\", "#16 0.444 \t-o openstack-cloud-controller-manager \\", "#16 0.444 \tcmd/openstack-cloud-controller-manager/main.go", "#16 0.468 go: downloading k8s.io/cloud-provider v0.31.1", "#16 0.468 go: downloading k8s.io/apimachinery v0.31.1", "#16 0.468 go: downloading k8s.io/component-base v0.31.1", "#16 0.468 go: downloading k8s.io/klog/v2 v2.130.1", "#16 0.469 go: downloading k8s.io/kubernetes v1.31.1", "#16 0.504 go: downloading github.com/gophercloud/gophercloud/v2 v2.0.0", "#16 1.807 go: downloading github.com/gophercloud/utils/v2 v2.0.0-20240701101423-2401526caee5", "#16 1.807 go: downloading github.com/mitchellh/mapstructure v1.5.0", "#16 1.807 go: downloading github.com/spf13/pflag v1.0.5", "#16 1.808 go: downloading k8s.io/api v0.31.1", "#16 1.808 go: downloading gopkg.in/gcfg.v1 v1.2.3", "#16 1.808 go: downloading k8s.io/client-go v0.31.1", "#16 1.808 go: downloading gopkg.in/godo.v2 v2.0.9", "#16 1.810 go: downloading k8s.io/utils v0.0.0-20240711033017-18e509b52bc8", "#16 1.895 go: downloading github.com/go-logr/logr v1.4.2", "#16 1.902 go: downloading github.com/spf13/cobra v1.8.1", "#16 1.915 go: downloading k8s.io/apiserver v0.31.1", "#16 2.835 go: downloading k8s.io/controller-manager v0.31.1", "#16 2.890 go: downloading github.com/container-storage-interface/spec v1.9.0", "#16 2.890 go: downloading github.com/stretchr/testify v1.9.0", "#16 2.891 go: downloading gopkg.in/warnings.v0 v0.1.2", "#16 2.892 go: downloading github.com/hashicorp/go-version v1.6.0", "#16 2.896 go: downloading github.com/MichaelTJones/walk v0.0.0-20161122175330-4748e29d5718", "#16 2.896 go: downloading github.com/mgutz/str v1.2.0", "#16 2.898 go: downloading github.com/gogo/protobuf v1.3.2", "#16 2.899 go: downloading sigs.k8s.io/structured-merge-diff/v4 v4.4.1", "#16 2.900 go: downloading github.com/google/uuid v1.6.0", "#16 2.902 go: downloading k8s.io/component-helpers v0.31.1", "#16 2.903 go: downloading github.com/google/go-cmp v0.6.0", "#16 2.904 go: downloading github.com/prometheus/client_golang v1.19.1", "#16 2.924 go: downloading github.com/blang/semver/v4 v4.0.0", "#16 2.928 go: downloading github.com/prometheus/client_model v0.6.1", "#16 2.929 go: downloading github.com/prometheus/procfs v0.15.1", "#16 2.941 go: downloading gopkg.in/yaml.v2 v2.4.0", "#16 2.943 go: downloading github.com/moby/term v0.5.0", "#16 2.949 go: downloading golang.org/x/oauth2 v0.21.0", "#16 2.951 go: downloading github.com/google/gofuzz v1.2.0", "#16 2.958 go: downloading github.com/coreos/go-systemd/v22 v22.5.0", "#16 2.963 go: downloading github.com/emicklei/go-restful/v3 v3.11.0", "#16 2.966 go: downloading golang.org/x/crypto v0.24.0", "#16 2.969 go: downloading golang.org/x/net v0.26.0", "#16 2.972 go: downloading golang.org/x/time v0.3.0", "#16 2.984 go: downloading gopkg.in/evanphx/json-patch.v4 v4.12.0", "#16 2.990 go: downloading k8s.io/kube-openapi v0.0.0-20240228011516-70dd3763d340", "#16 3.023 go: downloading github.com/fsnotify/fsnotify v1.7.0", "#16 3.025 go: downloading go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracegrpc v1.27.0", "#16 3.028 go: downloading go.opentelemetry.io/otel/sdk v1.28.0", "#16 3.049 go: downloading go.opentelemetry.io/otel/exporters/otlp/otlptrace v1.28.0", "#16 3.061 go: downloading go.opentelemetry.io/otel v1.28.0", "#16 3.067 go: downloading golang.org/x/sys v0.21.0", "#16 3.218 go: downloading google.golang.org/grpc v1.65.0", "#16 3.300 go: downloading gopkg.in/natefinch/lumberjack.v2 v2.2.1", "#16 3.305 go: downloading github.com/golang/groupcache v0.0.0-20210331224755-41bb18bfe9da", "#16 3.308 go: downloading github.com/google/gnostic-models v0.6.8", "#16 3.324 go: downloading github.com/gofrs/uuid/v5 v5.2.0", "#16 3.354 go: downloading gopkg.in/yaml.v3 v3.0.1", "#16 3.379 go: downloading github.com/imdario/mergo v0.3.15", "#16 3.401 go: downloading golang.org/x/term v0.21.0", "#16 3.403 go: downloading k8s.io/mount-utils v0.31.1", "#16 3.412 go: downloading sigs.k8s.io/json v0.0.0-20221116044647-bc3834ca7abd", "#16 3.413 go: downloading sigs.k8s.io/yaml v1.4.0", "#16 3.414 go: downloading gopkg.in/inf.v0 v0.9.1", "#16 3.416 go: downloading github.com/golang/protobuf v1.5.4", "#16 3.430 go: downloading go.opentelemetry.io/contrib/instrumentation/net/http/otelhttp v0.53.0", "#16 3.441 go: downloading go.opentelemetry.io/otel/trace v1.28.0", "#16 3.456 go: downloading github.com/davecgh/go-spew v1.1.2-0.20180830191138-d8f796af33cc", "#16 3.465 go: downloading github.com/pmezard/go-difflib v1.0.1-0.20181226105442-5d4384ee4fb2", "#16 3.471 go: downloading github.com/stretchr/objx v0.5.2", "#16 3.477 go: downloading google.golang.org/protobuf v1.34.2", "#16 3.486 go: downloading github.com/google/cel-go v0.20.1", "#16 3.487 go: downloading sigs.k8s.io/apiserver-network-proxy/konnectivity-client v0.30.3", "#16 3.488 go: downloading github.com/beorn7/perks v1.0.1", "#16 3.489 go: downloading github.com/cespare/xxhash/v2 v2.3.0", "#16 3.513 go: downloading github.com/prometheus/common v0.55.0", "#16 3.521 go: downloading github.com/json-iterator/go v1.1.12", "#16 3.522 go: downloading github.com/pkg/errors v0.9.1", "#16 3.542 go: downloading go.opentelemetry.io/proto/otlp v1.3.1", "#16 3.618 go: downloading google.golang.org/genproto/googleapis/rpc v0.0.0-20240701130421-f6361c86f094", "#16 3.619 go: downloading k8s.io/kms v0.31.1", "#16 3.620 go: downloading github.com/grpc-ecosystem/go-grpc-prometheus v1.2.0", "#16 3.655 go: downloading go.etcd.io/etcd/client/pkg/v3 v3.5.14", "#16 3.661 go: downloading go.etcd.io/etcd/client/v3 v3.5.14", "#16 3.682 go: downloading go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc v0.53.0", "#16 3.682 go: downloading go.uber.org/zap v1.26.0", "#16 3.723 go: downloading github.com/mitchellh/go-homedir v1.1.0", "#16 3.723 go: downloading github.com/NYTimes/gziphandler v1.1.1", "#16 3.744 go: downloading github.com/munnerz/goautoneg v0.0.0-20191010083416-a7dc8b61c822", "#16 3.745 go: downloading github.com/go-openapi/jsonreference v0.20.2", "#16 3.746 go: downloading github.com/go-openapi/swag v0.22.4", "#16 3.749 go: downloading github.com/fxamacker/cbor/v2 v2.7.0", "#16 3.750 go: downloading github.com/moby/sys/mountinfo v0.7.1", "#16 3.750 go: downloading github.com/opencontainers/runc v1.1.13", "#16 3.760 go: downloading github.com/felixge/httpsnoop v1.0.4", "#16 3.760 go: downloading go.opentelemetry.io/otel/metric v1.28.0", "#16 3.790 go: downloading google.golang.org/genproto/googleapis/api v0.0.0-20240528184218-531527333157", "#16 3.799 go: downloading golang.org/x/sync v0.7.0", "#16 3.833 go: downloading github.com/asaskevich/govalidator v0.0.0-20230301143203-a9d515a09cc2", "#16 3.847 go: downloading github.com/cenkalti/backoff/v4 v4.3.0", "#16 3.879 go: downloading github.com/grpc-ecosystem/grpc-gateway/v2 v2.20.0", "#16 3.888 go: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd", "#16 3.888 go: downloading github.com/modern-go/reflect2 v1.0.2", "#16 3.889 go: downloading go.etcd.io/etcd/api/v3 v3.5.14", "#16 3.889 go: downloading github.com/stoewer/go-strcase v1.3.0", "#16 3.891 go: downloading golang.org/x/text v0.16.0", "#16 3.893 go: downloading go.uber.org/multierr v1.11.0", "#16 3.925 go: downloading github.com/go-openapi/jsonpointer v0.19.6", "#16 3.929 go: downloading github.com/mailru/easyjson v0.7.7", "#16 3.936 go: downloading github.com/x448/float16 v0.8.4", "#16 3.943 go: downloading github.com/go-logr/stdr v1.2.2", "#16 3.944 go: downloading github.com/antlr4-go/antlr/v4 v4.13.0", "#16 3.946 go: downloading github.com/coreos/go-semver v0.3.1", "#16 4.002 go: downloading github.com/josharian/intern v1.0.0", "#16 4.020 go: downloading golang.org/x/exp v0.0.0-20230515195305-f3d0a9c9a5cc", "#16 5.024 go: downloading k8s.io/apiextensions-apiserver v0.31.1", "#16 49.50 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\", "#16 49.50 \t-trimpath \\", "#16 49.50 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\", "#16 49.50 \t-o cinder-csi-plugin \\", "#16 49.50 \tcmd/cinder-csi-plugin/main.go", "#16 49.62 go: downloading github.com/kubernetes-csi/csi-lib-utils v0.13.0", "#16 60.35 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\", "#16 60.35 \t-trimpath \\", "#16 60.35 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\", "#16 60.35 \t-o k8s-keystone-auth \\", "#16 60.35 \tcmd/k8s-keystone-auth/main.go", "#16 60.38 go: downloading github.com/go-chi/chi/v5 v5.0.8", "#16 63.84 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\", "#16 63.84 \t-trimpath \\", "#16 63.84 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\", "#16 63.84 \t-o octavia-ingress-controller \\", "#16 63.84 \tcmd/octavia-ingress-controller/main.go", "#16 63.86 go: downloading github.com/sirupsen/logrus v1.9.3", "#16 63.89 go: downloading github.com/spf13/viper v1.15.0", "#16 63.89 go: downloading software.sslmate.com/src/go-pkcs12 v0.2.0", "#16 64.05 go: downloading github.com/pelletier/go-toml/v2 v2.0.7", "#16 64.05 go: downloading github.com/hashicorp/hcl v1.0.0", "#16 64.05 go: downloading github.com/subosito/gotenv v1.4.2", "#16 64.05 go: downloading gopkg.in/ini.v1 v1.67.0", "#16 64.05 go: downloading github.com/magiconair/properties v1.8.7", "#16 64.05 go: downloading github.com/spf13/afero v1.9.5", "#16 64.05 go: downloading github.com/spf13/cast v1.5.0", "#16 64.05 go: downloading github.com/spf13/jwalterweatherman v1.1.0", "#16 68.03 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\", "#16 68.03 \t-trimpath \\", "#16 68.03 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\", "#16 68.03 \t-o manila-csi-plugin \\", "#16 68.03 \tcmd/manila-csi-plugin/main.go", "#16 70.65 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\", "#16 70.65 \t-trimpath \\", "#16 70.65 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\", "#16 70.65 \t-o barbican-kms-plugin \\", "#16 70.65 \tcmd/barbican-kms-plugin/main.go", "#16 71.75 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\", "#16 71.75 \t-trimpath \\", "#16 71.75 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\", "#16 71.75 \t-o magnum-auto-healer \\", "#16 71.75 \tcmd/magnum-auto-healer/main.go", "#16 71.81 go: downloading github.com/pborman/uuid v1.2.1", "#16 75.67 CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GOPROXY=https://goproxy.io,direct go build \\", "#16 75.67 \t-trimpath \\", "#16 75.67 \t-ldflags \"-w -s -X 'k8s.io/component-base/version.gitVersion=v0.0.99' -X 'k8s.io/cloud-provider-openstack/pkg/version.Version=v0.0.99'\" \\", "#16 75.67 \t-o client-keystone-auth \\", "#16 75.67 \tcmd/client-keystone-auth/main.go", "#16 DONE 78.2s", "", "#17 [openstack-cloud-controller-manager 3/3] COPY --from=builder /build/openstack-cloud-controller-manager /bin/openstack-cloud-controller-manager", "#17 DONE 0.3s", "", "#18 exporting to image", "#18 exporting layers", "#18 exporting layers 0.4s done", "#18 writing image sha256:30196e56d65fff221b9c0922197881ea80118ece5d20dc0e16139e94f5c9ef78 done", "#18 naming to localhost/openstack-cloud-controller-manager:v0.0.99 0.0s done", "#18 DONE 0.4s", "", "#19 pushing localhost/openstack-cloud-controller-manager:v0.0.99 with docker", "#19 pushing layer c9a8c03aa1a9", "#19 pushing layer 28ed85b08189 376.83kB / 221.15kB 0.1s", "#19 pushing layer 06ddf169d3f3", "#19 pushing layer b336e209998f", "#19 pushing layer f4aee9e53c42", "#19 pushing layer 1a73b54f556b", "#19 pushing layer 2a92d6ac9e4f", "#19 pushing layer bbb6cacb8c82", "#19 pushing layer ac805962e479", "#19 pushing layer af5aa97ebe6c", "#19 pushing layer 4d049f83d9cf", "#19 pushing layer 945d17be9a3e", "#19 pushing layer 49626df344c9", "#19 pushing layer 3d6fa0469044", "#19 pushing layer 28ed85b08189 0.2s done", "#19 pushing layer b336e209998f 0.2s done", "#19 pushing layer f4aee9e53c42 0.2s done", "#19 pushing layer 1a73b54f556b 512B / 497B 0.2s", "#19 pushing layer 06ddf169d3f3 0.3s done", "#19 pushing layer 1a73b54f556b 0.3s done", "#19 pushing layer 2a92d6ac9e4f 0.3s done", "#19 pushing layer bbb6cacb8c82 0.3s done", "#19 pushing layer af5aa97ebe6c 512B / 149B 0.3s", "#19 pushing layer ac805962e479 0.3s done", "#19 pushing layer af5aa97ebe6c 0.4s done", "#19 pushing layer 4d049f83d9cf 0.4s done", "#19 pushing layer 945d17be9a3e 167.94kB / 1.46MB 0.5s", "#19 pushing layer 49626df344c9 0.5s done", "#19 pushing layer 3d6fa0469044 278.36kB / 270.61kB 0.5s", "#19 pushing layer c9a8c03aa1a9 4.98MB / 61.81MB 0.7s", "#19 pushing layer 945d17be9a3e 273.41kB / 1.46MB 0.6s", "#19 pushing layer 3d6fa0469044 0.6s done", "#19 pushing layer 945d17be9a3e 427.01kB / 1.46MB 0.7s", "#19 pushing layer 945d17be9a3e 549.89kB / 1.46MB 0.8s", "#19 pushing layer 945d17be9a3e 720.38kB / 1.46MB 1.0s", "#19 pushing layer c9a8c03aa1a9 8.32MB / 61.81MB 1.0s", "#19 pushing layer 945d17be9a3e 873.01kB / 1.46MB 1.1s", "#19 pushing layer 945d17be9a3e 978.43kB / 1.46MB 1.2s", "#19 pushing layer 945d17be9a3e 1.10MB / 1.46MB 1.3s", "#19 pushing layer c9a8c03aa1a9 11.67MB / 61.81MB 1.4s", "#19 pushing layer 945d17be9a3e 1.24MB / 1.46MB 1.5s", "#19 pushing layer 945d17be9a3e 1.39MB / 1.46MB 1.6s", "#19 pushing layer 945d17be9a3e 1.51MB / 1.46MB 1.7s", "#19 pushing layer c9a8c03aa1a9 15.01MB / 61.81MB 1.7s", "#19 pushing layer 945d17be9a3e 1.63MB / 1.46MB 1.8s", "#19 pushing layer 945d17be9a3e 1.79MB / 1.46MB 1.9s", "#19 pushing layer 945d17be9a3e 1.96MB / 1.46MB 2.0s", "#19 pushing layer c9a8c03aa1a9 19.47MB / 61.81MB 2.1s", "#19 pushing layer 945d17be9a3e 2.40MB / 1.46MB 2.1s", "#19 pushing layer 945d17be9a3e 2.1s done", "#19 pushing layer c9a8c03aa1a9 23.36MB / 61.81MB 2.3s", "#19 pushing layer c9a8c03aa1a9 27.82MB / 61.81MB 2.8s", "#19 pushing layer c9a8c03aa1a9 32.28MB / 61.81MB 3.0s", "#19 pushing layer c9a8c03aa1a9 35.62MB / 61.81MB 3.2s", "#19 pushing layer c9a8c03aa1a9 38.96MB / 61.81MB 3.5s", "#19 pushing layer c9a8c03aa1a9 42.30MB / 61.81MB 3.7s", "#19 pushing layer c9a8c03aa1a9 46.76MB / 61.81MB 3.8s", "#19 pushing layer c9a8c03aa1a9 50.66MB / 61.81MB 4.0s", "#19 pushing layer c9a8c03aa1a9 54.00MB / 61.81MB 4.3s", "#19 pushing layer c9a8c03aa1a9 57.90MB / 61.81MB 4.5s", "#19 pushing layer c9a8c03aa1a9 61.81MB / 61.81MB 4.8s", "#19 pushing layer c9a8c03aa1a9 4.8s done", "#19 DONE 5.3s"], "stdout": "docker buildx build --output type=registry \\\n\t--build-arg VERSION=v0.0.99 \\\n\t--tag localhost/openstack-cloud-controller-manager:v0.0.99 \\\n\t--platform linux/amd64 \\\n\t--target openstack-cloud-controller-manager \\\n\t.", "stdout_lines": ["docker buildx build --output type=registry \\", "\t--build-arg VERSION=v0.0.99 \\", "\t--tag localhost/openstack-cloud-controller-manager:v0.0.99 \\", "\t--platform linux/amd64 \\", "\t--target openstack-cloud-controller-manager \\", "\t."]}

TASK [install-cpo-occm : Prepare openstack-cloud-controller-manager config] *****************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "kubectl -n kube-system get secret cloud-config >/dev/null 2>&1\nif [ $? -eq 0 ]; then\n  exit 0\nfi\n\nset -ex\n\nset +x; source /home/stack/devstack/openrc admin admin > /dev/null; set -x\ntenant_id=$(openstack project show demo -c id -f value)\nsudnet_id=$(openstack subnet show private-subnet -c id -f value)\nexternal_network_id=$(openstack network list --external -c ID -f value)\n\nset +x; source /home/stack/devstack/openrc demo demo > /dev/null; set -x\ncat <<EOF > /root/cloud.conf\n[Global]\nauth-url=${OS_AUTH_URL}/v3\nusername=${OS_USERNAME}\npassword=${OS_PASSWORD}\nregion=${OS_REGION_NAME}\ntenant-id=$tenant_id\ndomain-id=default\n\n[LoadBalancer]\nsubnet-id=$sudnet_id\nfloating-network-id=$external_network_id\nEOF\n\nif [[ \"amphora\" != \"\" ]]; then\ncat <<EOF >> /root/cloud.conf\nlb-provider=amphora\nEOF\nfi\n\nif [[ \"amphora\" == \"ovn\" ]]; then\ncat <<EOF >> /root/cloud.conf\nlb-method=SOURCE_IP_PORT\nEOF\nfi\n\nkubectl create secret -n kube-system generic cloud-config --from-file=/root/cloud.conf\n", "delta": "0:00:10.165574", "end": "2024-10-22 12:07:42.536730", "msg": "", "rc": 0, "start": "2024-10-22 12:07:32.371156", "stderr": "+ set +x\n++ ::                                       :   openstack project show demo -c id -f value\n+ ::                                       :   tenant_id=e099c71f388a480a8af73f245a28f563\n++ ::                                       :   openstack subnet show private-subnet -c id -f value\n+ ::                                       :   sudnet_id=00ab31d0-ecaf-4dd1-be01-d5683826eda9\n++ ::                                       :   openstack network list --external -c ID -f value\n+ ::                                       :   external_network_id=4718ab65-d3bc-40e9-8823-80970aa4ad7b\n+ ::                                       :   set +x\n+ ::                                       :   cat\n+ ::                                       :   [[ amphora != '' ]]\n+ ::                                       :   cat\n+ ::                                       :   [[ amphora == \\o\\v\\n ]]\n+ ::                                       :   kubectl create secret -n kube-system generic cloud-config --from-file=/root/cloud.conf", "stderr_lines": ["+ set +x", "++ ::                                       :   openstack project show demo -c id -f value", "+ ::                                       :   tenant_id=e099c71f388a480a8af73f245a28f563", "++ ::                                       :   openstack subnet show private-subnet -c id -f value", "+ ::                                       :   sudnet_id=00ab31d0-ecaf-4dd1-be01-d5683826eda9", "++ ::                                       :   openstack network list --external -c ID -f value", "+ ::                                       :   external_network_id=4718ab65-d3bc-40e9-8823-80970aa4ad7b", "+ ::                                       :   set +x", "+ ::                                       :   cat", "+ ::                                       :   [[ amphora != '' ]]", "+ ::                                       :   cat", "+ ::                                       :   [[ amphora == \\o\\v\\n ]]", "+ ::                                       :   kubectl create secret -n kube-system generic cloud-config --from-file=/root/cloud.conf"], "stdout": "secret/cloud-config created", "stdout_lines": ["secret/cloud-config created"]}

TASK [install-cpo-occm : Replace manifests] *************************************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "VERSION=\"v0.0.99\" # Fake version, but in proper format.\n\ncd $GOPATH/src/k8s.io/cloud-provider-openstack\n# replace image with built image\nsed -i \"s#registry.k8s.io/provider-os/openstack-cloud-controller-manager:[^'\\\"]\\+#10.8.135.112/openstack-cloud-controller-manager:${VERSION}#\" manifests/controller-manager/openstack-cloud-controller-manager-ds.yaml\nsed -i \"s#node-role.kubernetes.io/control-plane: \\\"\\\"#node-role.kubernetes.io/control-plane: \\\"true\\\"#\" manifests/controller-manager/openstack-cloud-controller-manager-ds.yaml\nsed -i \"s#--v=1#--v=5#\" manifests/controller-manager/openstack-cloud-controller-manager-ds.yaml\ncat manifests/controller-manager/openstack-cloud-controller-manager-ds.yaml\n", "delta": "0:00:00.030375", "end": "2024-10-22 12:07:43.534769", "msg": "", "rc": 0, "start": "2024-10-22 12:07:43.504394", "stderr": "", "stderr_lines": [], "stdout": "---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: cloud-controller-manager\n  namespace: kube-system\n---\napiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: openstack-cloud-controller-manager\n  namespace: kube-system\n  labels:\n    k8s-app: openstack-cloud-controller-manager\nspec:\n  selector:\n    matchLabels:\n      k8s-app: openstack-cloud-controller-manager\n  updateStrategy:\n    type: RollingUpdate\n  template:\n    metadata:\n      labels:\n        k8s-app: openstack-cloud-controller-manager\n    spec:\n      nodeSelector:\n        node-role.kubernetes.io/control-plane: \"true\"\n      securityContext:\n        runAsUser: 1001\n      tolerations:\n      - key: node.cloudprovider.kubernetes.io/uninitialized\n        value: \"true\"\n        effect: NoSchedule\n      - key: node-role.kubernetes.io/master\n        effect: NoSchedule\n      - key: node-role.kubernetes.io/control-plane\n        effect: NoSchedule\n      serviceAccountName: cloud-controller-manager\n      containers:\n        - name: openstack-cloud-controller-manager\n          image: 10.8.135.112/openstack-cloud-controller-manager:v0.0.99\n          args:\n            - /bin/openstack-cloud-controller-manager\n            - --v=5\n            - --cluster-name=$(CLUSTER_NAME)\n            - --cloud-config=$(CLOUD_CONFIG)\n            - --cloud-provider=openstack\n            - --use-service-account-credentials=false\n            - --bind-address=127.0.0.1\n          volumeMounts:\n            - mountPath: /etc/kubernetes/pki\n              name: k8s-certs\n              readOnly: true\n            - mountPath: /etc/ssl/certs\n              name: ca-certs\n              readOnly: true\n            - mountPath: /etc/config\n              name: cloud-config-volume\n              readOnly: true\n          resources:\n            requests:\n              cpu: 200m\n          env:\n            - name: CLOUD_CONFIG\n              value: /etc/config/cloud.conf\n            - name: CLUSTER_NAME\n              value: kubernetes\n      dnsPolicy: ClusterFirst\n      hostNetwork: true\n      volumes:\n      - hostPath:\n          path: /etc/kubernetes/pki\n          type: DirectoryOrCreate\n        name: k8s-certs\n      - hostPath:\n          path: /etc/ssl/certs\n          type: DirectoryOrCreate\n        name: ca-certs\n      - name: cloud-config-volume\n        secret:\n          secretName: cloud-config", "stdout_lines": ["---", "apiVersion: v1", "kind: ServiceAccount", "metadata:", "  name: cloud-controller-manager", "  namespace: kube-system", "---", "apiVersion: apps/v1", "kind: DaemonSet", "metadata:", "  name: openstack-cloud-controller-manager", "  namespace: kube-system", "  labels:", "    k8s-app: openstack-cloud-controller-manager", "spec:", "  selector:", "    matchLabels:", "      k8s-app: openstack-cloud-controller-manager", "  updateStrategy:", "    type: RollingUpdate", "  template:", "    metadata:", "      labels:", "        k8s-app: openstack-cloud-controller-manager", "    spec:", "      nodeSelector:", "        node-role.kubernetes.io/control-plane: \"true\"", "      securityContext:", "        runAsUser: 1001", "      tolerations:", "      - key: node.cloudprovider.kubernetes.io/uninitialized", "        value: \"true\"", "        effect: NoSchedule", "      - key: node-role.kubernetes.io/master", "        effect: NoSchedule", "      - key: node-role.kubernetes.io/control-plane", "        effect: NoSchedule", "      serviceAccountName: cloud-controller-manager", "      containers:", "        - name: openstack-cloud-controller-manager", "          image: 10.8.135.112/openstack-cloud-controller-manager:v0.0.99", "          args:", "            - /bin/openstack-cloud-controller-manager", "            - --v=5", "            - --cluster-name=$(CLUSTER_NAME)", "            - --cloud-config=$(CLOUD_CONFIG)", "            - --cloud-provider=openstack", "            - --use-service-account-credentials=false", "            - --bind-address=127.0.0.1", "          volumeMounts:", "            - mountPath: /etc/kubernetes/pki", "              name: k8s-certs", "              readOnly: true", "            - mountPath: /etc/ssl/certs", "              name: ca-certs", "              readOnly: true", "            - mountPath: /etc/config", "              name: cloud-config-volume", "              readOnly: true", "          resources:", "            requests:", "              cpu: 200m", "          env:", "            - name: CLOUD_CONFIG", "              value: /etc/config/cloud.conf", "            - name: CLUSTER_NAME", "              value: kubernetes", "      dnsPolicy: ClusterFirst", "      hostNetwork: true", "      volumes:", "      - hostPath:", "          path: /etc/kubernetes/pki", "          type: DirectoryOrCreate", "        name: k8s-certs", "      - hostPath:", "          path: /etc/ssl/certs", "          type: DirectoryOrCreate", "        name: ca-certs", "      - name: cloud-config-volume", "        secret:", "          secretName: cloud-config"]}

TASK [install-cpo-occm : Deploy openstack-cloud-controller-manager] *************************************************************************************************************************************************************
changed: [10.8.135.112] => {"changed": true, "cmd": "cd $GOPATH/src/k8s.io/cloud-provider-openstack\n\nkubectl apply -f manifests/controller-manager/openstack-cloud-controller-manager-ds.yaml\nkubectl apply -f manifests/controller-manager/cloud-controller-manager-roles.yaml\nkubectl apply -f manifests/controller-manager/cloud-controller-manager-role-bindings.yaml\n", "delta": "0:00:01.641537", "end": "2024-10-22 12:07:46.039954", "msg": "", "rc": 0, "start": "2024-10-22 12:07:44.398417", "stderr": "", "stderr_lines": [], "stdout": "serviceaccount/cloud-controller-manager created\ndaemonset.apps/openstack-cloud-controller-manager created\nclusterrole.rbac.authorization.k8s.io/system:cloud-controller-manager created\nclusterrole.rbac.authorization.k8s.io/system:cloud-node-controller created\nclusterrolebinding.rbac.authorization.k8s.io/system:cloud-node-controller created\nclusterrolebinding.rbac.authorization.k8s.io/system:cloud-controller-manager created", "stdout_lines": ["serviceaccount/cloud-controller-manager created", "daemonset.apps/openstack-cloud-controller-manager created", "clusterrole.rbac.authorization.k8s.io/system:cloud-controller-manager created", "clusterrole.rbac.authorization.k8s.io/system:cloud-node-controller created", "clusterrolebinding.rbac.authorization.k8s.io/system:cloud-node-controller created", "clusterrolebinding.rbac.authorization.k8s.io/system:cloud-controller-manager created"]}

TASK [install-cpo-occm : Wait for openstack-cloud-controller-manager up and running] ********************************************************************************************************************************************
FAILED - RETRYING: [10.8.135.112]: Wait for openstack-cloud-controller-manager up and running (24 retries left).
changed: [10.8.135.112] => {"attempts": 2, "changed": true, "cmd": "kubectl -n kube-system get pod | grep openstack-cloud-controller-manager | grep Running\n", "delta": "0:00:00.126372", "end": "2024-10-22 12:07:53.150838", "msg": "", "rc": 0, "start": "2024-10-22 12:07:53.024466", "stderr": "", "stderr_lines": [], "stdout": "openstack-cloud-controller-manager-q4tfs   1/1     Running   0          9s", "stdout_lines": ["openstack-cloud-controller-manager-q4tfs   1/1     Running   0          9s"]}

TASK [install-cpo-occm : Describe failed openstack-cloud-controller-manager] ****************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-cpo-occm : Log failed openstack-cloud-controller-manager deployment] **********************************************************************************************************************************************
skipping: [10.8.135.112] => {}

TASK [install-cpo-occm : Show openstack-cloud-controller-manager pod logs] ******************************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-cpo-occm : Stop due to prior failure of openstack-cloud-controller-manager] ***************************************************************************************************************************************
skipping: [10.8.135.112] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-cpo-occm : Run functional tests for openstack-cloud-controller-manager] *******************************************************************************************************************************************
changed: [10.8.129.127] => {"changed": true, "cmd": "cd $GOPATH/src/k8s.io/cloud-provider-openstack\n\n# GATEWAY_IP is the default value in devstack\nGATEWAY_IP=172.24.5.1 \\\nDEVSTACK_OS_RC=/home/stack/devstack/openrc \\\nOCTAVIA_PROVIDER=amphora \\\nbash tests/e2e/cloudprovider/test-lb-service.sh\n", "delta": "0:13:39.388511", "end": "2024-10-25 06:14:30.985554", "msg": "", "rc": 0, "start": "2024-10-25 06:00:51.597043", "stderr": "+ TIMEOUT=300\n+ FLOATING_IP=\n+ NAMESPACE=octavia-lb-test\n+ GATEWAY_IP=172.24.5.1\n+ DEVSTACK_OS_RC=/home/stack/devstack/openrc\n+ CLUSTER_TENANT=demo\n+ CLUSTER_USER=demo\n+ LB_SUBNET_NAME=private-subnet\n+ AUTO_CLEAN_UP=true\n+ OCTAVIA_PROVIDER=amphora\n+ trap delete_resources EXIT\n+ create_namespace\n+ printf '\\n>>>>>>> Create Namespace octavia-lb-test\\n'\n+ kubectl -n octavia-lb-test get deploy echoserver\n+ cat\n+ kubectl apply -f -\n+ create_deployment\n+ printf '\\n>>>>>>> Create a Deployment\\n'\n+ cat\n+ kubectl apply -f -\n+ set_openstack_credentials\n+ local XTRACE\n++ set +o\n++ grep xtrace\n+ XTRACE='set -o xtrace'\n+ set +x\n+ tests/e2e/cloudprovider/test-lb-service.sh:main:808 :   test_basic\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:246 :   local service=test-basic\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:248 :   printf '\\n>>>>>>> Create Service test-basic\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:249 :   cat\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:249 :   kubectl apply -f -\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:266 :   printf '\\n>>>>>>> Waiting for the Service test-basic creation finished\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:267 :   wait_for_service_address test-basic\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-basic\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729836354\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836065\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836065 -gt 1729836354 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836075\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836075 -gt 1729836354 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836085\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836085 -gt 1729836354 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836095\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836095 -gt 1729836354 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836106\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836106 -gt 1729836354 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836116\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836116 -gt 1729836354 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836126\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836126 -gt 1729836354 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836136\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836136 -gt 1729836354 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836147\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836147 -gt 1729836354 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836157\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836157 -gt 1729836354 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=172.24.5.19\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x172.24.5.19 '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-basic is created successfully, IP: 172.24.5.19\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=172.24.5.19\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=172.24.5.19\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:268 :   wait_address_accessible 172.24.5.19\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:123 :   local addr=172.24.5.19\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:125 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:125 :   end=1729836457\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:126 :   true\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:127 :   curl -sS http://172.24.5.19\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:128 :   '[' 0 -eq 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:129 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:270 :   printf '\\n>>>>>>> Sending request to the Service test-basic\\n'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:271 :   curl -sS http://172.24.5.19\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:271 :   grep Hostname\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:271 :   cut -d ' ' -f2\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:271 :   awk -F: '{print $2}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:271 :   podname=echoserver-f4558797b-bclzg\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:272 :   [[ echoserver-f4558797b-bclzg =~ echoserver ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:273 :   printf '\\n>>>>>>> Expected: Get correct response from Service test-basic\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:280 :   printf '\\n>>>>>>> Delete Service test-basic\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:281 :   kubectl -n octavia-lb-test delete service test-basic\n+ tests/e2e/cloudprovider/test-lb-service.sh:main:809 :   test_forwarded\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:290 :   local service=test-x-forwarded-for\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:291 :   curl -sS ifconfig.me\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:291 :   local public_ip=193.140.88.3\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:292 :   head -1\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:292 :   awk '{print $7}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:292 :   ip route get 8.8.8.8\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:292 :   local local_ip=10.8.129.127\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:294 :   [[ amphora == \\o\\v\\n ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:299 :   printf '\\n>>>>>>> Create the Service test-x-forwarded-for\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:300 :   kubectl apply -f -\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:300 :   cat\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:319 :   printf '\\n>>>>>>> Waiting for the Service test-x-forwarded-for creation finished\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:320 :   wait_for_service_address test-x-forwarded-for\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-x-forwarded-for\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729836467\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836177\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836177 -gt 1729836467 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836188\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836188 -gt 1729836467 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836198\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836198 -gt 1729836467 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836208\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836208 -gt 1729836467 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836218\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836218 -gt 1729836467 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836229\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836229 -gt 1729836467 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836239\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836239 -gt 1729836467 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836249\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836249 -gt 1729836467 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=172.24.5.248\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x172.24.5.248 '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-x-forwarded-for is created successfully, IP: 172.24.5.248\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=172.24.5.248\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=172.24.5.248\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:321 :   wait_address_accessible 172.24.5.248\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:123 :   local addr=172.24.5.248\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:125 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:125 :   end=1729836549\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:126 :   true\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:127 :   curl -sS http://172.24.5.248\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:128 :   '[' 0 -eq 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:129 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:323 :   printf '\\n>>>>>>> Sending request to the Service test-x-forwarded-for\\n'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:324 :   grep x-forwarded-for\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:324 :   curl -sS http://172.24.5.248\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:324 :   awk -F= '{print $2}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:324 :   ip_in_header=172.24.5.1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:325 :   [[ 172.24.5.1 != \\1\\0\\.\\8\\.\\1\\2\\9\\.\\1\\2\\7 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:325 :   [[ 172.24.5.1 != \\1\\9\\3\\.\\1\\4\\0\\.\\8\\8\\.\\3 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:325 :   [[ 172.24.5.1 != \\1\\7\\2\\.\\2\\4\\.\\5\\.\\1 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:330 :   printf '\\n>>>>>>> Expected: Get correct response from Service test-x-forwarded-for\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:333 :   printf '\\n>>>>>>> Delete Service test-x-forwarded-for\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:334 :   kubectl -n octavia-lb-test delete service test-x-forwarded-for\n+ tests/e2e/cloudprovider/test-lb-service.sh:main:810 :   test_update_port\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:343 :   local service=test-update-port\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:345 :   printf '\\n>>>>>>> Creating Service %s \\n' test-update-port\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:346 :   cat\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:346 :   kubectl apply -f -\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:369 :   printf '\\n>>>>>>> Waiting for the Service %s created \\n' test-update-port\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:370 :   wait_for_service_address test-update-port\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-update-port\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729836559\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836270\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836270 -gt 1729836559 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836280\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836280 -gt 1729836559 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836290\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836290 -gt 1729836559 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836300\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836300 -gt 1729836559 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836310\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836310 -gt 1729836559 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836321\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836321 -gt 1729836559 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836331\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836331 -gt 1729836559 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836341\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836341 -gt 1729836559 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=10.1.0.32\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x10.1.0.32 '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-update-port is created successfully, IP: 10.1.0.32\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=10.1.0.32\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=10.1.0.32\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:372 :   printf '\\n>>>>>>> Validating openstack load balancer \\n'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:373 :   grep octavia-lb-test_test-update-port\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:373 :   openstack loadbalancer list -c id -c name\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:373 :   awk '{print $2}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:373 :   lbid=20b45981-3e76-4782-bdde-9725fd339433\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:374 :   [[ -z 20b45981-3e76-4782-bdde-9725fd339433 ]]\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:378 :   openstack loadbalancer status show 20b45981-3e76-4782-bdde-9725fd339433\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:378 :   lb_info='{\n    \"loadbalancer\": {\n        \"id\": \"20b45981-3e76-4782-bdde-9725fd339433\",\n        \"name\": \"kube_service_kubernetes_octavia-lb-test_test-update-port\",\n        \"operating_status\": \"ONLINE\",\n        \"provisioning_status\": \"ACTIVE\",\n        \"listeners\": [\n            {\n                \"id\": \"6bfd3962-940b-4b92-b699-1f062b86cd79\",\n                \"name\": \"listener_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",\n                \"operating_status\": \"ONLINE\",\n                \"provisioning_status\": \"ACTIVE\",\n                \"pools\": [\n                    {\n                        \"id\": \"8c193a85-2639-4a6b-ab3e-d5b7de5053a2\",\n                        \"name\": \"pool_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",\n                        \"provisioning_status\": \"ACTIVE\",\n                        \"operating_status\": \"ONLINE\",\n                        \"members\": [\n                            {\n                                \"id\": \"ce9416b6-7029-4c76-9c65-cedffd19975c\",\n                                \"name\": \"k3s-master\",\n                                \"operating_status\": \"NO_MONITOR\",\n                                \"provisioning_status\": \"ACTIVE\",\n                                \"address\": \"10.1.0.21\",\n                                \"protocol_port\": 31231\n                            }\n                        ]\n                    }\n                ]\n            },\n            {\n                \"id\": \"e5d6fbfb-4309-417d-a7b5-5687b12506c7\",\n                \"name\": \"listener_1_kube_service_kubernetes_octavia-lb-test_test-update-port\",\n                \"operating_status\": \"ONLINE\",\n                \"provisioning_status\": \"ACTIVE\",\n                \"pools\": [\n                    {\n                        \"id\": \"da046f1d-f9f6-433f-a4c0-a9f36dfb8187\",\n                        \"name\": \"pool_1_kube_service_kubernetes_octavia-lb-test_test-update-port\",\n                        \"provisioning_status\": \"ACTIVE\",\n                        \"operating_status\": \"ONLINE\",\n                        \"members\": [\n                            {\n                                \"id\": \"082896a3-f686-4a2d-9262-75409af6a6f7\",\n                                \"name\": \"k3s-master\",\n                                \"operating_status\": \"NO_MONITOR\",\n                                \"provisioning_status\": \"ACTIVE\",\n                                \"address\": \"10.1.0.21\",\n                                \"protocol_port\": 31137\n                            }\n                        ]\n                    }\n                ]\n            }\n        ]\n    }\n}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:379 :   jq '.loadbalancer.listeners | length'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:379 :   echo '{' '\"loadbalancer\":' '{' '\"id\":' '\"20b45981-3e76-4782-bdde-9725fd339433\",' '\"name\":' '\"kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"listeners\":' '[' '{' '\"id\":' '\"6bfd3962-940b-4b92-b699-1f062b86cd79\",' '\"name\":' '\"listener_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"pools\":' '[' '{' '\"id\":' '\"8c193a85-2639-4a6b-ab3e-d5b7de5053a2\",' '\"name\":' '\"pool_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"operating_status\":' '\"ONLINE\",' '\"members\":' '[' '{' '\"id\":' '\"ce9416b6-7029-4c76-9c65-cedffd19975c\",' '\"name\":' '\"k3s-master\",' '\"operating_status\":' '\"NO_MONITOR\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"address\":' '\"10.1.0.21\",' '\"protocol_port\":' 31231 '}' ']' '}' ']' '},' '{' '\"id\":' '\"e5d6fbfb-4309-417d-a7b5-5687b12506c7\",' '\"name\":' '\"listener_1_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"pools\":' '[' '{' '\"id\":' '\"da046f1d-f9f6-433f-a4c0-a9f36dfb8187\",' '\"name\":' '\"pool_1_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"operating_status\":' '\"ONLINE\",' '\"members\":' '[' '{' '\"id\":' '\"082896a3-f686-4a2d-9262-75409af6a6f7\",' '\"name\":' '\"k3s-master\",' '\"operating_status\":' '\"NO_MONITOR\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"address\":' '\"10.1.0.21\",' '\"protocol_port\":' 31137 '}' ']' '}' ']' '}' ']' '}' '}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:379 :   listener_count=2\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:380 :   echo '{' '\"loadbalancer\":' '{' '\"id\":' '\"20b45981-3e76-4782-bdde-9725fd339433\",' '\"name\":' '\"kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"listeners\":' '[' '{' '\"id\":' '\"6bfd3962-940b-4b92-b699-1f062b86cd79\",' '\"name\":' '\"listener_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"pools\":' '[' '{' '\"id\":' '\"8c193a85-2639-4a6b-ab3e-d5b7de5053a2\",' '\"name\":' '\"pool_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"operating_status\":' '\"ONLINE\",' '\"members\":' '[' '{' '\"id\":' '\"ce9416b6-7029-4c76-9c65-cedffd19975c\",' '\"name\":' '\"k3s-master\",' '\"operating_status\":' '\"NO_MONITOR\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"address\":' '\"10.1.0.21\",' '\"protocol_port\":' 31231 '}' ']' '}' ']' '},' '{' '\"id\":' '\"e5d6fbfb-4309-417d-a7b5-5687b12506c7\",' '\"name\":' '\"listener_1_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"pools\":' '[' '{' '\"id\":' '\"da046f1d-f9f6-433f-a4c0-a9f36dfb8187\",' '\"name\":' '\"pool_1_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"operating_status\":' '\"ONLINE\",' '\"members\":' '[' '{' '\"id\":' '\"082896a3-f686-4a2d-9262-75409af6a6f7\",' '\"name\":' '\"k3s-master\",' '\"operating_status\":' '\"NO_MONITOR\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"address\":' '\"10.1.0.21\",' '\"protocol_port\":' 31137 '}' ']' '}' ']' '}' ']' '}' '}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:380 :   uniq\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:380 :   jq '.loadbalancer.listeners | .[].pools | .[].members | .[].protocol_port'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:380 :   tr '\\n' ' '\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:380 :   member_ports='31231 31137 '\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:381 :   kubectl -n octavia-lb-test get svc test-update-port -o json\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:381 :   jq '.spec.ports | .[].nodePort'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:381 :   tr '\\n' ' '\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:381 :   service_nodeports='31231 31137 '\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:383 :   [[ 2 != 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:387 :   [[ 31231 31137  != \\3\\1\\2\\3\\1\\ \\3\\1\\1\\3\\7\\  ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:393 :   printf '\\n>>>>>>> Expected: NodePorts 31231 31137  before updating service.\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:395 :   printf '\\n>>>>>>> Removing port2 and update NodePort of port1.\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:396 :   kubectl -n octavia-lb-test patch svc test-update-port --type json -p '[{\"op\": \"remove\",\"path\": \"/spec/ports/1\"},{\"op\": \"remove\",\"path\": \"/spec/ports/0/nodePort\"}]'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:398 :   printf '\\n>>>>>>> Waiting for load balancer 20b45981-3e76-4782-bdde-9725fd339433 ACTIVE.\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:399 :   wait_for_loadbalancer 20b45981-3e76-4782-bdde-9725fd339433\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:144 :   local lbid=20b45981-3e76-4782-bdde-9725fd339433\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:145 :   local i=0\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:146 :   sleep 5\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   end=1729836651\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 20b45981-3e76-4782-bdde-9725fd339433 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 0 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836363\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836363 -gt 1729836651 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 20b45981-3e76-4782-bdde-9725fd339433 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 1 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836374\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836374 -gt 1729836651 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 20b45981-3e76-4782-bdde-9725fd339433 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 2 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:153 :   printf '\\n>>>>>>> Load balancer 20b45981-3e76-4782-bdde-9725fd339433 is ACTIVE\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:154 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:401 :   printf '\\n>>>>>>> Validating openstack load balancer after updating the service.\\n'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:402 :   openstack loadbalancer status show 20b45981-3e76-4782-bdde-9725fd339433\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:402 :   lb_info='{\n    \"loadbalancer\": {\n        \"id\": \"20b45981-3e76-4782-bdde-9725fd339433\",\n        \"name\": \"kube_service_kubernetes_octavia-lb-test_test-update-port\",\n        \"operating_status\": \"ONLINE\",\n        \"provisioning_status\": \"ACTIVE\",\n        \"listeners\": [\n            {\n                \"id\": \"6bfd3962-940b-4b92-b699-1f062b86cd79\",\n                \"name\": \"listener_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",\n                \"operating_status\": \"ONLINE\",\n                \"provisioning_status\": \"ACTIVE\",\n                \"pools\": [\n                    {\n                        \"id\": \"8c193a85-2639-4a6b-ab3e-d5b7de5053a2\",\n                        \"name\": \"pool_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",\n                        \"provisioning_status\": \"ACTIVE\",\n                        \"operating_status\": \"ONLINE\",\n                        \"members\": [\n                            {\n                                \"id\": \"ce9416b6-7029-4c76-9c65-cedffd19975c\",\n                                \"name\": \"k3s-master\",\n                                \"operating_status\": \"NO_MONITOR\",\n                                \"provisioning_status\": \"ACTIVE\",\n                                \"address\": \"10.1.0.21\",\n                                \"protocol_port\": 31231\n                            }\n                        ]\n                    }\n                ]\n            }\n        ]\n    }\n}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:403 :   echo '{' '\"loadbalancer\":' '{' '\"id\":' '\"20b45981-3e76-4782-bdde-9725fd339433\",' '\"name\":' '\"kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"listeners\":' '[' '{' '\"id\":' '\"6bfd3962-940b-4b92-b699-1f062b86cd79\",' '\"name\":' '\"listener_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"pools\":' '[' '{' '\"id\":' '\"8c193a85-2639-4a6b-ab3e-d5b7de5053a2\",' '\"name\":' '\"pool_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"operating_status\":' '\"ONLINE\",' '\"members\":' '[' '{' '\"id\":' '\"ce9416b6-7029-4c76-9c65-cedffd19975c\",' '\"name\":' '\"k3s-master\",' '\"operating_status\":' '\"NO_MONITOR\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"address\":' '\"10.1.0.21\",' '\"protocol_port\":' 31231 '}' ']' '}' ']' '}' ']' '}' '}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:403 :   jq '.loadbalancer.listeners | length'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:403 :   listener_count=1\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:404 :   uniq\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:404 :   echo '{' '\"loadbalancer\":' '{' '\"id\":' '\"20b45981-3e76-4782-bdde-9725fd339433\",' '\"name\":' '\"kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"listeners\":' '[' '{' '\"id\":' '\"6bfd3962-940b-4b92-b699-1f062b86cd79\",' '\"name\":' '\"listener_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"pools\":' '[' '{' '\"id\":' '\"8c193a85-2639-4a6b-ab3e-d5b7de5053a2\",' '\"name\":' '\"pool_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"operating_status\":' '\"ONLINE\",' '\"members\":' '[' '{' '\"id\":' '\"ce9416b6-7029-4c76-9c65-cedffd19975c\",' '\"name\":' '\"k3s-master\",' '\"operating_status\":' '\"NO_MONITOR\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"address\":' '\"10.1.0.21\",' '\"protocol_port\":' 31231 '}' ']' '}' ']' '}' ']' '}' '}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:404 :   jq '.loadbalancer.listeners | .[].pools | .[].members | .[].protocol_port'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:404 :   member_port=31231\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:405 :   kubectl -n octavia-lb-test get svc test-update-port -o json\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:405 :   jq '.spec.ports | .[].nodePort'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:405 :   service_nodeport=31231\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:407 :   [[ 1 != 1 ]]\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:411 :   echo 31231\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:411 :   wc -l\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:411 :   [[ 1 != 1 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:415 :   [[ 31231 != 31231 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:419 :   [[ 31231 == 31231 31137  ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:424 :   printf '\\n>>>>>>> Expected: NodePort 31231 after updating service.\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:426 :   printf '\\n>>>>>>> Deleting Service test-update-port\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:427 :   kubectl -n octavia-lb-test delete service test-update-port\n+ tests/e2e/cloudprovider/test-lb-service.sh:main:811 :   test_shared_lb\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:444 :   local service1=test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:445 :   printf '\\n>>>>>>> Create Service test-shared-1\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:446 :   kubectl apply -f -\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:446 :   cat\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:464 :   printf '\\n>>>>>>> Waiting for the Service %s creation finished \\n' test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:465 :   wait_for_service_address test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729836685\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836396\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836396 -gt 1729836685 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836406\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836406 -gt 1729836685 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836416\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836416 -gt 1729836685 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836426\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836426 -gt 1729836685 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836437\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836437 -gt 1729836685 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836447\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836447 -gt 1729836685 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836457\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836457 -gt 1729836685 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836467\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836467 -gt 1729836685 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=172.24.5.161\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x172.24.5.161 '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-shared-1 is created successfully, IP: 172.24.5.161\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=172.24.5.161\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=172.24.5.161\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:467 :   printf '\\n>>>>>>> Checking Service %s annotation\\n' test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:468 :   _check_service_lb_annotation test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:70 :   local svcName=test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:72 :   for i in {1..3}\n+++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:73 :   kubectl -n octavia-lb-test get svc test-shared-1 -o 'jsonpath={.metadata.annotations.loadbalancer\\.openstack\\.org/load-balancer-id}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:73 :   lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:74 :   '[' -n 771ca77a-a3c7-457d-8855-0442a174ff2d ']'\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:75 :   echo 771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:76 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:468 :   lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:470 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:471 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:471 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:472 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:472 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:473 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=kube_service_kubernetes_octavia-lb-test_test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z kube_service_kubernetes_octavia-lb-test_test-shared-1 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 =~ (^|[[:space:]])kube_service_(.+?)test-shared-1($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:474 :   '[' 0 -ne 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:479 :   service2=test-shared-2\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:480 :   printf '\\n>>>>>>> Create Service test-shared-2\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:481 :   cat\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:481 :   kubectl apply -f -\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:500 :   printf '\\n>>>>>>> Waiting for the Service test-shared-2 creation finished\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:501 :   wait_for_service_address test-shared-2\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-shared-2\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729836770\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-2\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836480\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836480 -gt 1729836770 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-2\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836490\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836490 -gt 1729836770 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-2\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=172.24.5.161\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x172.24.5.161 '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-shared-2 is created successfully, IP: 172.24.5.161\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=172.24.5.161\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=172.24.5.161\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:503 :   printf '\\n>>>>>>> Checking Service %s annotation\\n' test-shared-2\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:504 :   _check_service_lb_annotation test-shared-2\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:70 :   local svcName=test-shared-2\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:72 :   for i in {1..3}\n+++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:73 :   kubectl -n octavia-lb-test get svc test-shared-2 -o 'jsonpath={.metadata.annotations.loadbalancer\\.openstack\\.org/load-balancer-id}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:73 :   lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:74 :   '[' -n 771ca77a-a3c7-457d-8855-0442a174ff2d ']'\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:75 :   echo 771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:76 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:504 :   svc2lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:505 :   [[ 771ca77a-a3c7-457d-8855-0442a174ff2d != \\7\\7\\1\\c\\a\\7\\7\\a\\-\\a\\3\\c\\7\\-\\4\\5\\7\\d\\-\\8\\8\\5\\5\\-\\0\\4\\4\\2\\a\\1\\7\\4\\f\\f\\2\\d ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:511 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:512 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:512 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1\nkube_service_kubernetes_octavia-lb-test_test-shared-2'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:513 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:513 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:514 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-1 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2' ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2 =~ (^|[[:space:]])kube_service_(.+?)test-shared-1($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:515 :   '[' 0 -ne 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:519 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-2 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-2\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2' ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2 =~ (^|[[:space:]])kube_service_(.+?)test-shared-2($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:520 :   '[' 0 -ne 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:525 :   service2=test-shared-2\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:526 :   printf '\\n>>>>>>> Updating Service test-shared-2 port\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:527 :   cat\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:527 :   kubectl apply -f -\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:546 :   printf '\\n>>>>>>> Waiting for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d update finished\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:547 :   wait_for_loadbalancer 771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:144 :   local lbid=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:145 :   local i=0\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:146 :   sleep 5\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   end=1729836798\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 0 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836510\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836510 -gt 1729836798 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 1 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836522\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836522 -gt 1729836798 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 2 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:153 :   printf '\\n>>>>>>> Load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d is ACTIVE\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:154 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:549 :   printf '\\n>>>>>>> Checking the listener number for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d\\n'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:550 :   openstack loadbalancer status show 771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:550 :   jq '.loadbalancer.listeners | length'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:550 :   listenerNum=2\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:551 :   [[ 2 != 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:556 :   printf '\\n>>>>>>> Deleting Service test-shared-2\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:557 :   kubectl -n octavia-lb-test delete svc test-shared-2\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:559 :   printf '\\n>>>>>>> Waiting for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d updated\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:560 :   wait_for_loadbalancer 771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:144 :   local lbid=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:145 :   local i=0\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:146 :   sleep 5\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   end=1729836842\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 0 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836554\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836554 -gt 1729836842 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 1 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836566\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836566 -gt 1729836842 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 2 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:153 :   printf '\\n>>>>>>> Load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d is ACTIVE\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:154 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:562 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:563 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:563 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-1\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:564 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:564 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:565 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=kube_service_kubernetes_octavia-lb-test_test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z kube_service_kubernetes_octavia-lb-test_test-shared-1 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 =~ (^|[[:space:]])kube_service_(.+?)test-shared-1($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:566 :   '[' 0 -ne 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:570 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-2 kube_service_kubernetes_octavia-lb-test_test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-2\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=kube_service_kubernetes_octavia-lb-test_test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z kube_service_kubernetes_octavia-lb-test_test-shared-1 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 =~ (^|[[:space:]])kube_service_(.+?)test-shared-2($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:64 :   return 1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:571 :   '[' 1 -eq 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:576 :   printf '\\n>>>>>>> Checking the listener number for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d\\n'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:577 :   openstack loadbalancer status show 771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:577 :   jq '.loadbalancer.listeners | length'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:577 :   listenerNum=1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:578 :   [[ 1 != 1 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:583 :   service3=test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:584 :   printf '\\n>>>>>>> Creating Service test-shared-3\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:585 :   cat\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:585 :   kubectl apply -f -\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:604 :   printf '\\n>>>>>>> Waiting for the Service test-shared-3 creation finished \\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:605 :   wait_for_service_address test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-shared-3\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729836872\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-3\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836582\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836582 -gt 1729836872 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-3\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836592\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836592 -gt 1729836872 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-3\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836603\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836603 -gt 1729836872 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-3\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=172.24.5.161\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x172.24.5.161 '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-shared-3 is created successfully, IP: 172.24.5.161\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=172.24.5.161\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=172.24.5.161\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:607 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:608 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:608 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1\nkube_service_kubernetes_octavia-lb-test_test-shared-3'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:609 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:609 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:610 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-3 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3' ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-3($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:611 :   '[' 0 -ne 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:616 :   service4=test-shared-4\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:617 :   printf '\\n>>>>>>> Creating Service test-shared-4 with port collision \\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:618 :   cat\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:618 :   kubectl apply -f -\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:637 :   sleep 10\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:639 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:640 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:640 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1\nkube_service_kubernetes_octavia-lb-test_test-shared-3'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:641 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:641 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:642 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-1 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3' ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-1($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:643 :   '[' 0 -ne 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:647 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-3 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3' ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-3($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:648 :   '[' 0 -ne 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:652 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-4 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-4\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3' ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-4($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:64 :   return 1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:653 :   '[' 1 -eq 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:658 :   printf '\\n>>>>>>> Deleting Service test-shared-4\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:659 :   kubectl -n octavia-lb-test delete svc test-shared-4\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:660 :   sleep 5\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:662 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:663 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:663 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1\nkube_service_kubernetes_octavia-lb-test_test-shared-3'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:664 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:664 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:665 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-1 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3' ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-1($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:666 :   '[' 0 -ne 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:670 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-3 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3' ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-3($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:671 :   '[' 0 -ne 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:676 :   printf '\\n>>>>>>> Deleting Service test-shared-1\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:677 :   kubectl -n octavia-lb-test delete svc test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:679 :   printf '\\n>>>>>>> Waiting for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d update finished\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:680 :   wait_for_loadbalancer 771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:144 :   local lbid=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:145 :   local i=0\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:146 :   sleep 5\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   end=1729836939\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 0 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836651\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836651 -gt 1729836939 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 1 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836663\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836663 -gt 1729836939 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 2 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:153 :   printf '\\n>>>>>>> Load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d is ACTIVE\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:154 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:682 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:683 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:683 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-3\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:684 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:684 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:685 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-1\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=kube_service_kubernetes_octavia-lb-test_test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z kube_service_kubernetes_octavia-lb-test_test-shared-3 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-1($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:64 :   return 1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:686 :   '[' 1 -eq 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:690 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-3 kube_service_kubernetes_octavia-lb-test_test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=kube_service_kubernetes_octavia-lb-test_test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z kube_service_kubernetes_octavia-lb-test_test-shared-3 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-3($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:691 :   '[' 0 -ne 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:696 :   printf '\\n>>>>>>> Checking the listener number for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d\\n'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:697 :   openstack loadbalancer status show 771ca77a-a3c7-457d-8855-0442a174ff2d\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:697 :   jq '.loadbalancer.listeners | length'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:697 :   listenerNum=1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:698 :   [[ 1 != 1 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:703 :   printf '\\n>>>>>>> Deleting Service test-shared-3\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:704 :   kubectl -n octavia-lb-test delete svc test-shared-3\n+ tests/e2e/cloudprovider/test-lb-service.sh:main:812 :   test_shared_user_lb\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:716 :   openstack subnet show private-subnet -f value -c id\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:716 :   subid=690a30ce-7214-42df-9c42-8d53a265d3cc\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:717 :   '[' 0 -ne 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:722 :   printf '\\n>>>>>>> Creating openstack load balancer: --vip-subnet-id 690a30ce-7214-42df-9c42-8d53a265d3cc \\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:723 :   provider_option=\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:724 :   [[ amphora != '' ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:725 :   provider_option=--provider=amphora\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:727 :   openstack loadbalancer create --vip-subnet-id 690a30ce-7214-42df-9c42-8d53a265d3cc --name test_shared_user_lb -f value -c id --provider=amphora\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:727 :   lbID=d29e9d15-5e4a-4317-bfac-57bcb78cf693\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:728 :   '[' 0 -ne 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:732 :   printf '\\n>>>>>>> Waiting for openstack load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 ACTIVE \\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:733 :   wait_for_loadbalancer d29e9d15-5e4a-4317-bfac-57bcb78cf693\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:144 :   local lbid=d29e9d15-5e4a-4317-bfac-57bcb78cf693\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:145 :   local i=0\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:146 :   sleep 5\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   end=1729836989\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=PENDING_CREATE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ PENDING_CREATE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:158 :   i=0\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836701\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836701 -gt 1729836989 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=PENDING_CREATE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ PENDING_CREATE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:158 :   i=0\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836712\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836712 -gt 1729836989 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=PENDING_CREATE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ PENDING_CREATE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:158 :   i=0\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836724\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836724 -gt 1729836989 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=PENDING_CREATE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ PENDING_CREATE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:158 :   i=0\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836736\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836736 -gt 1729836989 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=PENDING_CREATE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ PENDING_CREATE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:158 :   i=0\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836748\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836748 -gt 1729836989 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=PENDING_CREATE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ PENDING_CREATE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:158 :   i=0\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836760\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836760 -gt 1729836989 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 0 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836771\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836771 -gt 1729836989 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 1 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836783\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836783 -gt 1729836989 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 2 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:153 :   printf '\\n>>>>>>> Load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 is ACTIVE\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:154 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:734 :   printf '\\n>>>>>>> Creating openstack load balancer listener \\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:735 :   openstack loadbalancer listener create --protocol HTTP --protocol-port 80 d29e9d15-5e4a-4317-bfac-57bcb78cf693\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:736 :   printf '\\n>>>>>>> Waiting for openstack load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 ACTIVE after creating listener \\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:737 :   wait_for_loadbalancer d29e9d15-5e4a-4317-bfac-57bcb78cf693\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:144 :   local lbid=d29e9d15-5e4a-4317-bfac-57bcb78cf693\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:145 :   local i=0\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:146 :   sleep 5\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   end=1729837092\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 0 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836804\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836804 -gt 1729837092 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 1 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836815\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836815 -gt 1729837092 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 2 == 2 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:153 :   printf '\\n>>>>>>> Load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 is ACTIVE\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:154 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:739 :   printf '\\n>>>>>>> Getting an external network \\n'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:740 :   openstack network list --external -f value -c ID\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:740 :   head -1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:740 :   extNetID=f20abb22-25ad-4555-abad-ae5fd8ecf29e\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:741 :   [[ -z extNetID ]]\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:745 :   openstack floating ip create --tag occm-test -f value -c id f20abb22-25ad-4555-abad-ae5fd8ecf29e\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:745 :   fip=426322d4-97ab-4e74-9dbc-0f2f53ae8177\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:746 :   '[' 0 -ne 0 ']'\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:750 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c vip_port_id\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:750 :   vip=6bef516b-9613-4ca9-afc3-5d3d64dab61e\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:751 :   openstack floating ip set --port 6bef516b-9613-4ca9-afc3-5d3d64dab61e 426322d4-97ab-4e74-9dbc-0f2f53ae8177\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:753 :   local service1=test-shared-user-lb\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:754 :   printf '\\n>>>>>>> Create Service test-shared-user-lb\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:755 :   cat\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:755 :   kubectl apply -f -\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:774 :   printf '\\n>>>>>>> Waiting for the Service test-shared-user-lb creation finished\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:775 :   wait_for_service_address test-shared-user-lb\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-shared-user-lb\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729837127\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-user-lb\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836837\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836837 -gt 1729837127 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-user-lb\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836847\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836847 -gt 1729837127 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-user-lb\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=172.24.5.62\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x172.24.5.62 '!=' x ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-shared-user-lb is created successfully, IP: 172.24.5.62\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=172.24.5.62\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=172.24.5.62\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:777 :   printf '\\n>>>>>>> Checking Service %s annotation\\n' test-shared-user-lb\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:778 :   _check_service_lb_annotation test-shared-user-lb\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:70 :   local svcName=test-shared-user-lb\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:72 :   for i in {1..3}\n+++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:73 :   kubectl -n octavia-lb-test get svc test-shared-user-lb -o 'jsonpath={.metadata.annotations.loadbalancer\\.openstack\\.org/load-balancer-id}'\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:73 :   lbID=d29e9d15-5e4a-4317-bfac-57bcb78cf693\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:74 :   '[' -n d29e9d15-5e4a-4317-bfac-57bcb78cf693 ']'\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:75 :   echo d29e9d15-5e4a-4317-bfac-57bcb78cf693\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:76 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:778 :   lbID=d29e9d15-5e4a-4317-bfac-57bcb78cf693\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:780 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' d29e9d15-5e4a-4317-bfac-57bcb78cf693\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:781 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c tags\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:781 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-user-lb\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:782 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-user-lb\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:782 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-user-lb\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:783 :   _check_lb_tags d29e9d15-5e4a-4317-bfac-57bcb78cf693 test-shared-user-lb kube_service_kubernetes_octavia-lb-test_test-shared-user-lb\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=d29e9d15-5e4a-4317-bfac-57bcb78cf693\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-user-lb\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=kube_service_kubernetes_octavia-lb-test_test-shared-user-lb\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z kube_service_kubernetes_octavia-lb-test_test-shared-user-lb ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-user-lb =~ (^|[[:space:]])kube_service_(.+?)test-shared-user-lb($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:784 :   '[' 0 -ne 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:789 :   printf '\\n>>>>>>> Deleting Service test-shared-user-lb\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:790 :   kubectl -n octavia-lb-test delete svc test-shared-user-lb\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:791 :   printf '\\n>>>>>>> Waiting for Service test-shared-user-lb deleted \\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:792 :   wait_for_service_deleted test-shared-user-lb\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:174 :   local service_name=test-shared-user-lb\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:176 :   date +%s\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:176 :   end=1729837160\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:177 :   true\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:178 :   kubectl -n octavia-lb-test get service\n++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:178 :   grep test-shared-user-lb\nNo resources found in octavia-lb-test namespace.\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:178 :   svc=\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:179 :   [[ x == \\x ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:180 :   printf '\\n>>>>>>> Service test-shared-user-lb deleted\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:181 :   break\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:794 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' d29e9d15-5e4a-4317-bfac-57bcb78cf693\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:795 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c tags\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:795 :   tags=\n++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:796 :   echo\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:796 :   tags=\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:797 :   _check_lb_tags d29e9d15-5e4a-4317-bfac-57bcb78cf693 test-shared-user-lb ''\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=d29e9d15-5e4a-4317-bfac-57bcb78cf693\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-user-lb\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z '' ']'\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:60 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c tags\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:60 :   tags=\n++ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:61 :   echo\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:61 :   tags=\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! '' =~ (^|[[:space:]])kube_service_(.+?)test-shared-user-lb($|[[:space:]]) ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:64 :   return 1\n+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:798 :   '[' 1 -eq 0 ']'\n+ tests/e2e/cloudprovider/test-lb-service.sh:main:1 :   delete_resources\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:24 :   ERROR_CODE=0\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:26 :   [[ true != \\t\\r\\u\\e ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:30 :   printf '\\n>>>>>>> Deleting k8s services\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:31 :   kubectl -n octavia-lb-test get svc -o name\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:31 :   xargs -r kubectl -n octavia-lb-test delete\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:32 :   printf '\\n>>>>>>> Deleting k8s deployments\\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:33 :   kubectl -n octavia-lb-test get deploy -o name\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:33 :   xargs -r kubectl -n octavia-lb-test delete\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:35 :   printf '\\n>>>>>>> Deleting openstack load balancer \\n'\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:36 :   openstack loadbalancer delete test_shared_user_lb --cascade\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:38 :   printf '\\n>>>>>>> Deleting openstack FIPs \\n'\n++ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:39 :   openstack floating ip list --tag occm-test -f value -c ID\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:39 :   fips=426322d4-97ab-4e74-9dbc-0f2f53ae8177\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:40 :   for fip in $fips\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:41 :   openstack floating ip delete 426322d4-97ab-4e74-9dbc-0f2f53ae8177\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:44 :   [[ 0 != \\0 ]]\n+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:50 :   exit 0", "stderr_lines": ["+ TIMEOUT=300", "+ FLOATING_IP=", "+ NAMESPACE=octavia-lb-test", "+ GATEWAY_IP=172.24.5.1", "+ DEVSTACK_OS_RC=/home/stack/devstack/openrc", "+ CLUSTER_TENANT=demo", "+ CLUSTER_USER=demo", "+ LB_SUBNET_NAME=private-subnet", "+ AUTO_CLEAN_UP=true", "+ OCTAVIA_PROVIDER=amphora", "+ trap delete_resources EXIT", "+ create_namespace", "+ printf '\\n>>>>>>> Create Namespace octavia-lb-test\\n'", "+ kubectl -n octavia-lb-test get deploy echoserver", "+ cat", "+ kubectl apply -f -", "+ create_deployment", "+ printf '\\n>>>>>>> Create a Deployment\\n'", "+ cat", "+ kubectl apply -f -", "+ set_openstack_credentials", "+ local XTRACE", "++ set +o", "++ grep xtrace", "+ XTRACE='set -o xtrace'", "+ set +x", "+ tests/e2e/cloudprovider/test-lb-service.sh:main:808 :   test_basic", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:246 :   local service=test-basic", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:248 :   printf '\\n>>>>>>> Create Service test-basic\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:249 :   cat", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:249 :   kubectl apply -f -", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:266 :   printf '\\n>>>>>>> Waiting for the Service test-basic creation finished\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:267 :   wait_for_service_address test-basic", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-basic", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729836354", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836065", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836065 -gt 1729836354 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836075", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836075 -gt 1729836354 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836085", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836085 -gt 1729836354 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836095", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836095 -gt 1729836354 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836106", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836106 -gt 1729836354 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836116", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836116 -gt 1729836354 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836126", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836126 -gt 1729836354 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836136", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836136 -gt 1729836354 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836147", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836147 -gt 1729836354 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836157", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836157 -gt 1729836354 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-basic", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=172.24.5.19", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x172.24.5.19 '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-basic is created successfully, IP: 172.24.5.19\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=172.24.5.19", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=172.24.5.19", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:268 :   wait_address_accessible 172.24.5.19", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:123 :   local addr=172.24.5.19", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:125 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:125 :   end=1729836457", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:126 :   true", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:127 :   curl -sS http://172.24.5.19", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:128 :   '[' 0 -eq 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:129 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:270 :   printf '\\n>>>>>>> Sending request to the Service test-basic\\n'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:271 :   curl -sS http://172.24.5.19", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:271 :   grep Hostname", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:271 :   cut -d ' ' -f2", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:271 :   awk -F: '{print $2}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:271 :   podname=echoserver-f4558797b-bclzg", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:272 :   [[ echoserver-f4558797b-bclzg =~ echoserver ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:273 :   printf '\\n>>>>>>> Expected: Get correct response from Service test-basic\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:280 :   printf '\\n>>>>>>> Delete Service test-basic\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_basic:281 :   kubectl -n octavia-lb-test delete service test-basic", "+ tests/e2e/cloudprovider/test-lb-service.sh:main:809 :   test_forwarded", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:290 :   local service=test-x-forwarded-for", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:291 :   curl -sS ifconfig.me", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:291 :   local public_ip=193.140.88.3", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:292 :   head -1", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:292 :   awk '{print $7}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:292 :   ip route get 8.8.8.8", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:292 :   local local_ip=10.8.129.127", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:294 :   [[ amphora == \\o\\v\\n ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:299 :   printf '\\n>>>>>>> Create the Service test-x-forwarded-for\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:300 :   kubectl apply -f -", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:300 :   cat", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:319 :   printf '\\n>>>>>>> Waiting for the Service test-x-forwarded-for creation finished\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:320 :   wait_for_service_address test-x-forwarded-for", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-x-forwarded-for", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729836467", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836177", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836177 -gt 1729836467 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836188", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836188 -gt 1729836467 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836198", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836198 -gt 1729836467 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836208", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836208 -gt 1729836467 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836218", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836218 -gt 1729836467 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836229", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836229 -gt 1729836467 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836239", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836239 -gt 1729836467 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836249", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836249 -gt 1729836467 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-x-forwarded-for", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=172.24.5.248", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x172.24.5.248 '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-x-forwarded-for is created successfully, IP: 172.24.5.248\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=172.24.5.248", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=172.24.5.248", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:321 :   wait_address_accessible 172.24.5.248", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:123 :   local addr=172.24.5.248", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:125 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:125 :   end=1729836549", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:126 :   true", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:127 :   curl -sS http://172.24.5.248", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:128 :   '[' 0 -eq 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_address_accessible:129 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:323 :   printf '\\n>>>>>>> Sending request to the Service test-x-forwarded-for\\n'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:324 :   grep x-forwarded-for", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:324 :   curl -sS http://172.24.5.248", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:324 :   awk -F= '{print $2}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:324 :   ip_in_header=172.24.5.1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:325 :   [[ 172.24.5.1 != \\1\\0\\.\\8\\.\\1\\2\\9\\.\\1\\2\\7 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:325 :   [[ 172.24.5.1 != \\1\\9\\3\\.\\1\\4\\0\\.\\8\\8\\.\\3 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:325 :   [[ 172.24.5.1 != \\1\\7\\2\\.\\2\\4\\.\\5\\.\\1 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:330 :   printf '\\n>>>>>>> Expected: Get correct response from Service test-x-forwarded-for\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:333 :   printf '\\n>>>>>>> Delete Service test-x-forwarded-for\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_forwarded:334 :   kubectl -n octavia-lb-test delete service test-x-forwarded-for", "+ tests/e2e/cloudprovider/test-lb-service.sh:main:810 :   test_update_port", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:343 :   local service=test-update-port", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:345 :   printf '\\n>>>>>>> Creating Service %s \\n' test-update-port", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:346 :   cat", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:346 :   kubectl apply -f -", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:369 :   printf '\\n>>>>>>> Waiting for the Service %s created \\n' test-update-port", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:370 :   wait_for_service_address test-update-port", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-update-port", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729836559", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836270", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836270 -gt 1729836559 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836280", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836280 -gt 1729836559 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836290", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836290 -gt 1729836559 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836300", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836300 -gt 1729836559 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836310", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836310 -gt 1729836559 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836321", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836321 -gt 1729836559 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836331", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836331 -gt 1729836559 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836341", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836341 -gt 1729836559 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-update-port", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=10.1.0.32", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x10.1.0.32 '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-update-port is created successfully, IP: 10.1.0.32\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=10.1.0.32", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=10.1.0.32", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:372 :   printf '\\n>>>>>>> Validating openstack load balancer \\n'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:373 :   grep octavia-lb-test_test-update-port", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:373 :   openstack loadbalancer list -c id -c name", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:373 :   awk '{print $2}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:373 :   lbid=20b45981-3e76-4782-bdde-9725fd339433", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:374 :   [[ -z 20b45981-3e76-4782-bdde-9725fd339433 ]]", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:378 :   openstack loadbalancer status show 20b45981-3e76-4782-bdde-9725fd339433", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:378 :   lb_info='{", "    \"loadbalancer\": {", "        \"id\": \"20b45981-3e76-4782-bdde-9725fd339433\",", "        \"name\": \"kube_service_kubernetes_octavia-lb-test_test-update-port\",", "        \"operating_status\": \"ONLINE\",", "        \"provisioning_status\": \"ACTIVE\",", "        \"listeners\": [", "            {", "                \"id\": \"6bfd3962-940b-4b92-b699-1f062b86cd79\",", "                \"name\": \"listener_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",", "                \"operating_status\": \"ONLINE\",", "                \"provisioning_status\": \"ACTIVE\",", "                \"pools\": [", "                    {", "                        \"id\": \"8c193a85-2639-4a6b-ab3e-d5b7de5053a2\",", "                        \"name\": \"pool_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",", "                        \"provisioning_status\": \"ACTIVE\",", "                        \"operating_status\": \"ONLINE\",", "                        \"members\": [", "                            {", "                                \"id\": \"ce9416b6-7029-4c76-9c65-cedffd19975c\",", "                                \"name\": \"k3s-master\",", "                                \"operating_status\": \"NO_MONITOR\",", "                                \"provisioning_status\": \"ACTIVE\",", "                                \"address\": \"10.1.0.21\",", "                                \"protocol_port\": 31231", "                            }", "                        ]", "                    }", "                ]", "            },", "            {", "                \"id\": \"e5d6fbfb-4309-417d-a7b5-5687b12506c7\",", "                \"name\": \"listener_1_kube_service_kubernetes_octavia-lb-test_test-update-port\",", "                \"operating_status\": \"ONLINE\",", "                \"provisioning_status\": \"ACTIVE\",", "                \"pools\": [", "                    {", "                        \"id\": \"da046f1d-f9f6-433f-a4c0-a9f36dfb8187\",", "                        \"name\": \"pool_1_kube_service_kubernetes_octavia-lb-test_test-update-port\",", "                        \"provisioning_status\": \"ACTIVE\",", "                        \"operating_status\": \"ONLINE\",", "                        \"members\": [", "                            {", "                                \"id\": \"082896a3-f686-4a2d-9262-75409af6a6f7\",", "                                \"name\": \"k3s-master\",", "                                \"operating_status\": \"NO_MONITOR\",", "                                \"provisioning_status\": \"ACTIVE\",", "                                \"address\": \"10.1.0.21\",", "                                \"protocol_port\": 31137", "                            }", "                        ]", "                    }", "                ]", "            }", "        ]", "    }", "}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:379 :   jq '.loadbalancer.listeners | length'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:379 :   echo '{' '\"loadbalancer\":' '{' '\"id\":' '\"20b45981-3e76-4782-bdde-9725fd339433\",' '\"name\":' '\"kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"listeners\":' '[' '{' '\"id\":' '\"6bfd3962-940b-4b92-b699-1f062b86cd79\",' '\"name\":' '\"listener_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"pools\":' '[' '{' '\"id\":' '\"8c193a85-2639-4a6b-ab3e-d5b7de5053a2\",' '\"name\":' '\"pool_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"operating_status\":' '\"ONLINE\",' '\"members\":' '[' '{' '\"id\":' '\"ce9416b6-7029-4c76-9c65-cedffd19975c\",' '\"name\":' '\"k3s-master\",' '\"operating_status\":' '\"NO_MONITOR\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"address\":' '\"10.1.0.21\",' '\"protocol_port\":' 31231 '}' ']' '}' ']' '},' '{' '\"id\":' '\"e5d6fbfb-4309-417d-a7b5-5687b12506c7\",' '\"name\":' '\"listener_1_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"pools\":' '[' '{' '\"id\":' '\"da046f1d-f9f6-433f-a4c0-a9f36dfb8187\",' '\"name\":' '\"pool_1_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"operating_status\":' '\"ONLINE\",' '\"members\":' '[' '{' '\"id\":' '\"082896a3-f686-4a2d-9262-75409af6a6f7\",' '\"name\":' '\"k3s-master\",' '\"operating_status\":' '\"NO_MONITOR\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"address\":' '\"10.1.0.21\",' '\"protocol_port\":' 31137 '}' ']' '}' ']' '}' ']' '}' '}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:379 :   listener_count=2", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:380 :   echo '{' '\"loadbalancer\":' '{' '\"id\":' '\"20b45981-3e76-4782-bdde-9725fd339433\",' '\"name\":' '\"kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"listeners\":' '[' '{' '\"id\":' '\"6bfd3962-940b-4b92-b699-1f062b86cd79\",' '\"name\":' '\"listener_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"pools\":' '[' '{' '\"id\":' '\"8c193a85-2639-4a6b-ab3e-d5b7de5053a2\",' '\"name\":' '\"pool_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"operating_status\":' '\"ONLINE\",' '\"members\":' '[' '{' '\"id\":' '\"ce9416b6-7029-4c76-9c65-cedffd19975c\",' '\"name\":' '\"k3s-master\",' '\"operating_status\":' '\"NO_MONITOR\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"address\":' '\"10.1.0.21\",' '\"protocol_port\":' 31231 '}' ']' '}' ']' '},' '{' '\"id\":' '\"e5d6fbfb-4309-417d-a7b5-5687b12506c7\",' '\"name\":' '\"listener_1_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"pools\":' '[' '{' '\"id\":' '\"da046f1d-f9f6-433f-a4c0-a9f36dfb8187\",' '\"name\":' '\"pool_1_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"operating_status\":' '\"ONLINE\",' '\"members\":' '[' '{' '\"id\":' '\"082896a3-f686-4a2d-9262-75409af6a6f7\",' '\"name\":' '\"k3s-master\",' '\"operating_status\":' '\"NO_MONITOR\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"address\":' '\"10.1.0.21\",' '\"protocol_port\":' 31137 '}' ']' '}' ']' '}' ']' '}' '}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:380 :   uniq", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:380 :   jq '.loadbalancer.listeners | .[].pools | .[].members | .[].protocol_port'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:380 :   tr '\\n' ' '", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:380 :   member_ports='31231 31137 '", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:381 :   kubectl -n octavia-lb-test get svc test-update-port -o json", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:381 :   jq '.spec.ports | .[].nodePort'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:381 :   tr '\\n' ' '", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:381 :   service_nodeports='31231 31137 '", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:383 :   [[ 2 != 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:387 :   [[ 31231 31137  != \\3\\1\\2\\3\\1\\ \\3\\1\\1\\3\\7\\  ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:393 :   printf '\\n>>>>>>> Expected: NodePorts 31231 31137  before updating service.\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:395 :   printf '\\n>>>>>>> Removing port2 and update NodePort of port1.\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:396 :   kubectl -n octavia-lb-test patch svc test-update-port --type json -p '[{\"op\": \"remove\",\"path\": \"/spec/ports/1\"},{\"op\": \"remove\",\"path\": \"/spec/ports/0/nodePort\"}]'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:398 :   printf '\\n>>>>>>> Waiting for load balancer 20b45981-3e76-4782-bdde-9725fd339433 ACTIVE.\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:399 :   wait_for_loadbalancer 20b45981-3e76-4782-bdde-9725fd339433", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:144 :   local lbid=20b45981-3e76-4782-bdde-9725fd339433", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:145 :   local i=0", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:146 :   sleep 5", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   end=1729836651", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 20b45981-3e76-4782-bdde-9725fd339433 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 0 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836363", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836363 -gt 1729836651 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 20b45981-3e76-4782-bdde-9725fd339433 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 1 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836374", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836374 -gt 1729836651 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 20b45981-3e76-4782-bdde-9725fd339433 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 2 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:153 :   printf '\\n>>>>>>> Load balancer 20b45981-3e76-4782-bdde-9725fd339433 is ACTIVE\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:154 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:401 :   printf '\\n>>>>>>> Validating openstack load balancer after updating the service.\\n'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:402 :   openstack loadbalancer status show 20b45981-3e76-4782-bdde-9725fd339433", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:402 :   lb_info='{", "    \"loadbalancer\": {", "        \"id\": \"20b45981-3e76-4782-bdde-9725fd339433\",", "        \"name\": \"kube_service_kubernetes_octavia-lb-test_test-update-port\",", "        \"operating_status\": \"ONLINE\",", "        \"provisioning_status\": \"ACTIVE\",", "        \"listeners\": [", "            {", "                \"id\": \"6bfd3962-940b-4b92-b699-1f062b86cd79\",", "                \"name\": \"listener_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",", "                \"operating_status\": \"ONLINE\",", "                \"provisioning_status\": \"ACTIVE\",", "                \"pools\": [", "                    {", "                        \"id\": \"8c193a85-2639-4a6b-ab3e-d5b7de5053a2\",", "                        \"name\": \"pool_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",", "                        \"provisioning_status\": \"ACTIVE\",", "                        \"operating_status\": \"ONLINE\",", "                        \"members\": [", "                            {", "                                \"id\": \"ce9416b6-7029-4c76-9c65-cedffd19975c\",", "                                \"name\": \"k3s-master\",", "                                \"operating_status\": \"NO_MONITOR\",", "                                \"provisioning_status\": \"ACTIVE\",", "                                \"address\": \"10.1.0.21\",", "                                \"protocol_port\": 31231", "                            }", "                        ]", "                    }", "                ]", "            }", "        ]", "    }", "}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:403 :   echo '{' '\"loadbalancer\":' '{' '\"id\":' '\"20b45981-3e76-4782-bdde-9725fd339433\",' '\"name\":' '\"kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"listeners\":' '[' '{' '\"id\":' '\"6bfd3962-940b-4b92-b699-1f062b86cd79\",' '\"name\":' '\"listener_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"pools\":' '[' '{' '\"id\":' '\"8c193a85-2639-4a6b-ab3e-d5b7de5053a2\",' '\"name\":' '\"pool_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"operating_status\":' '\"ONLINE\",' '\"members\":' '[' '{' '\"id\":' '\"ce9416b6-7029-4c76-9c65-cedffd19975c\",' '\"name\":' '\"k3s-master\",' '\"operating_status\":' '\"NO_MONITOR\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"address\":' '\"10.1.0.21\",' '\"protocol_port\":' 31231 '}' ']' '}' ']' '}' ']' '}' '}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:403 :   jq '.loadbalancer.listeners | length'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:403 :   listener_count=1", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:404 :   uniq", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:404 :   echo '{' '\"loadbalancer\":' '{' '\"id\":' '\"20b45981-3e76-4782-bdde-9725fd339433\",' '\"name\":' '\"kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"listeners\":' '[' '{' '\"id\":' '\"6bfd3962-940b-4b92-b699-1f062b86cd79\",' '\"name\":' '\"listener_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"operating_status\":' '\"ONLINE\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"pools\":' '[' '{' '\"id\":' '\"8c193a85-2639-4a6b-ab3e-d5b7de5053a2\",' '\"name\":' '\"pool_0_kube_service_kubernetes_octavia-lb-test_test-update-port\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"operating_status\":' '\"ONLINE\",' '\"members\":' '[' '{' '\"id\":' '\"ce9416b6-7029-4c76-9c65-cedffd19975c\",' '\"name\":' '\"k3s-master\",' '\"operating_status\":' '\"NO_MONITOR\",' '\"provisioning_status\":' '\"ACTIVE\",' '\"address\":' '\"10.1.0.21\",' '\"protocol_port\":' 31231 '}' ']' '}' ']' '}' ']' '}' '}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:404 :   jq '.loadbalancer.listeners | .[].pools | .[].members | .[].protocol_port'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:404 :   member_port=31231", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:405 :   kubectl -n octavia-lb-test get svc test-update-port -o json", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:405 :   jq '.spec.ports | .[].nodePort'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:405 :   service_nodeport=31231", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:407 :   [[ 1 != 1 ]]", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:411 :   echo 31231", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:411 :   wc -l", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:411 :   [[ 1 != 1 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:415 :   [[ 31231 != 31231 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:419 :   [[ 31231 == 31231 31137  ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:424 :   printf '\\n>>>>>>> Expected: NodePort 31231 after updating service.\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:426 :   printf '\\n>>>>>>> Deleting Service test-update-port\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_update_port:427 :   kubectl -n octavia-lb-test delete service test-update-port", "+ tests/e2e/cloudprovider/test-lb-service.sh:main:811 :   test_shared_lb", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:444 :   local service1=test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:445 :   printf '\\n>>>>>>> Create Service test-shared-1\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:446 :   kubectl apply -f -", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:446 :   cat", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:464 :   printf '\\n>>>>>>> Waiting for the Service %s creation finished \\n' test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:465 :   wait_for_service_address test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729836685", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836396", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836396 -gt 1729836685 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836406", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836406 -gt 1729836685 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836416", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836416 -gt 1729836685 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836426", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836426 -gt 1729836685 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836437", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836437 -gt 1729836685 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836447", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836447 -gt 1729836685 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836457", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836457 -gt 1729836685 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836467", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836467 -gt 1729836685 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=172.24.5.161", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x172.24.5.161 '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-shared-1 is created successfully, IP: 172.24.5.161\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=172.24.5.161", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=172.24.5.161", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:467 :   printf '\\n>>>>>>> Checking Service %s annotation\\n' test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:468 :   _check_service_lb_annotation test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:70 :   local svcName=test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:72 :   for i in {1..3}", "+++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:73 :   kubectl -n octavia-lb-test get svc test-shared-1 -o 'jsonpath={.metadata.annotations.loadbalancer\\.openstack\\.org/load-balancer-id}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:73 :   lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:74 :   '[' -n 771ca77a-a3c7-457d-8855-0442a174ff2d ']'", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:75 :   echo 771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:76 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:468 :   lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:470 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:471 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:471 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:472 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:472 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:473 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=kube_service_kubernetes_octavia-lb-test_test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z kube_service_kubernetes_octavia-lb-test_test-shared-1 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 =~ (^|[[:space:]])kube_service_(.+?)test-shared-1($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:474 :   '[' 0 -ne 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:479 :   service2=test-shared-2", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:480 :   printf '\\n>>>>>>> Create Service test-shared-2\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:481 :   cat", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:481 :   kubectl apply -f -", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:500 :   printf '\\n>>>>>>> Waiting for the Service test-shared-2 creation finished\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:501 :   wait_for_service_address test-shared-2", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-shared-2", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729836770", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-2", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836480", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836480 -gt 1729836770 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-2", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836490", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836490 -gt 1729836770 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-2", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=172.24.5.161", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x172.24.5.161 '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-shared-2 is created successfully, IP: 172.24.5.161\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=172.24.5.161", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=172.24.5.161", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:503 :   printf '\\n>>>>>>> Checking Service %s annotation\\n' test-shared-2", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:504 :   _check_service_lb_annotation test-shared-2", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:70 :   local svcName=test-shared-2", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:72 :   for i in {1..3}", "+++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:73 :   kubectl -n octavia-lb-test get svc test-shared-2 -o 'jsonpath={.metadata.annotations.loadbalancer\\.openstack\\.org/load-balancer-id}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:73 :   lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:74 :   '[' -n 771ca77a-a3c7-457d-8855-0442a174ff2d ']'", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:75 :   echo 771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:76 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:504 :   svc2lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:505 :   [[ 771ca77a-a3c7-457d-8855-0442a174ff2d != \\7\\7\\1\\c\\a\\7\\7\\a\\-\\a\\3\\c\\7\\-\\4\\5\\7\\d\\-\\8\\8\\5\\5\\-\\0\\4\\4\\2\\a\\1\\7\\4\\f\\f\\2\\d ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:511 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:512 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:512 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1", "kube_service_kubernetes_octavia-lb-test_test-shared-2'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:513 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:513 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:514 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-1 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2' ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2 =~ (^|[[:space:]])kube_service_(.+?)test-shared-1($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:515 :   '[' 0 -ne 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:519 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-2 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-2", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2' ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-2 =~ (^|[[:space:]])kube_service_(.+?)test-shared-2($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:520 :   '[' 0 -ne 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:525 :   service2=test-shared-2", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:526 :   printf '\\n>>>>>>> Updating Service test-shared-2 port\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:527 :   cat", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:527 :   kubectl apply -f -", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:546 :   printf '\\n>>>>>>> Waiting for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d update finished\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:547 :   wait_for_loadbalancer 771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:144 :   local lbid=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:145 :   local i=0", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:146 :   sleep 5", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   end=1729836798", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 0 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836510", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836510 -gt 1729836798 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 1 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836522", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836522 -gt 1729836798 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 2 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:153 :   printf '\\n>>>>>>> Load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d is ACTIVE\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:154 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:549 :   printf '\\n>>>>>>> Checking the listener number for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d\\n'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:550 :   openstack loadbalancer status show 771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:550 :   jq '.loadbalancer.listeners | length'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:550 :   listenerNum=2", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:551 :   [[ 2 != 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:556 :   printf '\\n>>>>>>> Deleting Service test-shared-2\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:557 :   kubectl -n octavia-lb-test delete svc test-shared-2", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:559 :   printf '\\n>>>>>>> Waiting for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d updated\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:560 :   wait_for_loadbalancer 771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:144 :   local lbid=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:145 :   local i=0", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:146 :   sleep 5", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   end=1729836842", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 0 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836554", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836554 -gt 1729836842 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 1 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836566", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836566 -gt 1729836842 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 2 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:153 :   printf '\\n>>>>>>> Load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d is ACTIVE\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:154 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:562 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:563 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:563 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-1", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:564 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:564 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:565 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=kube_service_kubernetes_octavia-lb-test_test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z kube_service_kubernetes_octavia-lb-test_test-shared-1 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 =~ (^|[[:space:]])kube_service_(.+?)test-shared-1($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:566 :   '[' 0 -ne 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:570 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-2 kube_service_kubernetes_octavia-lb-test_test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-2", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=kube_service_kubernetes_octavia-lb-test_test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z kube_service_kubernetes_octavia-lb-test_test-shared-1 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 =~ (^|[[:space:]])kube_service_(.+?)test-shared-2($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:64 :   return 1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:571 :   '[' 1 -eq 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:576 :   printf '\\n>>>>>>> Checking the listener number for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d\\n'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:577 :   openstack loadbalancer status show 771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:577 :   jq '.loadbalancer.listeners | length'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:577 :   listenerNum=1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:578 :   [[ 1 != 1 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:583 :   service3=test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:584 :   printf '\\n>>>>>>> Creating Service test-shared-3\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:585 :   cat", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:585 :   kubectl apply -f -", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:604 :   printf '\\n>>>>>>> Waiting for the Service test-shared-3 creation finished \\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:605 :   wait_for_service_address test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-shared-3", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729836872", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-3", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836582", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836582 -gt 1729836872 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-3", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836592", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836592 -gt 1729836872 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-3", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836603", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836603 -gt 1729836872 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-3", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=172.24.5.161", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x172.24.5.161 '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-shared-3 is created successfully, IP: 172.24.5.161\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=172.24.5.161", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=172.24.5.161", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:607 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:608 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:608 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1", "kube_service_kubernetes_octavia-lb-test_test-shared-3'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:609 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:609 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:610 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-3 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3' ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-3($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:611 :   '[' 0 -ne 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:616 :   service4=test-shared-4", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:617 :   printf '\\n>>>>>>> Creating Service test-shared-4 with port collision \\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:618 :   cat", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:618 :   kubectl apply -f -", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:637 :   sleep 10", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:639 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:640 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:640 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1", "kube_service_kubernetes_octavia-lb-test_test-shared-3'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:641 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:641 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:642 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-1 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3' ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-1($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:643 :   '[' 0 -ne 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:647 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-3 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3' ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-3($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:648 :   '[' 0 -ne 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:652 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-4 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-4", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3' ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-4($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:64 :   return 1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:653 :   '[' 1 -eq 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:658 :   printf '\\n>>>>>>> Deleting Service test-shared-4\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:659 :   kubectl -n octavia-lb-test delete svc test-shared-4", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:660 :   sleep 5", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:662 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:663 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:663 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1", "kube_service_kubernetes_octavia-lb-test_test-shared-3'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:664 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:664 :   tags='kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:665 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-1 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3' ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-1($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:666 :   '[' 0 -ne 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:670 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-3 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local 'tags=kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z 'kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3' ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-3($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:671 :   '[' 0 -ne 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:676 :   printf '\\n>>>>>>> Deleting Service test-shared-1\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:677 :   kubectl -n octavia-lb-test delete svc test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:679 :   printf '\\n>>>>>>> Waiting for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d update finished\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:680 :   wait_for_loadbalancer 771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:144 :   local lbid=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:145 :   local i=0", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:146 :   sleep 5", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   end=1729836939", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 0 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836651", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836651 -gt 1729836939 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 1 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836663", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836663 -gt 1729836939 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 2 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:153 :   printf '\\n>>>>>>> Load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d is ACTIVE\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:154 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:682 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' 771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:683 :   openstack loadbalancer show 771ca77a-a3c7-457d-8855-0442a174ff2d -f value -c tags", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:683 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-3", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:684 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:684 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:685 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-1 kube_service_kubernetes_octavia-lb-test_test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-1", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=kube_service_kubernetes_octavia-lb-test_test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z kube_service_kubernetes_octavia-lb-test_test-shared-3 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-1($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:64 :   return 1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:686 :   '[' 1 -eq 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:690 :   _check_lb_tags 771ca77a-a3c7-457d-8855-0442a174ff2d test-shared-3 kube_service_kubernetes_octavia-lb-test_test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=771ca77a-a3c7-457d-8855-0442a174ff2d", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=kube_service_kubernetes_octavia-lb-test_test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z kube_service_kubernetes_octavia-lb-test_test-shared-3 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-3 =~ (^|[[:space:]])kube_service_(.+?)test-shared-3($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:691 :   '[' 0 -ne 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:696 :   printf '\\n>>>>>>> Checking the listener number for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d\\n'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:697 :   openstack loadbalancer status show 771ca77a-a3c7-457d-8855-0442a174ff2d", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:697 :   jq '.loadbalancer.listeners | length'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:697 :   listenerNum=1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:698 :   [[ 1 != 1 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:703 :   printf '\\n>>>>>>> Deleting Service test-shared-3\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_lb:704 :   kubectl -n octavia-lb-test delete svc test-shared-3", "+ tests/e2e/cloudprovider/test-lb-service.sh:main:812 :   test_shared_user_lb", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:716 :   openstack subnet show private-subnet -f value -c id", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:716 :   subid=690a30ce-7214-42df-9c42-8d53a265d3cc", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:717 :   '[' 0 -ne 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:722 :   printf '\\n>>>>>>> Creating openstack load balancer: --vip-subnet-id 690a30ce-7214-42df-9c42-8d53a265d3cc \\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:723 :   provider_option=", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:724 :   [[ amphora != '' ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:725 :   provider_option=--provider=amphora", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:727 :   openstack loadbalancer create --vip-subnet-id 690a30ce-7214-42df-9c42-8d53a265d3cc --name test_shared_user_lb -f value -c id --provider=amphora", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:727 :   lbID=d29e9d15-5e4a-4317-bfac-57bcb78cf693", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:728 :   '[' 0 -ne 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:732 :   printf '\\n>>>>>>> Waiting for openstack load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 ACTIVE \\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:733 :   wait_for_loadbalancer d29e9d15-5e4a-4317-bfac-57bcb78cf693", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:144 :   local lbid=d29e9d15-5e4a-4317-bfac-57bcb78cf693", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:145 :   local i=0", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:146 :   sleep 5", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   end=1729836989", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=PENDING_CREATE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ PENDING_CREATE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:158 :   i=0", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836701", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836701 -gt 1729836989 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=PENDING_CREATE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ PENDING_CREATE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:158 :   i=0", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836712", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836712 -gt 1729836989 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=PENDING_CREATE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ PENDING_CREATE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:158 :   i=0", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836724", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836724 -gt 1729836989 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=PENDING_CREATE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ PENDING_CREATE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:158 :   i=0", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836736", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836736 -gt 1729836989 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=PENDING_CREATE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ PENDING_CREATE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:158 :   i=0", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836748", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836748 -gt 1729836989 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=PENDING_CREATE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ PENDING_CREATE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:158 :   i=0", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836760", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836760 -gt 1729836989 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 0 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836771", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836771 -gt 1729836989 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 1 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836783", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836783 -gt 1729836989 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 2 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:153 :   printf '\\n>>>>>>> Load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 is ACTIVE\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:154 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:734 :   printf '\\n>>>>>>> Creating openstack load balancer listener \\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:735 :   openstack loadbalancer listener create --protocol HTTP --protocol-port 80 d29e9d15-5e4a-4317-bfac-57bcb78cf693", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:736 :   printf '\\n>>>>>>> Waiting for openstack load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 ACTIVE after creating listener \\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:737 :   wait_for_loadbalancer d29e9d15-5e4a-4317-bfac-57bcb78cf693", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:144 :   local lbid=d29e9d15-5e4a-4317-bfac-57bcb78cf693", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:145 :   local i=0", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:146 :   sleep 5", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:148 :   end=1729837092", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 0 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836804", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836804 -gt 1729837092 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 1 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:156 :   let i++", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:161 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:162 :   now=1729836815", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:163 :   '[' 1729836815 -gt 1729837092 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:149 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c provisioning_status", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:150 :   status=ACTIVE", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:151 :   [[ ACTIVE == \\A\\C\\T\\I\\V\\E ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:152 :   [[ 2 == 2 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:153 :   printf '\\n>>>>>>> Load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 is ACTIVE\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_loadbalancer:154 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:739 :   printf '\\n>>>>>>> Getting an external network \\n'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:740 :   openstack network list --external -f value -c ID", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:740 :   head -1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:740 :   extNetID=f20abb22-25ad-4555-abad-ae5fd8ecf29e", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:741 :   [[ -z extNetID ]]", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:745 :   openstack floating ip create --tag occm-test -f value -c id f20abb22-25ad-4555-abad-ae5fd8ecf29e", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:745 :   fip=426322d4-97ab-4e74-9dbc-0f2f53ae8177", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:746 :   '[' 0 -ne 0 ']'", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:750 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c vip_port_id", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:750 :   vip=6bef516b-9613-4ca9-afc3-5d3d64dab61e", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:751 :   openstack floating ip set --port 6bef516b-9613-4ca9-afc3-5d3d64dab61e 426322d4-97ab-4e74-9dbc-0f2f53ae8177", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:753 :   local service1=test-shared-user-lb", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:754 :   printf '\\n>>>>>>> Create Service test-shared-user-lb\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:755 :   cat", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:755 :   kubectl apply -f -", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:774 :   printf '\\n>>>>>>> Waiting for the Service test-shared-user-lb creation finished\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:775 :   wait_for_service_address test-shared-user-lb", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:100 :   local service_name=test-shared-user-lb", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:102 :   end=1729837127", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-user-lb", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836837", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836837 -gt 1729837127 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-user-lb", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:110 :   sleep 10", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:111 :   now=1729836847", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:112 :   '[' 1729836847 -gt 1729837127 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:103 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   kubectl -n octavia-lb-test describe service test-shared-user-lb", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   grep 'LoadBalancer Ingress'", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   awk '{print $3}'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:104 :   ipaddr=172.24.5.62", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:105 :   '[' x172.24.5.62 '!=' x ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:106 :   printf '\\n>>>>>>> Service test-shared-user-lb is created successfully, IP: 172.24.5.62\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   export ipaddr=172.24.5.62", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:107 :   ipaddr=172.24.5.62", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_address:108 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:777 :   printf '\\n>>>>>>> Checking Service %s annotation\\n' test-shared-user-lb", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:778 :   _check_service_lb_annotation test-shared-user-lb", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:70 :   local svcName=test-shared-user-lb", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:72 :   for i in {1..3}", "+++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:73 :   kubectl -n octavia-lb-test get svc test-shared-user-lb -o 'jsonpath={.metadata.annotations.loadbalancer\\.openstack\\.org/load-balancer-id}'", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:73 :   lbID=d29e9d15-5e4a-4317-bfac-57bcb78cf693", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:74 :   '[' -n d29e9d15-5e4a-4317-bfac-57bcb78cf693 ']'", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:75 :   echo d29e9d15-5e4a-4317-bfac-57bcb78cf693", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_service_lb_annotation:76 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:778 :   lbID=d29e9d15-5e4a-4317-bfac-57bcb78cf693", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:780 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' d29e9d15-5e4a-4317-bfac-57bcb78cf693", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:781 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c tags", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:781 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-user-lb", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:782 :   echo kube_service_kubernetes_octavia-lb-test_test-shared-user-lb", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:782 :   tags=kube_service_kubernetes_octavia-lb-test_test-shared-user-lb", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:783 :   _check_lb_tags d29e9d15-5e4a-4317-bfac-57bcb78cf693 test-shared-user-lb kube_service_kubernetes_octavia-lb-test_test-shared-user-lb", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=d29e9d15-5e4a-4317-bfac-57bcb78cf693", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-user-lb", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=kube_service_kubernetes_octavia-lb-test_test-shared-user-lb", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z kube_service_kubernetes_octavia-lb-test_test-shared-user-lb ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! kube_service_kubernetes_octavia-lb-test_test-shared-user-lb =~ (^|[[:space:]])kube_service_(.+?)test-shared-user-lb($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:66 :   return 0", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:784 :   '[' 0 -ne 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:789 :   printf '\\n>>>>>>> Deleting Service test-shared-user-lb\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:790 :   kubectl -n octavia-lb-test delete svc test-shared-user-lb", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:791 :   printf '\\n>>>>>>> Waiting for Service test-shared-user-lb deleted \\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:792 :   wait_for_service_deleted test-shared-user-lb", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:174 :   local service_name=test-shared-user-lb", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:176 :   date +%s", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:176 :   end=1729837160", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:177 :   true", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:178 :   kubectl -n octavia-lb-test get service", "++ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:178 :   grep test-shared-user-lb", "No resources found in octavia-lb-test namespace.", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:178 :   svc=", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:179 :   [[ x == \\x ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:180 :   printf '\\n>>>>>>> Service test-shared-user-lb deleted\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:wait_for_service_deleted:181 :   break", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:794 :   printf '\\n>>>>>>> Validating tags of openstack load balancer %s \\n' d29e9d15-5e4a-4317-bfac-57bcb78cf693", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:795 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c tags", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:795 :   tags=", "++ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:796 :   echo", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:796 :   tags=", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:797 :   _check_lb_tags d29e9d15-5e4a-4317-bfac-57bcb78cf693 test-shared-user-lb ''", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:55 :   local lbID=d29e9d15-5e4a-4317-bfac-57bcb78cf693", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:56 :   local svcName=test-shared-user-lb", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:57 :   local tags=", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:59 :   '[' -z '' ']'", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:60 :   openstack loadbalancer show d29e9d15-5e4a-4317-bfac-57bcb78cf693 -f value -c tags", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:60 :   tags=", "++ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:61 :   echo", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:61 :   tags=", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:63 :   [[ ! '' =~ (^|[[:space:]])kube_service_(.+?)test-shared-user-lb($|[[:space:]]) ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:_check_lb_tags:64 :   return 1", "+ tests/e2e/cloudprovider/test-lb-service.sh:test_shared_user_lb:798 :   '[' 1 -eq 0 ']'", "+ tests/e2e/cloudprovider/test-lb-service.sh:main:1 :   delete_resources", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:24 :   ERROR_CODE=0", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:26 :   [[ true != \\t\\r\\u\\e ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:30 :   printf '\\n>>>>>>> Deleting k8s services\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:31 :   kubectl -n octavia-lb-test get svc -o name", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:31 :   xargs -r kubectl -n octavia-lb-test delete", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:32 :   printf '\\n>>>>>>> Deleting k8s deployments\\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:33 :   kubectl -n octavia-lb-test get deploy -o name", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:33 :   xargs -r kubectl -n octavia-lb-test delete", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:35 :   printf '\\n>>>>>>> Deleting openstack load balancer \\n'", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:36 :   openstack loadbalancer delete test_shared_user_lb --cascade", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:38 :   printf '\\n>>>>>>> Deleting openstack FIPs \\n'", "++ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:39 :   openstack floating ip list --tag occm-test -f value -c ID", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:39 :   fips=426322d4-97ab-4e74-9dbc-0f2f53ae8177", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:40 :   for fip in $fips", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:41 :   openstack floating ip delete 426322d4-97ab-4e74-9dbc-0f2f53ae8177", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:44 :   [[ 0 != \\0 ]]", "+ tests/e2e/cloudprovider/test-lb-service.sh:delete_resources:50 :   exit 0"], "stdout": "\n>>>>>>> Create Namespace octavia-lb-test\nnamespace/octavia-lb-test unchanged\n\n>>>>>>> Create a Deployment\ndeployment.apps/echoserver created\nWARNING: setting legacy OS_TENANT_NAME to support cli tools.\n\n>>>>>>> Create Service test-basic\nservice/test-basic created\n\n>>>>>>> Waiting for the Service test-basic creation finished\n\n>>>>>>> Service test-basic is created successfully, IP: 172.24.5.19\n\n\nHostname: echoserver-f4558797b-bclzg\n\nPod Information:\n\t-no pod information available-\n\nServer values:\n\tserver_version=nginx: 1.13.3 - lua: 10008\n\nRequest Information:\n\tclient_address=10.42.0.1\n\tmethod=GET\n\treal path=/\n\tquery=\n\trequest_version=1.1\n\trequest_scheme=http\n\trequest_uri=http://172.24.5.19:8080/\n\nRequest Headers:\n\taccept=*/*\n\thost=172.24.5.19\n\tuser-agent=curl/7.81.0\n\nRequest Body:\n\t-no body in request-\n\n\n>>>>>>> Sending request to the Service test-basic\n\n>>>>>>> Expected: Get correct response from Service test-basic\n\n>>>>>>> Delete Service test-basic\nservice \"test-basic\" deleted\n\n>>>>>>> Create the Service test-x-forwarded-for\nservice/test-x-forwarded-for created\n\n>>>>>>> Waiting for the Service test-x-forwarded-for creation finished\n\n>>>>>>> Service test-x-forwarded-for is created successfully, IP: 172.24.5.248\n\n\nHostname: echoserver-f4558797b-bclzg\n\nPod Information:\n\t-no pod information available-\n\nServer values:\n\tserver_version=nginx: 1.13.3 - lua: 10008\n\nRequest Information:\n\tclient_address=10.42.0.1\n\tmethod=GET\n\treal path=/\n\tquery=\n\trequest_version=1.1\n\trequest_scheme=http\n\trequest_uri=http://172.24.5.248:8080/\n\nRequest Headers:\n\taccept=*/*\n\thost=172.24.5.248\n\tuser-agent=curl/7.81.0\n\tx-forwarded-for=172.24.5.1\n\nRequest Body:\n\t-no body in request-\n\n\n>>>>>>> Sending request to the Service test-x-forwarded-for\n\n>>>>>>> Expected: Get correct response from Service test-x-forwarded-for\n\n>>>>>>> Delete Service test-x-forwarded-for\nservice \"test-x-forwarded-for\" deleted\n\n>>>>>>> Creating Service test-update-port \nservice/test-update-port created\n\n>>>>>>> Waiting for the Service test-update-port created \n\n>>>>>>> Service test-update-port is created successfully, IP: 10.1.0.32\n\n>>>>>>> Validating openstack load balancer \n\n>>>>>>> Expected: NodePorts 31231 31137  before updating service.\n\n>>>>>>> Removing port2 and update NodePort of port1.\nservice/test-update-port patched\n\n>>>>>>> Waiting for load balancer 20b45981-3e76-4782-bdde-9725fd339433 ACTIVE.\n\n>>>>>>> Load balancer 20b45981-3e76-4782-bdde-9725fd339433 is ACTIVE\n\n>>>>>>> Validating openstack load balancer after updating the service.\n\n>>>>>>> Expected: NodePort 31231 after updating service.\n\n>>>>>>> Deleting Service test-update-port\nservice \"test-update-port\" deleted\n\n>>>>>>> Create Service test-shared-1\nservice/test-shared-1 created\n\n>>>>>>> Waiting for the Service test-shared-1 creation finished \n\n>>>>>>> Service test-shared-1 is created successfully, IP: 172.24.5.161\n\n>>>>>>> Checking Service test-shared-1 annotation\n\n>>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d \n\n>>>>>>> Create Service test-shared-2\nservice/test-shared-2 created\n\n>>>>>>> Waiting for the Service test-shared-2 creation finished\n\n>>>>>>> Service test-shared-2 is created successfully, IP: 172.24.5.161\n\n>>>>>>> Checking Service test-shared-2 annotation\n\n>>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d \n\n>>>>>>> Updating Service test-shared-2 port\nservice/test-shared-2 configured\n\n>>>>>>> Waiting for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d update finished\n\n>>>>>>> Load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d is ACTIVE\n\n>>>>>>> Checking the listener number for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d\n\n>>>>>>> Deleting Service test-shared-2\nservice \"test-shared-2\" deleted\n\n>>>>>>> Waiting for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d updated\n\n>>>>>>> Load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d is ACTIVE\n\n>>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d \n\n>>>>>>> Checking the listener number for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d\n\n>>>>>>> Creating Service test-shared-3\nservice/test-shared-3 created\n\n>>>>>>> Waiting for the Service test-shared-3 creation finished \n\n>>>>>>> Service test-shared-3 is created successfully, IP: 172.24.5.161\n\n>>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d \n\n>>>>>>> Creating Service test-shared-4 with port collision \nservice/test-shared-4 created\n\n>>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d \n\n>>>>>>> Deleting Service test-shared-4\nservice \"test-shared-4\" deleted\n\n>>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d \n\n>>>>>>> Deleting Service test-shared-1\nservice \"test-shared-1\" deleted\n\n>>>>>>> Waiting for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d update finished\n\n>>>>>>> Load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d is ACTIVE\n\n>>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d \n\n>>>>>>> Checking the listener number for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d\n\n>>>>>>> Deleting Service test-shared-3\nservice \"test-shared-3\" deleted\n\n>>>>>>> Creating openstack load balancer: --vip-subnet-id 690a30ce-7214-42df-9c42-8d53a265d3cc \n\n>>>>>>> Waiting for openstack load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 ACTIVE \n\n>>>>>>> Load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 is ACTIVE\n\n>>>>>>> Creating openstack load balancer listener \n+-----------------------------+--------------------------------------+\n| Field                       | Value                                |\n+-----------------------------+--------------------------------------+\n| admin_state_up              | True                                 |\n| connection_limit            | -1                                   |\n| created_at                  | 2024-10-25T06:13:07                  |\n| default_pool_id             | None                                 |\n| default_tls_container_ref   | None                                 |\n| description                 |                                      |\n| id                          | 33dcaeaa-9673-4de4-8ddf-b8543246d942 |\n| insert_headers              | None                                 |\n| l7policies                  |                                      |\n| loadbalancers               | d29e9d15-5e4a-4317-bfac-57bcb78cf693 |\n| name                        |                                      |\n| operating_status            | OFFLINE                              |\n| project_id                  | 5d1424c01a264ddbae28945058bdd3f6     |\n| protocol                    | HTTP                                 |\n| protocol_port               | 80                                   |\n| provisioning_status         | PENDING_CREATE                       |\n| sni_container_refs          | []                                   |\n| timeout_client_data         | 50000                                |\n| timeout_member_connect      | 5000                                 |\n| timeout_member_data         | 50000                                |\n| timeout_tcp_inspect         | 0                                    |\n| updated_at                  | None                                 |\n| client_ca_tls_container_ref | None                                 |\n| client_authentication       | NONE                                 |\n| client_crl_container_ref    | None                                 |\n| allowed_cidrs               | None                                 |\n| tls_ciphers                 | None                                 |\n| tls_versions                | None                                 |\n| alpn_protocols              | None                                 |\n| tags                        |                                      |\n| hsts_max_age                |                                      |\n| hsts_include_subdomains     |                                      |\n| hsts_preload                |                                      |\n+-----------------------------+--------------------------------------+\n\n>>>>>>> Waiting for openstack load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 ACTIVE after creating listener \n\n>>>>>>> Load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 is ACTIVE\n\n>>>>>>> Getting an external network \n\n>>>>>>> Create Service test-shared-user-lb\nservice/test-shared-user-lb created\n\n>>>>>>> Waiting for the Service test-shared-user-lb creation finished\n\n>>>>>>> Service test-shared-user-lb is created successfully, IP: 172.24.5.62\n\n>>>>>>> Checking Service test-shared-user-lb annotation\n\n>>>>>>> Validating tags of openstack load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 \n\n>>>>>>> Deleting Service test-shared-user-lb\nservice \"test-shared-user-lb\" deleted\n\n>>>>>>> Waiting for Service test-shared-user-lb deleted \n\n>>>>>>> Service test-shared-user-lb deleted\n\n>>>>>>> Validating tags of openstack load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 \n\n>>>>>>> Deleting k8s services\n\n>>>>>>> Deleting k8s deployments\ndeployment.apps \"echoserver\" deleted\n\n>>>>>>> Deleting openstack load balancer \n\n>>>>>>> Deleting openstack FIPs ", "stdout_lines": ["", ">>>>>>> Create Namespace octavia-lb-test", "namespace/octavia-lb-test unchanged", "", ">>>>>>> Create a Deployment", "deployment.apps/echoserver created", "WARNING: setting legacy OS_TENANT_NAME to support cli tools.", "", ">>>>>>> Create Service test-basic", "service/test-basic created", "", ">>>>>>> Waiting for the Service test-basic creation finished", "", ">>>>>>> Service test-basic is created successfully, IP: 172.24.5.19", "", "", "Hostname: echoserver-f4558797b-bclzg", "", "Pod Information:", "\t-no pod information available-", "", "Server values:", "\tserver_version=nginx: 1.13.3 - lua: 10008", "", "Request Information:", "\tclient_address=10.42.0.1", "\tmethod=GET", "\treal path=/", "\tquery=", "\trequest_version=1.1", "\trequest_scheme=http", "\trequest_uri=http://172.24.5.19:8080/", "", "Request Headers:", "\taccept=*/*", "\thost=172.24.5.19", "\tuser-agent=curl/7.81.0", "", "Request Body:", "\t-no body in request-", "", "", ">>>>>>> Sending request to the Service test-basic", "", ">>>>>>> Expected: Get correct response from Service test-basic", "", ">>>>>>> Delete Service test-basic", "service \"test-basic\" deleted", "", ">>>>>>> Create the Service test-x-forwarded-for", "service/test-x-forwarded-for created", "", ">>>>>>> Waiting for the Service test-x-forwarded-for creation finished", "", ">>>>>>> Service test-x-forwarded-for is created successfully, IP: 172.24.5.248", "", "", "Hostname: echoserver-f4558797b-bclzg", "", "Pod Information:", "\t-no pod information available-", "", "Server values:", "\tserver_version=nginx: 1.13.3 - lua: 10008", "", "Request Information:", "\tclient_address=10.42.0.1", "\tmethod=GET", "\treal path=/", "\tquery=", "\trequest_version=1.1", "\trequest_scheme=http", "\trequest_uri=http://172.24.5.248:8080/", "", "Request Headers:", "\taccept=*/*", "\thost=172.24.5.248", "\tuser-agent=curl/7.81.0", "\tx-forwarded-for=172.24.5.1", "", "Request Body:", "\t-no body in request-", "", "", ">>>>>>> Sending request to the Service test-x-forwarded-for", "", ">>>>>>> Expected: Get correct response from Service test-x-forwarded-for", "", ">>>>>>> Delete Service test-x-forwarded-for", "service \"test-x-forwarded-for\" deleted", "", ">>>>>>> Creating Service test-update-port ", "service/test-update-port created", "", ">>>>>>> Waiting for the Service test-update-port created ", "", ">>>>>>> Service test-update-port is created successfully, IP: 10.1.0.32", "", ">>>>>>> Validating openstack load balancer ", "", ">>>>>>> Expected: NodePorts 31231 31137  before updating service.", "", ">>>>>>> Removing port2 and update NodePort of port1.", "service/test-update-port patched", "", ">>>>>>> Waiting for load balancer 20b45981-3e76-4782-bdde-9725fd339433 ACTIVE.", "", ">>>>>>> Load balancer 20b45981-3e76-4782-bdde-9725fd339433 is ACTIVE", "", ">>>>>>> Validating openstack load balancer after updating the service.", "", ">>>>>>> Expected: NodePort 31231 after updating service.", "", ">>>>>>> Deleting Service test-update-port", "service \"test-update-port\" deleted", "", ">>>>>>> Create Service test-shared-1", "service/test-shared-1 created", "", ">>>>>>> Waiting for the Service test-shared-1 creation finished ", "", ">>>>>>> Service test-shared-1 is created successfully, IP: 172.24.5.161", "", ">>>>>>> Checking Service test-shared-1 annotation", "", ">>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d ", "", ">>>>>>> Create Service test-shared-2", "service/test-shared-2 created", "", ">>>>>>> Waiting for the Service test-shared-2 creation finished", "", ">>>>>>> Service test-shared-2 is created successfully, IP: 172.24.5.161", "", ">>>>>>> Checking Service test-shared-2 annotation", "", ">>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d ", "", ">>>>>>> Updating Service test-shared-2 port", "service/test-shared-2 configured", "", ">>>>>>> Waiting for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d update finished", "", ">>>>>>> Load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d is ACTIVE", "", ">>>>>>> Checking the listener number for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d", "", ">>>>>>> Deleting Service test-shared-2", "service \"test-shared-2\" deleted", "", ">>>>>>> Waiting for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d updated", "", ">>>>>>> Load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d is ACTIVE", "", ">>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d ", "", ">>>>>>> Checking the listener number for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d", "", ">>>>>>> Creating Service test-shared-3", "service/test-shared-3 created", "", ">>>>>>> Waiting for the Service test-shared-3 creation finished ", "", ">>>>>>> Service test-shared-3 is created successfully, IP: 172.24.5.161", "", ">>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d ", "", ">>>>>>> Creating Service test-shared-4 with port collision ", "service/test-shared-4 created", "", ">>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d ", "", ">>>>>>> Deleting Service test-shared-4", "service \"test-shared-4\" deleted", "", ">>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d ", "", ">>>>>>> Deleting Service test-shared-1", "service \"test-shared-1\" deleted", "", ">>>>>>> Waiting for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d update finished", "", ">>>>>>> Load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d is ACTIVE", "", ">>>>>>> Validating tags of openstack load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d ", "", ">>>>>>> Checking the listener number for the load balancer 771ca77a-a3c7-457d-8855-0442a174ff2d", "", ">>>>>>> Deleting Service test-shared-3", "service \"test-shared-3\" deleted", "", ">>>>>>> Creating openstack load balancer: --vip-subnet-id 690a30ce-7214-42df-9c42-8d53a265d3cc ", "", ">>>>>>> Waiting for openstack load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 ACTIVE ", "", ">>>>>>> Load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 is ACTIVE", "", ">>>>>>> Creating openstack load balancer listener ", "+-----------------------------+--------------------------------------+", "| Field                       | Value                                |", "+-----------------------------+--------------------------------------+", "| admin_state_up              | True                                 |", "| connection_limit            | -1                                   |", "| created_at                  | 2024-10-25T06:13:07                  |", "| default_pool_id             | None                                 |", "| default_tls_container_ref   | None                                 |", "| description                 |                                      |", "| id                          | 33dcaeaa-9673-4de4-8ddf-b8543246d942 |", "| insert_headers              | None                                 |", "| l7policies                  |                                      |", "| loadbalancers               | d29e9d15-5e4a-4317-bfac-57bcb78cf693 |", "| name                        |                                      |", "| operating_status            | OFFLINE                              |", "| project_id                  | 5d1424c01a264ddbae28945058bdd3f6     |", "| protocol                    | HTTP                                 |", "| protocol_port               | 80                                   |", "| provisioning_status         | PENDING_CREATE                       |", "| sni_container_refs          | []                                   |", "| timeout_client_data         | 50000                                |", "| timeout_member_connect      | 5000                                 |", "| timeout_member_data         | 50000                                |", "| timeout_tcp_inspect         | 0                                    |", "| updated_at                  | None                                 |", "| client_ca_tls_container_ref | None                                 |", "| client_authentication       | NONE                                 |", "| client_crl_container_ref    | None                                 |", "| allowed_cidrs               | None                                 |", "| tls_ciphers                 | None                                 |", "| tls_versions                | None                                 |", "| alpn_protocols              | None                                 |", "| tags                        |                                      |", "| hsts_max_age                |                                      |", "| hsts_include_subdomains     |                                      |", "| hsts_preload                |                                      |", "+-----------------------------+--------------------------------------+", "", ">>>>>>> Waiting for openstack load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 ACTIVE after creating listener ", "", ">>>>>>> Load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 is ACTIVE", "", ">>>>>>> Getting an external network ", "", ">>>>>>> Create Service test-shared-user-lb", "service/test-shared-user-lb created", "", ">>>>>>> Waiting for the Service test-shared-user-lb creation finished", "", ">>>>>>> Service test-shared-user-lb is created successfully, IP: 172.24.5.62", "", ">>>>>>> Checking Service test-shared-user-lb annotation", "", ">>>>>>> Validating tags of openstack load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 ", "", ">>>>>>> Deleting Service test-shared-user-lb", "service \"test-shared-user-lb\" deleted", "", ">>>>>>> Waiting for Service test-shared-user-lb deleted ", "", ">>>>>>> Service test-shared-user-lb deleted", "", ">>>>>>> Validating tags of openstack load balancer d29e9d15-5e4a-4317-bfac-57bcb78cf693 ", "", ">>>>>>> Deleting k8s services", "", ">>>>>>> Deleting k8s deployments", "deployment.apps \"echoserver\" deleted", "", ">>>>>>> Deleting openstack load balancer ", "", ">>>>>>> Deleting openstack FIPs "]}

TASK [install-cpo-occm : Show openstack-cloud-controller-manager pod logs] ******************************************************************************************************************************************************
skipping: [10.8.129.127] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-cpo-occm : Show Octavia logs] *************************************************************************************************************************************************************************************
skipping: [10.8.129.127] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-cpo-occm : Show Neutron logs] *************************************************************************************************************************************************************************************
skipping: [10.8.129.127] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [install-cpo-occm : Stop due to prior failure of tests] ********************************************************************************************************************************************************************
skipping: [10.8.129.127] => {"changed": false, "skip_reason": "Conditional result was False"}

PLAY RECAP **********************************************************************************************************************************************************************************************************************
10.8.129.127               : ok=39   changed=19   unreachable=0    failed=0    skipped=22   rescued=0    ignored=0   